!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8dc433ce-8a83-4dce-a892-b3ef01444755",e._sentryDebugIdIdentifier="sentry-dbid-8dc433ce-8a83-4dce-a892-b3ef01444755")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{16:(e,t,n)=>{"use strict";n.d(t,{Rr:()=>x,A2:()=>I,VJ:()=>C,Q6:()=>A,JK:()=>E,Wb:()=>T,a5:()=>k});var r=n(8778),i=n(144),s=n(957),a=n(4185),o=n(8966),l=n(565),u=n(7132),c=n(3870),d=n(6168),h=n(6924),p=n(8345),f=n(7982),g=n(7090),m=n(7664),v=n(3091);let y={log:"log",configuration:"configuration",usage:"usage"},_=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],b=[o.R8],w=(0,v.O)(),S=e=>{w.add(()=>S(e))};function k(e,t){let n;let r=new l.c,i=new Set,s=!b.includes(t.site)&&(0,h.ic)(t.telemetrySampleRate),o={[y.log]:s,[y.configuration]:s&&(0,h.ic)(t.telemetryConfigurationSampleRate),[y.usage]:s&&(0,h.ic)(t.telemetryUsageSampleRate)},g={is_local_file:"file:"===window.location.protocol,is_worker:"WorkerGlobalScope"in self};return S=s=>{let l=(0,p.s)(s);if(o[s.type]&&i.size<t.maxTelemetryEventsPerPage&&!i.has(l)){var c,h,v;let t=(c=e,h=s,v=g,(0,f.kg)({type:"telemetry",date:(0,u.nx)(),service:c,version:"6.2.1",source:"browser",_dd:{format_version:2},telemetry:(0,f.kg)(h,{runtime_env:v,connectivity:(0,m.q)(),sdk_setup:"npm"}),experimental_features:Array.from((0,a.q7)())},void 0!==n?n():{}));r.notify(t),(0,d.b)("telemetry",t),i.add(l)}},(0,c.Bd)(C),{setContextProvider:e=>{n=e},observable:r,enabled:s}}function E(){w.drain()}function T(e){return e.site===o.Bb}function I(e,t){(0,c.oO)(r.bP.debug,e,t),S({type:y.log,message:e,status:"debug",...t})}function C(e,t){S({type:y.log,status:"error",...function(e){if((0,i.bJ)(e)){var t;let n=(0,g.T)(e);return{error:{kind:n.name,stack:(0,s.Yn)(((t=n).stack=t.stack.filter(e=>!e.url||_.some(t=>e.url.startsWith(t))),t))},message:n.message}}return{error:{stack:i.e6},message:`Uncaught ${(0,p.s)(e)}`}}(e),...t})}function x(e){S({type:y.configuration,configuration:e})}function A(e){S({type:y.usage,usage:e})}},87:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StableID=void 0;let r=n(3556),i=n(1414),s=n(6435),a=n(4462),o={};function l(e){return`statsig.stable_id.${(0,r._getStorageKey)(e)}`}function u(e,t){let n=l(t);try{(0,s._setObjectInStorage)(n,e)}catch(e){i.Log.warn("Failed to save StableID")}}t.StableID={get:e=>{if(null==o[e]){let t=function(e){let t=l(e);return(0,s._getObjectFromStorage)(t)}(e);null==t&&u(t=(0,a.getUUID)(),e),o[e]=t}return o[e]},setOverride:(e,t)=>{o[t]=e,u(e,t)}}},115:(e,t,n)=>{"use strict";n.d(t,{Ww:()=>s,Y9:()=>i,d0:()=>a});var r=n(4960);function i(){let e=(0,r.V)().DatadogEventBridge;if(e)return{getCapabilities(){var t;return JSON.parse((null===(t=e.getCapabilities)||void 0===t?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return null===(t=e.getPrivacyLevel)||void 0===t?void 0:t.call(e)},getAllowedWebViewHosts:()=>JSON.parse(e.getAllowedWebViewHosts()),send(t,n,r){e.send(JSON.stringify({eventType:t,event:n,view:r?{id:r}:void 0}))}}}function s(e){let t=i();return!!t&&t.getCapabilities().includes(e)}function a(e){var t;void 0===e&&(e=null===(t=(0,r.V)().location)||void 0===t?void 0:t.hostname);let n=i();return!!n&&n.getAllowedWebViewHosts().some(t=>e===t||e.endsWith(`.${t}`))}},120:(e,t,n)=>{"use strict";n.d(t,{Ce:()=>m,GS:()=>l,HF:()=>g,W4:()=>h,my:()=>u,pO:()=>c,sp:()=>d});var r=n(2845),i=n(8051),s=n(2419),a=n(5587),o=n(1742);function l(e,t,n){if(!(t in e))return;let r=e[t],s=n(r);"function"==typeof s&&c(s,r);try{e[t]=s}catch(n){i.T&&a.vF.log(`Failed to replace method "${t}" in object`,e)}}function u(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){i.T&&a.vF.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c(e,t){try{let n=t.prototype||{};e.prototype=t.prototype=n,u(e,"__sentry_original__",t)}catch(e){}}function d(e){return e.__sentry_original__}function h(e){if((0,s.bJ)(e))return{message:e.message,name:e.name,stack:e.stack,...f(e)};if(!(0,s.xH)(e))return e;{let t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...f(e)};return"undefined"!=typeof CustomEvent&&(0,s.tH)(e,CustomEvent)&&(t.detail=e.detail),t}}function p(e){try{return(0,s.vq)(e)?(0,r.Hd)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function f(e){if("object"!=typeof e||null===e)return{};{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}function g(e,t=40){let n=Object.keys(h(e));n.sort();let r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return(0,o.xv)(r,t);for(let e=n.length;e>0;e--){let r=n.slice(0,e).join(", ");if(!(r.length>t)){if(e===n.length)return r;return(0,o.xv)(r,t)}}return""}function m(e){return function e(t,n){if(function(e){if(!(0,s.Qd)(e))return!1;try{let t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(t)){let r=n.get(t);if(void 0!==r)return r;let i={};for(let r of(n.set(t,i),Object.getOwnPropertyNames(t)))void 0!==t[r]&&(i[r]=e(t[r],n));return i}if(Array.isArray(t)){let r=n.get(t);if(void 0!==r)return r;let i=[];return n.set(t,i),t.forEach(t=>{i.push(e(t,n))}),i}return t}(e,new Map)}},126:(e,t,n)=>{"use strict";n.d(t,{A:()=>J});let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function i(e,t){return e=e>0?parseInt(e/t.oldMax*t.newMax,10):parseInt(e/t.oldMin*t.newMin,10)}function s(e,t){return parseInt(e>0?e*t.newMax:e*t.newMin,10)}function a(e,t){return e>0?e/t.oldMax:e/t.oldMin}function o(e){if("32f"!=e&&"64"!=e&&("8">parseInt(e,10)||parseInt(e,10)>"53"))throw Error("Invalid bit depth.")}function l(e,t,n){if("8"==e){let e=n?-128:128;for(let n=0,r=t.length;n<r;n++)t[n]=t[n]+=e}}let u=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],c=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function d(e,t){var n,r,i;let s=e-t.predicted,a=0;s>=0?a=0:(a=8,s=-s);let o=c[t.index],l=o>>3;return s>o&&(a|=4,s-=o,l+=o),s>(o>>=1)&&(a|=2,s-=o,l+=o),s>(o>>=1)&&(a|=1,l+=o),n=a,r=l,i=t,8&n?i.predicted-=r:i.predicted+=r,i.predicted<-32768?i.predicted=-32768:i.predicted>32767&&(i.predicted=32767),i.index+=u[7&n],i.index<0?i.index=0:i.index>88&&(i.index=88),a}function h(e,t){var n,r;let i=0;return 4&e&&(i+=t.step),2&e&&(i+=t.step>>1),1&e&&(i+=t.step>>2),i+=t.step>>3,8&e&&(i=-i),t.predicted+=i,t.predicted>32767?t.predicted=32767:t.predicted<-32767&&(t.predicted=-32767),n=e,r=t,r.index+=u[n],r.index<0?r.index=0:r.index>88&&(r.index=88),r.step=c[r.index],t.predicted}let p=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],f=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],g=[0,132,396,924,1980,4092,8316,16764];function m(e,t,n=0,r=e.length){for(let i=n;i<r;i+=t)(function(e,t,n){t--;for(let r=0;r<t;r++){let i=e[n+r];e[n+r]=e[n+t],e[n+t]=i,t--}})(e,t,i)}function v(e,t,n=0){let r=0,i=e.length;for(;r<i;){let i=e.codePointAt(r);if(i<128)t[n]=i,n++;else{let e=0,s=0;for(i<=2047?(e=1,s=192):i<=65535?(e=2,s=224):i<=1114111&&(e=3,s=240,r++),t[n]=(i>>6*e)+s,n++;e>0;)t[n]=128|i>>6*(e-1)&63,n++,e--}r++}return n}class y{constructor(e,t=!1){this.bits=e,this.offset=Math.ceil(e/8),this.max=Math.pow(2,e)-1,this.min=0,this.unpack=this.unpack_,t&&(this.max=Math.pow(2,e)/2-1,this.min=-this.max-1,this.unpack=this.unpackSigned_)}pack(e,t,n=0){t=this.clamp_(Math.round(t));for(let r=0,i=this.offset;r<i;r++)e[n]=255&Math.floor(t/Math.pow(2,8*r)),n++;return n}unpack_(e,t=0){let n=0;for(let r=0;r<this.offset;r++)n+=e[t+r]*Math.pow(256,r);return n}unpackSigned_(e,t=0){return this.sign_(this.unpack_(e,t))}clamp_(e){return e>this.max?this.max:e<this.min?this.min:e}sign_(e){return e>this.max&&(e-=2*this.max+2),e}}class _{constructor(e,t){this.offset=Math.ceil((e+t)/8),this.ebits=e,this.fbits=t,this.bias=(1<<e-1)-1,this.biasP2=Math.pow(2,this.bias+1),this.ebitsFbits=e+t,this.fbias=Math.pow(2,-(8*this.offset-1-e))}pack(e,t,n){Math.abs(t)>this.biasP2-2*this.ebitsFbits&&(t=t<0?-1/0:1/0);let r=0>((t*=1)||1/t)?1:+(t<0),i=Math.min(Math.floor(Math.log(t=Math.abs(t))/Math.LN2),1023),s=b(t/Math.pow(2,i)*Math.pow(2,this.fbits));return t!=t?(s=Math.pow(2,this.fbits-1),i=(1<<this.ebits)-1):0!==t&&(t>=Math.pow(2,1-this.bias)?(s/Math.pow(2,this.fbits)>=2&&(i+=1,s=1),i>this.bias?(i=(1<<this.ebits)-1,s=0):(i+=this.bias,s=b(s)-Math.pow(2,this.fbits))):(s=b(t/Math.pow(2,1-this.bias-this.fbits)),i=0)),this.packFloatBits_(e,n,r,i,s)}unpack(e,t){let n,r=(1<<this.ebits)-1,i="";for(let n=this.offset-1;n>=0;n--){let r=e[n+t].toString(2);i+="00000000".substring(r.length)+r}let s="1"==i.charAt(0)?-1:1,a=parseInt((i=i.substring(1)).substring(0,this.ebits),2);return(i=i.substring(this.ebits),a==r)?0!==parseInt(i,2)?NaN:1/0*s:(0===a?(a+=1,n=parseInt(i,2)):n=parseInt("1"+i,2),s*n*this.fbias*Math.pow(2,a-this.bias))}packFloatBits_(e,t,n,r,i){let s=[];s.push(n);for(let e=this.ebits;e>0;e-=1)s[e]=r%2?1:0,r=Math.floor(r/2);let a=s.length;for(let e=this.fbits;e>0;e-=1)s[a+e]=i%2?1:0,i=Math.floor(i/2);let o=s.join(""),l=this.offset+t-1,u=t;for(;l>=t;)e[l]=parseInt(o.substring(0,8),2),o=o.substring(8),l--,u++;return u}}function b(e){let t=Math.floor(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}function w(e,t=0,n=e.length){return function(e,t=0,n=e.length){let r="";for(let i=t;i<n;){let t=128,n=191,s=!1,a=e[i++];if(a>=0&&a<=127)r+=String.fromCharCode(a);else{let o=0;a>=194&&a<=223?o=1:a>=224&&a<=239?(o=2,224===e[i]&&(t=160),237===e[i]&&(n=159)):a>=240&&a<=244?(o=3,240===e[i]&&(t=144),244===e[i]&&(n=143)):s=!0,a&=(1<<8-o-1)-1;for(let r=0;r<o;r++)(e[i]<t||e[i]>n)&&(s=!0),a=a<<6|63&e[i],i++;s?r+=String.fromCharCode(65533):a<=65535?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode((a>>10&1023)+55296,(1023&a)+56320))}}return r}(e,t,n)}function S(e){let t=[];return v(e,t),t}function k(e,t,n=0){return v(e,t,n)}function E(e,t,n,r=0){let i=M((t=t||{}).bits,t.fp,t.signed),s=Math.ceil(t.bits/8),a=0,o=r;for(let t=e.length;a<t;a++)r=i.pack(n,e[a],r);return t.be&&m(n,s,o,r),r}function T(e,t,n,r=0,i=e.length){var s,a,o;let l=M((t=t||{}).bits,t.fp,t.signed);if(s=0,a=r,i=(o=i)-(o-a)%l.offset,t.be){let s=new Uint8Array(e);t.be&&m(s,l.offset,r,i),A(s,n,r,i,l)}else A(e,n,r,i,l)}function I(e,t,n,r=0){return E([e],t,n,r)}function C(e,t){let n=[];return I(e,t,n,0),n}function x(e,t,n=0){let r=[];return T(e,t,r,n,n+Math.ceil(t.bits/8)),r[0]}function A(e,t,n,r,i){let s=i.offset;for(let a=0,o=n;o<r;o+=s,a++)t[a]=i.unpack(e,o)}function M(e,t,n){return t&&32==e?new _(8,23):t&&64==e?new _(11,52):new y(e,n)}class O{constructor(){this.container="",this.chunkSize=0,this.format="",this.signature=null,this.head=0,this.uInt32={bits:32,be:!1},this.supported_containers=["RIFF","RIFX"]}setSignature(e){if(this.head=0,this.container=this.readString(e,4),-1===this.supported_containers.indexOf(this.container))throw Error("Not a supported format.");this.uInt32.be="RIFX"===this.container,this.chunkSize=this.readUInt32(e),this.format=this.readString(e,4),this.signature={chunkId:this.container,chunkSize:this.chunkSize,format:this.format,subChunks:this.getSubChunksIndex_(e)}}findChunk(e,t=!1){let n=this.signature.subChunks,r=[];for(let i=0;i<n.length;i++)if(n[i].chunkId==e){if(!t)return n[i];r.push(n[i])}return"LIST"==e&&r.length?r:null}readString(e,t){let n="";return n=w(e,this.head,this.head+t),this.head+=t,n}readUInt32(e){let t=x(e,this.uInt32,this.head);return this.head+=4,t}getSubChunksIndex_(e){let t=[],n=this.head;for(;n<=e.length-8;)t.push(this.getSubChunkIndex_(e,n)),n+=8+t[t.length-1].chunkSize,n=n%2?n+1:n;return t}getSubChunkIndex_(e,t){let n={chunkId:this.getChunkId_(e,t),chunkSize:this.getChunkSize_(e,t)};if("LIST"==n.chunkId)n.format=w(e,t+8,t+12),this.head+=4,n.subChunks=this.getSubChunksIndex_(e);else{let e=n.chunkSize%2?n.chunkSize+1:n.chunkSize;this.head=t+8+e,n.chunkData={start:t+8,end:this.head}}return n}getChunkId_(e,t){return this.head+=4,w(e,t,t+4)}getChunkSize_(e,t){return this.head+=4,x(e,this.uInt32,t+4)}}class R extends O{constructor(){super(),this.supported_containers.push("RF64"),this.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]},this.fact={chunkId:"",chunkSize:0,dwSampleLength:0},this.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]},this.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]},this.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""},this.iXML={chunkId:"",chunkSize:0,value:""},this.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0},this.data={chunkId:"",chunkSize:0,samples:new Uint8Array(0)},this.LIST=[],this.junk={chunkId:"",chunkSize:0,chunkData:[]},this._PMX={chunkId:"",chunkSize:0,value:""},this.uInt16={bits:16,be:!1,signed:!1,fp:!1}}fromBuffer(e,t=!0){if(this.clearHeaders(),this.setSignature(e),this.uInt16.be=this.uInt32.be,"WAVE"!=this.format)throw Error('Could not find the "WAVE" format identifier');this.readDs64Chunk_(e),this.readFmtChunk_(e),this.readFactChunk_(e),this.readBextChunk_(e),this.readiXMLChunk_(e),this.readCueChunk_(e),this.readSmplChunk_(e),this.readDataChunk_(e,t),this.readJunkChunk_(e),this.readLISTChunk_(e),this.read_PMXChunk_(e)}clearHeaders(){let e=new R;Object.assign(this.fmt,e.fmt),Object.assign(this.fact,e.fact),Object.assign(this.cue,e.cue),Object.assign(this.smpl,e.smpl),Object.assign(this.bext,e.bext),Object.assign(this.iXML,e.iXML),Object.assign(this.ds64,e.ds64),Object.assign(this.data,e.data),this.LIST=[],Object.assign(this.junk,e.junk),Object.assign(this._PMX,e._PMX)}readFmtChunk_(e){let t=this.findChunk("fmt ");if(t)this.head=t.chunkData.start,this.fmt.chunkId=t.chunkId,this.fmt.chunkSize=t.chunkSize,this.fmt.audioFormat=this.readUInt16_(e),this.fmt.numChannels=this.readUInt16_(e),this.fmt.sampleRate=this.readUInt32(e),this.fmt.byteRate=this.readUInt32(e),this.fmt.blockAlign=this.readUInt16_(e),this.fmt.bitsPerSample=this.readUInt16_(e),this.readFmtExtension_(e);else throw Error('Could not find the "fmt " chunk')}readFmtExtension_(e){this.fmt.chunkSize>16&&(this.fmt.cbSize=this.readUInt16_(e),this.fmt.chunkSize>18&&(this.fmt.validBitsPerSample=this.readUInt16_(e),this.fmt.chunkSize>20&&(this.fmt.dwChannelMask=this.readUInt32(e),this.fmt.subformat=[this.readUInt32(e),this.readUInt32(e),this.readUInt32(e),this.readUInt32(e)])))}readFactChunk_(e){let t=this.findChunk("fact");t&&(this.head=t.chunkData.start,this.fact.chunkId=t.chunkId,this.fact.chunkSize=t.chunkSize,this.fact.dwSampleLength=this.readUInt32(e))}readCueChunk_(e){let t=this.findChunk("cue ");if(t){this.head=t.chunkData.start,this.cue.chunkId=t.chunkId,this.cue.chunkSize=t.chunkSize,this.cue.dwCuePoints=this.readUInt32(e);for(let t=0;t<this.cue.dwCuePoints;t++)this.cue.points.push({dwName:this.readUInt32(e),dwPosition:this.readUInt32(e),fccChunk:this.readString(e,4),dwChunkStart:this.readUInt32(e),dwBlockStart:this.readUInt32(e),dwSampleOffset:this.readUInt32(e)})}}readSmplChunk_(e){let t=this.findChunk("smpl");if(t){this.head=t.chunkData.start,this.smpl.chunkId=t.chunkId,this.smpl.chunkSize=t.chunkSize,this.smpl.dwManufacturer=this.readUInt32(e),this.smpl.dwProduct=this.readUInt32(e),this.smpl.dwSamplePeriod=this.readUInt32(e),this.smpl.dwMIDIUnityNote=this.readUInt32(e),this.smpl.dwMIDIPitchFraction=this.readUInt32(e),this.smpl.dwSMPTEFormat=this.readUInt32(e),this.smpl.dwSMPTEOffset=this.readUInt32(e),this.smpl.dwNumSampleLoops=this.readUInt32(e),this.smpl.dwSamplerData=this.readUInt32(e);for(let t=0;t<this.smpl.dwNumSampleLoops;t++)this.smpl.loops.push({dwName:this.readUInt32(e),dwType:this.readUInt32(e),dwStart:this.readUInt32(e),dwEnd:this.readUInt32(e),dwFraction:this.readUInt32(e),dwPlayCount:this.readUInt32(e)})}}readDataChunk_(e,t){let n=this.findChunk("data");if(n)this.data.chunkId="data",this.data.chunkSize=n.chunkSize,t&&(this.data.samples=e.slice(n.chunkData.start,n.chunkData.end));else throw Error('Could not find the "data" chunk')}readBextChunk_(e){let t=this.findChunk("bext");t&&(this.head=t.chunkData.start,this.bext.chunkId=t.chunkId,this.bext.chunkSize=t.chunkSize,this.bext.description=this.readString(e,256),this.bext.originator=this.readString(e,32),this.bext.originatorReference=this.readString(e,32),this.bext.originationDate=this.readString(e,10),this.bext.originationTime=this.readString(e,8),this.bext.timeReference=[this.readUInt32(e),this.readUInt32(e)],this.bext.version=this.readUInt16_(e),this.bext.UMID=this.readString(e,64),this.bext.loudnessValue=this.readUInt16_(e),this.bext.loudnessRange=this.readUInt16_(e),this.bext.maxTruePeakLevel=this.readUInt16_(e),this.bext.maxMomentaryLoudness=this.readUInt16_(e),this.bext.maxShortTermLoudness=this.readUInt16_(e),this.bext.reserved=this.readString(e,180),this.bext.codingHistory=this.readString(e,this.bext.chunkSize-602))}readiXMLChunk_(e){let t=this.findChunk("iXML");t&&(this.head=t.chunkData.start,this.iXML.chunkId=t.chunkId,this.iXML.chunkSize=t.chunkSize,this.iXML.value=w(e,this.head,this.head+this.iXML.chunkSize))}readDs64Chunk_(e){let t=this.findChunk("ds64");if(t)this.head=t.chunkData.start,this.ds64.chunkId=t.chunkId,this.ds64.chunkSize=t.chunkSize,this.ds64.riffSizeHigh=this.readUInt32(e),this.ds64.riffSizeLow=this.readUInt32(e),this.ds64.dataSizeHigh=this.readUInt32(e),this.ds64.dataSizeLow=this.readUInt32(e),this.ds64.originationTime=this.readUInt32(e),this.ds64.sampleCountHigh=this.readUInt32(e),this.ds64.sampleCountLow=this.readUInt32(e);else if("RF64"==this.container)throw Error('Could not find the "ds64" chunk')}readLISTChunk_(e){let t=this.findChunk("LIST",!0);if(null!==t)for(let n=0;n<t.length;n++){let r=t[n];this.LIST.push({chunkId:r.chunkId,chunkSize:r.chunkSize,format:r.format,subChunks:[]});for(let t=0;t<r.subChunks.length;t++)this.readLISTSubChunks_(r.subChunks[t],r.format,e)}}readLISTSubChunks_(e,t,n){"adtl"==t?["labl","note","ltxt"].indexOf(e.chunkId)>-1&&this.readLISTadtlSubChunks_(n,e):"INFO"==t&&this.readLISTINFOSubChunks_(n,e)}readLISTadtlSubChunks_(e,t){this.head=t.chunkData.start;let n={chunkId:t.chunkId,chunkSize:t.chunkSize,dwName:this.readUInt32(e)};"ltxt"==t.chunkId?(n.dwSampleLength=this.readUInt32(e),n.dwPurposeID=this.readUInt32(e),n.dwCountry=this.readUInt16_(e),n.dwLanguage=this.readUInt16_(e),n.dwDialect=this.readUInt16_(e),n.dwCodePage=this.readUInt16_(e),n.value=""):n.value=this.readZSTR_(e,this.head),this.LIST[this.LIST.length-1].subChunks.push(n)}readLISTINFOSubChunks_(e,t){this.head=t.chunkData.start,this.LIST[this.LIST.length-1].subChunks.push({chunkId:t.chunkId,chunkSize:t.chunkSize,value:this.readZSTR_(e,this.head)})}readJunkChunk_(e){let t=this.findChunk("junk");t&&(this.junk={chunkId:t.chunkId,chunkSize:t.chunkSize,chunkData:[].slice.call(e.slice(t.chunkData.start,t.chunkData.end))})}read_PMXChunk_(e){let t=this.findChunk("_PMX");t&&(this.head=t.chunkData.start,this._PMX.chunkId=t.chunkId,this._PMX.chunkSize=t.chunkSize,this._PMX.value=w(e,this.head,this.head+this._PMX.chunkSize))}readZSTR_(e,t=0){for(let n=t;n<e.length&&(this.head++,0!==e[n]);n++);return w(e,t,this.head-1)}readUInt16_(e){let t=x(e,this.uInt16,this.head);return this.head+=2,t}}function P(e,t){let n=S(e);for(let e=n.length;e<t;e++)n.push(0);return n}class D extends R{toBuffer(){this.uInt16.be="RIFX"===this.container,this.uInt32.be=this.uInt16.be;let e=[this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getiXMLBytes_(),this.getFmtBytes_(),this.getFactBytes_(),S(this.data.chunkId),C(this.data.samples.length,this.uInt32),this.data.samples,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_(),this.get_PMXBytes_()],t=0;for(let n=0;n<e.length;n++)t+=e[n].length;let n=new Uint8Array(t+12),r=0;r=k(this.container,n,r),r=I(t+4,this.uInt32,n,r),r=k(this.format,n,r);for(let t=0;t<e.length;t++)n.set(e[t],r),r+=e[t].length;return n}getBextBytes_(){let e=[];return this.enforceBext_(),this.bext.chunkId&&(this.bext.chunkSize=602+this.bext.codingHistory.length,e=e.concat(S(this.bext.chunkId),C(602+this.bext.codingHistory.length,this.uInt32),P(this.bext.description,256),P(this.bext.originator,32),P(this.bext.originatorReference,32),P(this.bext.originationDate,10),P(this.bext.originationTime,8),C(this.bext.timeReference[0],this.uInt32),C(this.bext.timeReference[1],this.uInt32),C(this.bext.version,this.uInt16),P(this.bext.UMID,64),C(this.bext.loudnessValue,this.uInt16),C(this.bext.loudnessRange,this.uInt16),C(this.bext.maxTruePeakLevel,this.uInt16),C(this.bext.maxMomentaryLoudness,this.uInt16),C(this.bext.maxShortTermLoudness,this.uInt16),P(this.bext.reserved,180),P(this.bext.codingHistory,this.bext.codingHistory.length))),this.enforceByteLen_(e),e}enforceBext_(){for(let e in this.bext)if(this.bext.hasOwnProperty(e)&&this.bext[e]&&"timeReference"!=e){this.bext.chunkId="bext";break}(this.bext.timeReference[0]||this.bext.timeReference[1])&&(this.bext.chunkId="bext")}getiXMLBytes_(){let e=[];if(this.iXML.chunkId){let t=S(this.iXML.value);this.iXML.chunkSize=t.length,e=e.concat(S(this.iXML.chunkId),C(this.iXML.chunkSize,this.uInt32),t)}return this.enforceByteLen_(e),e}getDs64Bytes_(){let e=[];return this.ds64.chunkId&&(e=e.concat(S(this.ds64.chunkId),C(this.ds64.chunkSize,this.uInt32),C(this.ds64.riffSizeHigh,this.uInt32),C(this.ds64.riffSizeLow,this.uInt32),C(this.ds64.dataSizeHigh,this.uInt32),C(this.ds64.dataSizeLow,this.uInt32),C(this.ds64.originationTime,this.uInt32),C(this.ds64.sampleCountHigh,this.uInt32),C(this.ds64.sampleCountLow,this.uInt32))),this.enforceByteLen_(e),e}getCueBytes_(){let e=[];if(this.cue.chunkId){let t=this.getCuePointsBytes_();e=e.concat(S(this.cue.chunkId),C(t.length+4,this.uInt32),C(this.cue.dwCuePoints,this.uInt32),t)}return this.enforceByteLen_(e),e}getCuePointsBytes_(){let e=[];for(let t=0;t<this.cue.dwCuePoints;t++)e=e.concat(C(this.cue.points[t].dwName,this.uInt32),C(this.cue.points[t].dwPosition,this.uInt32),S(this.cue.points[t].fccChunk),C(this.cue.points[t].dwChunkStart,this.uInt32),C(this.cue.points[t].dwBlockStart,this.uInt32),C(this.cue.points[t].dwSampleOffset,this.uInt32));return e}getSmplBytes_(){let e=[];if(this.smpl.chunkId){let t=this.getSmplLoopsBytes_();e=e.concat(S(this.smpl.chunkId),C(t.length+36,this.uInt32),C(this.smpl.dwManufacturer,this.uInt32),C(this.smpl.dwProduct,this.uInt32),C(this.smpl.dwSamplePeriod,this.uInt32),C(this.smpl.dwMIDIUnityNote,this.uInt32),C(this.smpl.dwMIDIPitchFraction,this.uInt32),C(this.smpl.dwSMPTEFormat,this.uInt32),C(this.smpl.dwSMPTEOffset,this.uInt32),C(this.smpl.dwNumSampleLoops,this.uInt32),C(this.smpl.dwSamplerData,this.uInt32),t)}return this.enforceByteLen_(e),e}getSmplLoopsBytes_(){let e=[];for(let t=0;t<this.smpl.dwNumSampleLoops;t++)e=e.concat(C(this.smpl.loops[t].dwName,this.uInt32),C(this.smpl.loops[t].dwType,this.uInt32),C(this.smpl.loops[t].dwStart,this.uInt32),C(this.smpl.loops[t].dwEnd,this.uInt32),C(this.smpl.loops[t].dwFraction,this.uInt32),C(this.smpl.loops[t].dwPlayCount,this.uInt32));return e}getFactBytes_(){let e=[];return this.fact.chunkId&&(e=e.concat(S(this.fact.chunkId),C(this.fact.chunkSize,this.uInt32),C(this.fact.dwSampleLength,this.uInt32))),this.enforceByteLen_(e),e}getFmtBytes_(){if(this.fmt.chunkId){let e=[].concat(S(this.fmt.chunkId),C(this.fmt.chunkSize,this.uInt32),C(this.fmt.audioFormat,this.uInt16),C(this.fmt.numChannels,this.uInt16),C(this.fmt.sampleRate,this.uInt32),C(this.fmt.byteRate,this.uInt32),C(this.fmt.blockAlign,this.uInt16),C(this.fmt.bitsPerSample,this.uInt16),this.getFmtExtensionBytes_());return this.enforceByteLen_(e),e}throw Error('Could not find the "fmt " chunk')}getFmtExtensionBytes_(){let e=[];return this.fmt.chunkSize>16&&(e=e.concat(C(this.fmt.cbSize,this.uInt16))),this.fmt.chunkSize>18&&(e=e.concat(C(this.fmt.validBitsPerSample,this.uInt16))),this.fmt.chunkSize>20&&(e=e.concat(C(this.fmt.dwChannelMask,this.uInt32))),this.fmt.chunkSize>24&&(e=e.concat(C(this.fmt.subformat[0],this.uInt32),C(this.fmt.subformat[1],this.uInt32),C(this.fmt.subformat[2],this.uInt32),C(this.fmt.subformat[3],this.uInt32))),e}getLISTBytes_(){let e=[];for(let t=0;t<this.LIST.length;t++){let n=this.getLISTSubChunksBytes_(this.LIST[t].subChunks,this.LIST[t].format);e=e.concat(S(this.LIST[t].chunkId),C(n.length+4,this.uInt32),S(this.LIST[t].format),n)}return this.enforceByteLen_(e),e}getLISTSubChunksBytes_(e,t){let n=[];for(let r=0,i=e.length;r<i;r++)"INFO"==t?n=n.concat(this.getLISTINFOSubChunksBytes_(e[r])):"adtl"==t&&(n=n.concat(this.getLISTadtlSubChunksBytes_(e[r]))),this.enforceByteLen_(n);return n}getLISTINFOSubChunksBytes_(e){let t=[],n=P(e.value,e.value.length);return(t=t.concat(S(e.chunkId),C(n.length+1,this.uInt32),n)).push(0),t}getLISTadtlSubChunksBytes_(e){let t=[];if(["labl","note"].indexOf(e.chunkId)>-1){let n=P(e.value,e.value.length);(t=t.concat(S(e.chunkId),C(n.length+4+1,this.uInt32),C(e.dwName,this.uInt32),n)).push(0)}else"ltxt"==e.chunkId&&(t=t.concat(this.getLtxtChunkBytes_(e)));return t}getLtxtChunkBytes_(e){return[].concat(S(e.chunkId),C(e.value.length+20,this.uInt32),C(e.dwName,this.uInt32),C(e.dwSampleLength,this.uInt32),C(e.dwPurposeID,this.uInt32),C(e.dwCountry,this.uInt16),C(e.dwLanguage,this.uInt16),C(e.dwDialect,this.uInt16),C(e.dwCodePage,this.uInt16),P(e.value,e.value.length))}get_PMXBytes_(){let e=[];if(this._PMX.chunkId){let t=S(this._PMX.value);this._PMX.chunkSize=t.length,e=e.concat(S(this._PMX.chunkId),C(this._PMX.chunkSize,this.uInt32),t)}return this.enforceByteLen_(e),e}getJunkBytes_(){let e=[];return this.junk.chunkId?e.concat(S(this.junk.chunkId),C(this.junk.chunkData.length,this.uInt32),this.junk.chunkData):(this.enforceByteLen_(e),e)}enforceByteLen_(e){e.length%2&&e.push(0)}}function N(e,t,n){return!(n<1)&&!(t/8*e*n>0xffffffff)}class L extends D{constructor(){super(),this.bitDepth="0",this.dataType={bits:0,be:!1},this.WAV_AUDIO_FORMATS={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3}}fromScratch(e,t,n,r,i){i=i||{},this.clearHeaders(),this.newWavFile_(e,t,n,r,i)}fromBuffer(e,t=!0){super.fromBuffer(e,t),this.bitDepthFromFmt_(),this.updateDataType_()}toBuffer(){return this.validateWavHeader_(),super.toBuffer()}getSamples(e=!1,t=Float64Array){let n=new t(this.data.samples.length/(this.dataType.bits/8));return(T(this.data.samples,this.dataType,n,0,this.data.samples.length),!e&&this.fmt.numChannels>1)?function(e,t,n=Float64Array){let r=[];for(let i=0;i<t;i++)r[i]=new n(e.length/t);for(let n=0;n<t;n++)for(let i=n,s=0;i<e.length;i+=t,s++)r[n][s]=e[i];return r}(n,this.fmt.numChannels,t):n}getSample(e){if((e*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw Error("Range error");return x(this.data.samples.slice(e,e+this.dataType.bits/8),this.dataType)}setSample(e,t){if((e*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw Error("Range error");I(t,this.dataType,this.data.samples,e,!0)}getiXML(){return this.iXML.value}setiXML(e){if("string"!=typeof e)throw TypeError("iXML value must be a string.");this.iXML.value=e,this.iXML.chunkId="iXML"}get_PMX(){return this._PMX.value}set_PMX(e){if("string"!=typeof e)throw TypeError("_PMX value must be a string.");this._PMX.value=e,this._PMX.chunkId="_PMX"}newWavFile_(e,t,n,r,i){i.container||(i.container="RIFF"),this.container=i.container,this.bitDepth=n,r=function(e){let t=[];if(e.length>0){if(e[0].constructor!==Number){t=new Float64Array(e[0].length*e.length);for(let n=0,r=e[0].length,i=0;n<r;n++)for(let r=0,s=e.length;r<s;r++,i++)t[i]=e[r][n]}else t=e}return t}(r),this.updateDataType_();let s=this.dataType.bits/8;this.data.samples=new Uint8Array(r.length*s),E(r,this.dataType,this.data.samples,0,!0),this.makeWavHeader_(n,e,t,s,this.data.samples.length,i),this.data.chunkId="data",this.data.chunkSize=this.data.samples.length,this.validateWavHeader_()}makeWavHeader_(e,t,n,r,i,s){"4"==e?this.createADPCMHeader_(e,t,n,r,i,s):"8a"==e||"8m"==e?this.createALawMulawHeader_(e,t,n,r,i,s):-1==Object.keys(this.WAV_AUDIO_FORMATS).indexOf(e)||t>2?this.createExtensibleHeader_(e,t,n,r,i,s):this.createPCMHeader_(e,t,n,r,i,s)}createPCMHeader_(e,t,n,r,i,s){this.container=s.container,this.chunkSize=36+i,this.format="WAVE",this.bitDepth=e,this.fmt={chunkId:"fmt ",chunkSize:16,audioFormat:this.WAV_AUDIO_FORMATS[e]||65534,numChannels:t,sampleRate:n,byteRate:t*r*n,blockAlign:t*r,bitsPerSample:parseInt(e,10),cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]}}createADPCMHeader_(e,t,n,r,i,s){this.createPCMHeader_(e,t,n,r,i,s),this.chunkSize=40+i,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=505,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:2*i}}createExtensibleHeader_(e,t,n,r,i,s){var a;let o;this.createPCMHeader_(e,t,n,r,i,s),this.chunkSize=60+i,this.fmt.chunkSize=40,this.fmt.bitsPerSample=(parseInt(e,10)-1|7)+1,this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(e,10),this.fmt.dwChannelMask=(o=0,1===(a=t)?o=4:2===a?o=3:4===a?o=51:6===a?o=63:8===a&&(o=1599),o),this.fmt.subformat=[1,1048576,0xaa000080,0x719b3800]}createALawMulawHeader_(e,t,n,r,i,s){this.createPCMHeader_(e,t,n,r,i,s),this.chunkSize=40+i,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:i}}bitDepthFromFmt_(){3===this.fmt.audioFormat&&32===this.fmt.bitsPerSample?this.bitDepth="32f":6===this.fmt.audioFormat?this.bitDepth="8a":7===this.fmt.audioFormat?this.bitDepth="8m":this.bitDepth=this.fmt.bitsPerSample.toString()}validateBitDepth_(){if(!this.WAV_AUDIO_FORMATS[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&54>parseInt(this.bitDepth,10))return!0;throw Error("Invalid bit depth.")}return!0}updateDataType_(){this.dataType={bits:(parseInt(this.bitDepth,10)-1|7)+1,fp:"32f"==this.bitDepth||"64"==this.bitDepth,signed:"8"!=this.bitDepth,be:"RIFX"==this.container},["4","8a","8m"].indexOf(this.bitDepth)>-1&&(this.dataType.bits=8,this.dataType.signed=!1)}validateWavHeader_(){var e,t;if(this.validateBitDepth_(),e=this.fmt.numChannels,t=this.fmt.bitsPerSample,e<1||e*t/8>65535)throw Error("Invalid number of channels.");if(!N(this.fmt.numChannels,this.fmt.bitsPerSample,this.fmt.sampleRate))throw Error("Invalid sample rate.")}}class F extends L{getTag(e){let t=this.getTagIndex_(e);return null!==t.TAG?this.LIST[t.LIST].subChunks[t.TAG].value:null}setTag(e,t){e=function(e){if(e.constructor!==String)throw Error("Invalid tag name.");if(e.length<4)for(let t=0,n=4-e.length;t<n;t++)e+=" ";return e}(e);let n=this.getTagIndex_(e);null!==n.TAG?(this.LIST[n.LIST].subChunks[n.TAG].chunkSize=t.length+1,this.LIST[n.LIST].subChunks[n.TAG].value=t):null!==n.LIST?this.LIST[n.LIST].subChunks.push({chunkId:e,chunkSize:t.length+1,value:t}):(this.LIST.push({chunkId:"LIST",chunkSize:8+t.length+1,format:"INFO",subChunks:[]}),this.LIST[this.LIST.length-1].subChunks.push({chunkId:e,chunkSize:t.length+1,value:t}))}deleteTag(e){let t=this.getTagIndex_(e);return null!==t.TAG&&(this.LIST[t.LIST].subChunks.splice(t.TAG,1),!0)}listTags(){let e=this.getLISTIndex("INFO"),t={};if(null!==e)for(let n=0,r=this.LIST[e].subChunks.length;n<r;n++)t[this.LIST[e].subChunks[n].chunkId]=this.LIST[e].subChunks[n].value;return t}getLISTIndex(e){for(let t=0,n=this.LIST.length;t<n;t++)if(this.LIST[t].format==e)return t;return null}getTagIndex_(e){let t={LIST:null,TAG:null};for(let n=0,r=this.LIST.length;n<r;n++)if("INFO"==this.LIST[n].format){t.LIST=n;for(let r=0,i=this.LIST[n].subChunks.length;r<i;r++)if(this.LIST[n].subChunks[r].chunkId==e){t.TAG=r;break}break}return t}}class U extends F{listCuePoints(){let e=this.getCuePoints_();for(let t=0,n=e.length;t<n;t++)e[t].position=e[t].dwSampleOffset/this.fmt.sampleRate*1e3,e[t].dwSampleLength?(e[t].end=e[t].dwSampleLength/this.fmt.sampleRate*1e3,e[t].end+=e[t].position):e[t].end=null,delete e[t].value;return e}setCuePoint(e){this.cue.chunkId="cue ",e.label||(e.label="");let t=this.getCuePoints_();this.clearLISTadtl_(),this.cue.points=[],e.dwSampleOffset=e.position*this.fmt.sampleRate/1e3,e.dwSampleLength=0,e.end&&(e.dwSampleLength=e.end*this.fmt.sampleRate/1e3-e.dwSampleOffset),0===t.length?this.setCuePoint_(e,1):this.setCuePointInOrder_(t,e),this.cue.dwCuePoints=this.cue.points.length}deleteCuePoint(e){this.cue.chunkId="cue ";let t=this.getCuePoints_();this.clearLISTadtl_();let n=this.cue.points.length;this.cue.points=[];for(let r=0;r<n;r++)r+1!==e&&this.setCuePoint_(t[r],r+1);this.cue.dwCuePoints=this.cue.points.length,this.cue.dwCuePoints?this.cue.chunkId="cue ":(this.cue.chunkId="",this.clearLISTadtl_())}updateLabel(e,t){let n=this.getLISTIndex("adtl");if(null!==n)for(let r=0,i=this.LIST[n].subChunks.length;r<i;r++)this.LIST[n].subChunks[r].dwName==e&&(this.LIST[n].subChunks[r].value=t)}getCuePoints_(){let e=[];for(let t=0;t<this.cue.points.length;t++){let n=this.cue.points[t],r=this.getDataForCuePoint_(n.dwName);r.label=r.value?r.value:"",r.dwPosition=n.dwPosition,r.fccChunk=n.fccChunk,r.dwChunkStart=n.dwChunkStart,r.dwBlockStart=n.dwBlockStart,r.dwSampleOffset=n.dwSampleOffset,e.push(r)}return e}getDataForCuePoint_(e){let t=this.getLISTIndex("adtl"),n={};return null!==t&&this.getCueDataFromLIST_(n,t,e),n}getCueDataFromLIST_(e,t,n){for(let r=0,i=this.LIST[t].subChunks.length;r<i;r++)if(this.LIST[t].subChunks[r].dwName==n){let n=this.LIST[t].subChunks[r];e.value=n.value||e.value,e.dwName=n.dwName||0,e.dwSampleLength=n.dwSampleLength||0,e.dwPurposeID=n.dwPurposeID||0,e.dwCountry=n.dwCountry||0,e.dwLanguage=n.dwLanguage||0,e.dwDialect=n.dwDialect||0,e.dwCodePage=n.dwCodePage||0}}setCuePoint_(e,t){this.cue.points.push({dwName:t,dwPosition:e.dwPosition?e.dwPosition:0,fccChunk:e.fccChunk?e.fccChunk:"data",dwChunkStart:e.dwChunkStart?e.dwChunkStart:0,dwBlockStart:e.dwBlockStart?e.dwBlockStart:0,dwSampleOffset:e.dwSampleOffset}),this.setLabl_(e,t)}setCuePointInOrder_(e,t){let n=!1;for(let r=0;r<e.length;r++)e[r].dwSampleOffset>t.dwSampleOffset&&!n?(this.setCuePoint_(t,r+1),this.setCuePoint_(e[r],r+2),n=!0):this.setCuePoint_(e[r],n?r+2:r+1);n||this.setCuePoint_(t,this.cue.points.length+1)}clearLISTadtl_(){for(let e=0,t=this.LIST.length;e<t;e++)"adtl"==this.LIST[e].format&&this.LIST.splice(e)}setLabl_(e,t){let n=this.getLISTIndex("adtl");null===n&&(this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",subChunks:[]}),n=this.LIST.length-1),this.setLabelText_(n,e,t),e.dwSampleLength&&this.setLtxtChunk_(n,e,t)}setLabelText_(e,t,n){this.LIST[e].subChunks.push({chunkId:"labl",chunkSize:4,dwName:n,value:t.label}),this.LIST[e].chunkSize+=12}setLtxtChunk_(e,t,n){this.LIST[e].subChunks.push({chunkId:"ltxt",chunkSize:20,dwName:n,dwSampleLength:t.dwSampleLength,dwPurposeID:t.dwPurposeID||0,dwCountry:t.dwCountry||0,dwLanguage:t.dwLanguage||0,dwDialect:t.dwDialect||0,dwCodePage:t.dwCodePage||0,value:t.label}),this.LIST[e].chunkSize+=28}}class j{constructor(e,t,n){var r;this.length_=e,this.scaleFactor_=(e-1)/t,this.interpolate=this.sinc,"point"===n.method?this.interpolate=this.point:"linear"===n.method?this.interpolate=this.linear:"cubic"===n.method&&(this.interpolate=this.cubic),this.tangentFactor_=1-Math.max(0,Math.min(1,n.tension||0)),this.sincFilterSize_=n.sincFilterSize||1,this.kernel_=(r=n.sincWindow||B,function(e){var t;return(0===(t=e)?1:Math.sin(Math.PI*t)/(Math.PI*t))*r(e)})}point(e,t){return this.getClippedInput_(Math.round(this.scaleFactor_*e),t)}linear(e,t){let n=Math.floor(e=this.scaleFactor_*e);return(1-(e-=n))*this.getClippedInput_(n,t)+e*this.getClippedInput_(n+1,t)}cubic(e,t){let n=Math.floor(e=this.scaleFactor_*e),r=[this.getTangent_(n,t),this.getTangent_(n+1,t)],i=[this.getClippedInput_(n,t),this.getClippedInput_(n+1,t)],s=(e-=n)*e,a=e*s;return(2*a-3*s+1)*i[0]+(a-2*s+e)*r[0]+(-2*a+3*s)*i[1]+(a-s)*r[1]}sinc(e,t){let n=Math.floor(e=this.scaleFactor_*e),r=n-this.sincFilterSize_+1,i=n+this.sincFilterSize_,s=0;for(let n=r;n<=i;n++)s+=this.kernel_(e-n)*this.getClippedInput_(n,t);return s}getTangent_(e,t){return this.tangentFactor_*(this.getClippedInput_(e+1,t)-this.getClippedInput_(e-1,t))/2}getClippedInput_(e,t){return 0<=e&&e<this.length_?t[e]:0}}function B(e){return Math.exp(-e/2*e/2)}class z{constructor(e,t,n){let r=2*Math.PI*n/t,i=0;this.filters=[];for(let t=0;t<=e;t++)t-e/2==0?this.filters[t]=r:(this.filters[t]=Math.sin(r*(t-e/2))/(t-e/2),this.filters[t]*=.54-.46*Math.cos(2*Math.PI*t/e)),i+=this.filters[t];for(let t=0;t<=e;t++)this.filters[t]/=i;this.z=this.initZ_()}filter(e){this.z.buf[this.z.pointer]=e;let t=0;for(let e=0,n=this.z.buf.length;e<n;e++)t+=this.filters[e]*this.z.buf[(this.z.pointer+e)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,t}reset(){this.z=this.initZ_()}initZ_(){let e=[];for(let t=0;t<this.filters.length-1;t++)e.push(0);return{buf:e,pointer:0}}}class ${constructor(e,t,n){let r=[];for(let i=0;i<e;i++)r.push(this.getCoeffs_({Fs:t,Fc:n,Q:.5/Math.sin(Math.PI/(2*e)*(i+.5))}));this.stages=[];for(let e=0;e<r.length;e++)this.stages[e]={b0:r[e].b[0],b1:r[e].b[1],b2:r[e].b[2],a1:r[e].a[0],a2:r[e].a[1],k:r[e].k,z:[0,0]}}filter(e){let t=e;for(let e=0,n=this.stages.length;e<n;e++)t=this.runStage_(e,t);return t}getCoeffs_(e){let t={};t.a=[],t.b=[];let n=this.preCalc_(e,t);return t.k=1,t.b.push((1-n.cw)/(2*n.a0)),t.b.push(2*t.b[0]),t.b.push(t.b[0]),t}preCalc_(e,t){let n={},r=2*Math.PI*e.Fc/e.Fs;return n.alpha=Math.sin(r)/(2*e.Q),n.cw=Math.cos(r),n.a0=1+n.alpha,t.a0=n.a0,t.a.push(-2*n.cw/n.a0),t.k=1,t.a.push((1-n.alpha)/n.a0),n}runStage_(e,t){let n=t*this.stages[e].k-this.stages[e].a1*this.stages[e].z[0]-this.stages[e].a2*this.stages[e].z[1],r=this.stages[e].b0*n+this.stages[e].b1*this.stages[e].z[0]+this.stages[e].b2*this.stages[e].z[1];return this.stages[e].z[1]=this.stages[e].z[0],this.stages[e].z[0]=n,r}reset(){for(let e=0;e<this.stages.length;e++)this.stages[e].z=[0,0]}}let V={point:!1,linear:!1,cubic:!0,sinc:!0},W={IIR:16,FIR:71},H={IIR:$,FIR:z};function q(e,t,n,r=null){r=r||{};let i=(n-t)/t+1,s=new Float64Array(e.length*i);r.method=r.method||"cubic";let a=new j(e.length,s.length,{method:r.method,tension:r.tension||0,sincFilterSize:r.sincFilterSize||6,sincWindow:r.sincWindow||void 0,clip:r.clip||"mirror"});if(void 0===r.LPF&&(r.LPF=V[r.method]),r.LPF){r.LPFType=r.LPFType||"IIR";let i=H[r.LPFType];n>t?function(e,t,n,r){for(let i=0,s=t.length;i<s;i++)t[i]=r.filter(n.interpolate(i,e));r.reset();for(let e=t.length-1;e>=0;e--)t[e]=r.filter(t[e])}(e,s,a,new i(r.LPForder||W[r.LPFType],n,t/2)):function(e,t,n,r){for(let t=0,n=e.length;t<n;t++)e[t]=r.filter(e[t]);r.reset();for(let t=e.length-1;t>=0;t--)e[t]=r.filter(e[t]);G(e,t,n)}(e,s,a,new i(r.LPForder||W[r.LPFType],t,n/2))}else G(e,s,a);return s}function G(e,t,n){for(let r=0,i=t.length;r<i;r++)t[r]=n.interpolate(r,e)}class K extends U{toRIFF(){let e=new Float64Array(Z(this.data.samples.length,this.dataType.bits/8));T(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,e,{container:"RIFF"})}toRIFX(){let e=new Float64Array(Z(this.data.samples.length,this.dataType.bits/8));T(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,e,{container:"RIFX"})}toIMAADPCM(){if(8e3!==this.fmt.sampleRate)throw Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(1!==this.fmt.numChannels)throw Error("Only mono files can be compressed as IMA-ADPCM.");{this.assure16Bit_();let e=new Int16Array(Z(this.data.samples.length,2));T(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"4",function(e){let t={index:0,predicted:0,step:7},n=new Uint8Array(e.length),r=[],i=0,s=0;for(let a=0,o=e.length;a<o;a++)a%505==0&&0!=a&&(n.set(function(e,t){let n=function(e,t){d(e,t);let n=[];return n.push(255&e),n.push(e>>8&255),n.push(t.index),n.push(0),n}(e[0],t);for(let r=3,i=e.length;r<i;r+=2){let i=d(e[r],t),s=d(e[r+1],t);n.push(s<<4|i)}return n}(r,t),i),i+=256,r=[],s++),r.push(e[a]);let a=e.length/2;return a%2&&a++,n.slice(0,a+512+4*s)}(e),{container:this.correctContainer_()})}}fromIMAADPCM(e="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e,t=256){let n={index:0,predicted:0,step:7},r=new Int16Array(2*e.length),i=[],s=0;for(let a=0,o=e.length;a<o;a++){if(a%t==0&&0!=a){let e=function(e,t){var n;t.predicted=(n=e[1]<<8|e[0])>32768?n-65536:n,t.index=e[2],t.step=c[t.index];let r=[t.predicted,t.predicted];for(let n=4,i=e.length;n<i;n++){let i=e[n],s=i>>4,a=s<<4^i;r.push(h(a,t)),r.push(h(s,t))}return r}(i,n);r.set(e,s),s+=e.length,i=[]}i.push(e[a])}return r}(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}toALaw(){this.assure16Bit_();let e=new Int16Array(Z(this.data.samples.length,2));T(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8a",function(e){let t=new Uint8Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=function(e){let t;let n=~(e=-32768==e?-32767:e)>>8&128;if(n||(e*=-1),e>32635&&(e=32635),e>=256){let n=p[e>>8&127],r=e>>n+3&15;t=n<<4|r}else t=e>>4;return 85^n^t}(e[n]);return t}(e),{container:this.correctContainer_()})}fromALaw(e="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e){let t=new Int16Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=function(e){let t=0;(128&(e^=85))!=0&&(e&=-129,t=-1);let n=((240&e)>>4)+4,r=0;return r=4!=n?1<<n|(15&e)<<n-4|1<<n-5:e<<1|1,-8*(r=0===t?r:-r)}(e[n]);return t}(this.data.samples),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}toMuLaw(){this.assure16Bit_();let e=new Int16Array(Z(this.data.samples.length,2));T(this.data.samples,this.dataType,e,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8m",function(e){let t=new Uint8Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=function(e){let t,n,r;return 0!=(t=e>>8&128)&&(e=-e),(e+=132)>32635&&(e=32635),n=f[e>>7&255],r=e>>n+3&15,~(t|n<<4|r)}(e[n]);return t}(e),{container:this.correctContainer_()})}fromMuLaw(e="16"){this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",function(e){let t=new Int16Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=function(e){let t,n,r,i;return t=128&(e=~e),n=e>>4&7,r=15&e,i=g[n]+(r<<n+3),0!=t&&(i=-i),i}(e[n]);return t}(this.data.samples),{container:this.correctContainer_()}),"16"!=e&&this.toBitDepth(e)}toBitDepth(e,t=!0){let n=e,r=this.bitDepth;t||("32f"!=e&&(n=this.dataType.bits.toString()),r=""+this.dataType.bits),this.assureUncompressed_();let u=this.getSamples(!0),c=new Float64Array(u.length);(function(e,t,n,r){var u,c;let d;if(["32f","64"].indexOf(t)>-1&&["32f","64"].indexOf(r)>-1){n.set(e);return}o(t),o(r);let h=(u=t,c=r,d=function(e){return e},u!=c&&(d=["32f","64"].includes(u)?s:["32f","64"].includes(c)?a:i),d),p={oldMin:Math.pow(2,parseInt(t,10))/2,newMin:Math.pow(2,parseInt(r,10))/2,oldMax:Math.pow(2,parseInt(t,10))/2-1,newMax:Math.pow(2,parseInt(r,10))/2-1};l(t,e,!0);for(let t=0,r=e.length;t<r;t++)n[t]=h(e[t],p);l(r,n,!1)})(u,r,c,n),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,e,c,{container:this.correctContainer_()})}toSampleRate(e,t){this.validateResample_(e);let n=this.getSamples(),r=[];if(n.constructor===Float64Array)r=q(n,this.fmt.sampleRate,e,t);else for(let i=0;i<n.length;i++)r.push(q(n[i],this.fmt.sampleRate,e,t));this.fromExisting_(this.fmt.numChannels,e,this.bitDepth,r,{container:this.correctContainer_()})}validateResample_(e){if(N(this.fmt.numChannels,this.fmt.bitsPerSample,e)){if(["4","8a","8m"].indexOf(this.bitDepth)>-1)throw Error("wavefile can't change the sample rate of compressed files.")}else throw Error("Invalid sample rate.")}assure16Bit_(){this.assureUncompressed_(),"16"!=this.bitDepth&&this.toBitDepth("16")}assureUncompressed_(){"8a"==this.bitDepth?this.fromALaw():"8m"==this.bitDepth?this.fromMuLaw():"4"==this.bitDepth&&this.fromIMAADPCM()}correctContainer_(){return"RF64"==this.container?"RIFF":this.container}fromExisting_(e,t,n,r,i){let s=new U;Object.assign(this.fmt,s.fmt),Object.assign(this.fact,s.fact),Object.assign(this.ds64,s.ds64),Object.assign(this.data,s.data),this.newWavFile_(e,t,n,r,i)}}function Z(e,t){let n=e/t;return n%2&&n++,n}class J extends K{constructor(e){super(),e&&this.fromBuffer(e)}fromBase64(e){this.fromBuffer(function(e){let t=new Uint8Array(256);for(let e=0;e<r.length;e++)t[r.charCodeAt(e)]=e;let n=.75*e.length;"="===e[e.length-1]&&(n--,"="===e[e.length-2]&&n--);let i=new Uint8Array(n);for(let n=0,r=0;n<e.length;n+=4){let s=t[e.charCodeAt(n)],a=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],l=t[e.charCodeAt(n+3)];i[r++]=s<<2|a>>4,i[r++]=(15&a)<<4|o>>2,i[r++]=(3&o)<<6|63&l}return i}(e))}toBase64(){return function(e){let t="";for(let n=0;n<e.length;n+=3)t+=r[e[n]>>2],t+=r[(3&e[n])<<4|e[n+1]>>4],t+=r[(15&e[n+1])<<2|e[n+2]>>6],t+=r[63&e[n+2]];return e.length%3==2?t=t.substring(0,t.length-1)+"=":e.length%3==1&&(t=t.substring(0,t.length-2)+"=="),t}(this.toBuffer())}toDataURI(){return"data:audio/wav;base64,"+this.toBase64()}fromDataURI(e){this.fromBase64(e.replace("data:audio/wav;base64,",""))}}},144:(e,t,n)=>{"use strict";n.d(t,{$X:()=>c,As:()=>l,Dr:()=>h,Nt:()=>u,bJ:()=>d,e6:()=>o});var r=n(8453),i=n(8345),s=n(7090),a=n(957);let o="No stack, consider using an instance of Error";function l({stackTrace:e,originalError:t,handlingStack:n,componentStack:s,startClocks:l,nonErrorPrefix:c,source:p,handling:f}){var g,m,v,y,_,b;let w=d(t),S=(g=e,m=w,v=c,y=t,(null==g?void 0:g.message)&&(null==g?void 0:g.name)?g.message:m?"Empty message":`${v} ${(0,i.s)((0,r.a)(y))}`),k=(_=w,void 0!==(b=e)&&(_||b.stack.length>0&&(b.stack.length>1||void 0!==b.stack[0].url)))?(0,a.Yn)(e):o,E=w?h(t,p):void 0,T=e?e.name:void 0,I=u(t);return{startClocks:l,source:p,handling:f,handlingStack:n,componentStack:s,originalError:t,type:T,message:S,stack:k,causes:E,fingerprint:I}}function u(e){return d(e)&&"dd_fingerprint"in e?String(e.dd_fingerprint):void 0}function c(e){var t;return null===(t=/@ (.+)/.exec(e))||void 0===t?void 0:t[1]}function d(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function h(e,t){let n=e,r=[];for(;d(null==n?void 0:n.cause)&&r.length<10;){let e=(0,s.T)(n.cause);r.push({message:n.cause.message,source:t,type:null==e?void 0:e.name,stack:e&&(0,a.Yn)(e)}),n=n.cause}return r.length?r:void 0}},227:(e,t,n)=>{"use strict";var r;n.d(t,{$b:()=>r,Vy:()=>u});let i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));let s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},a=r.INFO,o={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=o[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class u{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in r))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...e),this._logHandler(this,r.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...e),this._logHandler(this,r.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,r.INFO,...e),this._logHandler(this,r.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,r.WARN,...e),this._logHandler(this,r.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...e),this._logHandler(this,r.ERROR,...e)}}},265:(e,t,n)=>{"use strict";let r;n.d(t,{DS:()=>d,WR:()=>h});var i=n(6594),s=n(846),a=n(7178),o=n(9112),l=n(7460),u=n(9555);class c{getSesameWebClient(){return r}}new c;let d=a.createContext({webClient:void 0,maybeInitClient:()=>{},release:()=>{}}),h=e=>{let{children:t,...n}=e,c=(0,u.R)(),{sesameApiUrl:h,sesameEnv:p,firebaseConfig:f,rudderstackWriteKey:g,datadogClientToken:m,datadogRumClientToken:v,datadogRumApplicationId:y}=n,[_,b]=a.useState(null),{isLoggedInUser:w}=(0,o.n)(),S=a.useCallback(async()=>{await x()},[]);a.useEffect(()=>{S()},[w,S]);let k=a.useCallback(e=>{b(e),r=e},[]),[E,T]=a.useState(!1),I=a.useCallback(async e=>{null==_&&(await e.init(),k(e))},[_,c]);a.useEffect(()=>{if(null==c)return;let e=l.b.getAnalyticsManager();null==_&&E&&null!=e&&I(new s.on({name:p,baseUrl:h,firebaseConfig:f,datadogKey:m,datadogRumKey:v,datadogRumAppId:y,rudderstackWriteKey:g},l.e,c,e))},[m,v,y,f,g,p,b,h,I,s.on,c,_,E]);let C=a.useCallback(()=>{T(!0)},[]),x=a.useCallback(async()=>{if(null!=_){let e=_.getSession();await (null==e?void 0:e.disconnect())}k(null),T(!1)},[_]);return(0,i.jsx)(d.Provider,{value:{webClient:_,maybeInitClient:C,release:x},"data-sentry-element":"unknown","data-sentry-component":"SesameWebClientContextProvider","data-sentry-source-file":"SesameWebClientProvider.tsx",children:t})}},415:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.EventLogger=void 0;let i=n(3556),s=n(1579),a=n(1414),o=n(687),l=n(9539),u=n(7464),c=n(6435),d=n(2180),h=n(3096),p={},f={Startup:"startup",GainedFocus:"gained_focus"};class g{static _safeFlushAndForget(e){var t;null===(t=p[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=p[e])||void 0===t||t._retryFailedLogs(f.GainedFocus)}constructor(e,t,n,r){var i;this._sdkKey=e,this._emitter=t,this._network=n,this._options=r,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._isLoggingDisabled=(null==r?void 0:r.disableLogging)===!0,this._maxQueueSize=null!==(i=null==r?void 0:r.loggingBufferMaxSize)&&void 0!==i?i:100;let s=null==r?void 0:r.networkConfig;this._logEventUrlConfig=new d.UrlConfiguration(o.Endpoint._rgstr,null==s?void 0:s.logEventUrl,null==s?void 0:s.api,null==s?void 0:s.logEventFallbackUrls)}setLoggingDisabled(e){this._isLoggingDisabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&g._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;let n=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=n+1}reset(){this._lastExposureTimeMap={}}start(){!(0,l._isServerEnv)()&&(p[this._sdkKey]=this,(0,h._subscribeToVisiblityChanged)(e=>{"background"===e?g._safeFlushAndForget(this._sdkKey):"foreground"===e&&g._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(f.Startup),this._startBackgroundFlushInterval())}stop(){return r(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete p[this._sdkKey],yield this.flush()})}flush(){return r(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;let e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){if(!this._hasRunQuickFlush)this._hasRunQuickFlush=!0,!(Date.now()-this._creationTime>200)&&setTimeout(()=>g._safeFlushAndForget(this._sdkKey),200)}_shouldLogEvent(e){if((0,l._isServerEnv)())return!1;if(!(0,u._isExposureEvent)(e))return!0;let t=e.user?e.user:{statsigEnvironment:void 0},n=(0,i._getUserStorageKey)(this._sdkKey,t),r=e.metadata?e.metadata:{},s=[e.eventName,n,r.gate,r.config,r.ruleID,r.allocatedExperiment,r.parameterName,String(r.isExplicitParameter),r.reason].join("|"),a=this._lastExposureTimeMap[s],o=Date.now();return(!a||!(o-a<6e5))&&(Object.keys(this._lastExposureTimeMap).length>1e3&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[s]=o,!0)}_sendEvents(e){var t,n;return r(this,void 0,void 0,function*(){if(this._isLoggingDisabled)return this._saveFailedLogsToStorage(e),!1;try{let r=(0,h._isUnloading)()&&this._network.isBeaconSupported()&&(null===(n=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===n?void 0:n.networkOverrideFunc)==null;if(this._emitter({name:"pre_logs_flushed",events:e}),(r?yield this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success)return this._emitter({name:"logs_flushed",events:e}),!0;return a.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1}catch(e){return a.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){var t;return r(this,void 0,void 0,function*(){let n=yield this._network.post(this._getRequestData(e)),r=null!==(t=null==n?void 0:n.code)&&void 0!==t?t:-1;return{success:r>=200&&r<300}})}_sendEventsViaBeacon(e){return r(this,void 0,void 0,function*(){return{success:yield this._network.beacon(this._getRequestData(e))}})}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[o.NetworkParam.EventCount]:String(e.length)}}}_saveFailedLogsToStorage(e){for(;e.length>500;)e.shift();let t=this._getStorageKey();try{(0,c._setObjectInStorage)(t,e)}catch(e){a.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){let t=this._getStorageKey();r(this,void 0,void 0,function*(){c.Storage.isReady()||(yield c.Storage.isReadyResolver());let n=(0,c._getObjectFromStorage)(t);n&&(e===f.Startup&&c.Storage.removeItem(t),(yield this._sendEvents(n))&&e===f.GainedFocus&&c.Storage.removeItem(t))}).catch(()=>{a.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,s._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);let t={},n=this._getCurrentPageUrl();n&&(t.statsigMetadata={currentPage:n});let r=Object.assign(Object.assign({},e),t);a.Log.debug("Enqueued Event:",r),this._queue.push(r)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if((null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents)!==!1)return(0,l._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;let n=setInterval(()=>{let e=p[this._sdkKey];e&&e._flushIntervalId===n?g._safeFlushAndForget(this._sdkKey):clearInterval(n)},null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:1e4);this._flushIntervalId=n}}t.EventLogger=g},432:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});let r=!1},460:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Storage=t.Log=t.EventLogger=t.Diagnostics=void 0,n(3368);let s=n(8847);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return s.Diagnostics}});let a=n(415);Object.defineProperty(t,"EventLogger",{enumerable:!0,get:function(){return a.EventLogger}});let o=n(1414);Object.defineProperty(t,"Log",{enumerable:!0,get:function(){return o.Log}});let l=n(809),u=n(6435);Object.defineProperty(t,"Storage",{enumerable:!0,get:function(){return u.Storage}}),i(n(3368),t),i(n(3556),t),i(n(1514),t),i(n(4139),t),i(n(8847),t),i(n(6450),t),i(n(963),t),i(n(87),t),i(n(1724),t),i(n(1579),t),i(n(5832),t),i(n(1414),t),i(n(3858),t),i(n(687),t),i(n(8334),t),i(n(1224),t),i(n(3220),t),i(n(9539),t),i(n(9235),t),i(n(5158),t),i(n(111),t),i(n(870),t),i(n(6917),t),i(n(3307),t),i(n(7464),t),i(n(809),t),i(n(5927),t),i(n(6247),t),i(n(1546),t),i(n(2677),t),i(n(9423),t),i(n(6435),t),i(n(2356),t),i(n(5231),t),i(n(2180),t),i(n(4462),t),i(n(3096),t),i(n(9005),t),i(n(5402),t),__STATSIG__=Object.assign(Object.assign({},null!=__STATSIG__?__STATSIG__:{}),{Log:o.Log,SDK_VERSION:l.SDK_VERSION})},565:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,c:()=>r});class r{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:()=>{this.observers=this.observers.filter(t=>e!==t),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(e){this.observers.forEach(t=>t(e))}}function i(...e){return new r(t=>{let n=e.map(e=>e.subscribe(e=>t.notify(e)));return()=>n.forEach(e=>e.unsubscribe())})}},581:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});let r="8.54.0"},687:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkParam=t.NetworkDefault=t.Endpoint=void 0,t.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},t.NetworkDefault={[t.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[t.Endpoint._initialize]:"https://featureassets.org/v1",[t.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},t.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"}},758:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(6594),i=n(5928),s=n(2220),a=n(7452),o=n.n(a),l=n(2367),u=n.n(l),c=n(7178),d=n(6559),h=n(4100),p=n(900),f=n.n(p);n(3334),n(2168),n(7520),n(3228),n(3417);var g=n(2012),m=n(8005),v=n(8942),y=n(6060),_=n(9112),b=n(2621);function w(){let e=(0,y.useRouter)(),t=(0,v.P)(e=>e.lastPath),n=(0,v.P)(e=>e.setLastPath),{isLoggedInUser:r,isLoading:i}=(0,_.n)(),s=c.useCallback(async()=>{r&&await _.n.getState().logout(),n(m.A.login),e.push(m.A.login)},[r,e]);return{showLoginLogoutItem:!0===(0,b.A)()&&!i,isItemSelected:t===m.A.login&&!r,itemText:r?"Log out":"Log in",onLoginLogoutClick:s}}var S=n(5010),k=n(3811),E=n(5872);let T=()=>{let e=(0,v.P)(e=>e.lastPath),t=e===m.A.demo||e===m.A.research,{showLoginLogoutItem:n,isItemSelected:i,itemText:s,onLoginLogoutClick:a}=w();return(0,r.jsx)("header",{className:(0,k.A)("sticky md:fixed z-50 pointer-events-none","top-0 md:top-[var(--s200)]","right-0","left-0","w-full","md:bg-[transparent]",t?"bg-white":"bg-light1"),"data-sentry-component":"Header","data-sentry-source-file":"Header.tsx",children:(0,r.jsx)("div",{className:(0,k.A)("grid grid-cols-6 gap-[var(--s20)] md:grid-cols-12","px-[var(--s28)] sm:px-[var(--s32)] md:px-[var(--s40)] lg:px-[var(--s28)]","max-w-screen-2xl mx-auto"),children:(0,r.jsxs)("div",{className:(0,k.A)("col-start-1 col-end-7","md:col-end-3","lg:col-end-4","xl:col-start-2","flex flex-row justify-between items-center md:items-start md:flex-col gap-[var(--s20)] pointer-events-auto","py-[var(--s18)] md:py-0"),children:[(0,r.jsxs)(g.A,{className:"relative",href:m.A.home,"data-sentry-element":"Link","data-sentry-source-file":"Header.tsx",children:[(0,r.jsx)(E.A,{className:"w-[var(--s18)] h-[var(--s20)]","data-sentry-element":"SesameLogo","data-sentry-source-file":"Header.tsx"}),(0,r.jsx)("span",{className:"absolute w-[var(--s32)] h-[var(--s32)] top-[50%] translate-x-[-50%] left-[50%] translate-y-[-50%]"})]}),(0,r.jsxs)("div",{className:"hidden md:flex flex-col gap-[var(--s16)]",children:[(0,r.jsxs)("ul",{className:"flex flex-col gap-[var(--s6)]",children:[(0,r.jsx)("li",{children:(0,r.jsx)(g.A,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.home?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.home,"data-sentry-element":"Link","data-sentry-source-file":"Header.tsx",children:"Sesame"})}),(0,r.jsx)("li",{children:(0,r.jsx)(g.A,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.research?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.research,"data-sentry-element":"Link","data-sentry-source-file":"Header.tsx",children:"Research"})}),(0,r.jsx)("li",{children:(0,r.jsx)(g.A,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.team?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.team,"data-sentry-element":"Link","data-sentry-source-file":"Header.tsx",children:"Team"})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--s16)]",children:[(0,r.jsx)("div",{className:"line"}),(0,r.jsxs)("ul",{className:"flex flex-col gap-[var(--s6)]",children:[(0,r.jsx)("li",{children:(0,r.jsx)(g.A,{"data-anchor-link":!0,className:(0,k.A)("block transition-opacity duration-300",e===m.A.demo?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.demo,nopush:e===m.A.demo,"data-sentry-element":"Link","data-sentry-source-file":"Header.tsx",children:"Demo"})}),n?(0,r.jsx)("li",{children:(0,r.jsx)("p",{className:(0,k.A)("block transition-opacity duration-300 cursor-pointer",i?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),onClick:a,children:s})}):null]})]})]}),(0,r.jsx)("button",{"data-mebu-button":!0,className:"md:hidden inline-block hamburger hamburger--spin",onClick:e=>{(0,S.$$)("[data-mebu-button]").forEach(e=>e.classList.add("is-active"));let t=(0,S.$)("#navigation-menu");t.setAttribute("data-menu-have-transition","true"),t.setAttribute("data-menu-open","true")},children:(0,r.jsx)("span",{className:"hamburger-box",children:(0,r.jsx)("span",{className:"hamburger-inner"})})})]})})})};var I=n(4045),C=n.n(I);let x=e=>{let{children:t,className:n,href:s,nopush:a,...o}=e,l=(0,y.useRouter)(),u=(0,v.P)(e=>e.setLastPath),c=(0,v.P)(e=>e.lastPath);return(0,r.jsx)(C(),{href:s,onClick:e=>{e.preventDefault();let t=e.currentTarget.getAttribute("data-anchor-link");if(s!==c&&s.toString().split("#")[0]===c.split("#")[0]||s===c&&t){let e=(0,S.$)("#navigation-menu");(0,S.$$)("[data-mebu-button]").forEach(e=>e.classList.remove("is-active")),e.setAttribute("data-menu-open","false");let t=s.toString().split("#")[1]?(0,S.$)("#".concat(s.toString().split("#")[1])):null,n=t?t.offsetTop:0;window.lenis.scrollTo(n,{duration:1.5}),a||(u(s),l.push(s));return}let n=(0,S.$)("#menu-transition-overlay");(0,S.$)("#navigation-menu").setAttribute("data-menu-is-transitioning","true"),(0,S.$$)("[data-mebu-button]").forEach(e=>e.classList.remove("is-active")),u(s),n?(n.style.pointerEvents="default",i.Ay.to(n,{opacity:1,duration:.2,onComplete:()=>{window&&window.lenis&&window.lenis.scrollTo(0,{immediate:!0}),s===c?l.reload():l.push(s)}})):l.push(s)},...o,className:(0,k.A)(n),"data-sentry-element":"NextLink","data-sentry-component":"MenuLink","data-sentry-source-file":"MenuLink.tsx",children:t})},A=()=>{let e=(0,v.P)(e=>e.lastPath),t=()=>{let e=(0,S.$)("#navigation-menu");!e.getAttribute("data-menu-is-transitioning")&&((0,S.$$)("[data-mebu-button]").forEach(e=>e.classList.remove("is-active")),e.setAttribute("data-menu-open","false"))},{showLoginLogoutItem:n,isItemSelected:i,itemText:s,onLoginLogoutClick:a}=w(),o=c.useCallback(()=>{t(),a()},[a]);return(0,r.jsxs)("div",{className:"fixed top-0 h-[100dvh] left-0 w-full z-30 overflow-y-scroll block md:hidden","data-menu-have-transition":"true","data-menu-is-transitioning":"false","data-menu-open":"false",id:"navigation-menu","data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:[(0,r.jsxs)("div",{className:"top-0 absolute w-full z-10",children:[(0,r.jsxs)("div",{className:(0,k.A)("relative z-50","py-[var(--s18)] px-[var(--s28)] md:py-0 md:px-0","bg-light1","flex justify-between items-center"),children:[(0,r.jsxs)(x,{className:"relative",href:m.A.home,"data-sentry-element":"MenuLink","data-sentry-source-file":"Menu.tsx",children:[(0,r.jsx)(E.A,{className:"w-[var(--s18)] h-[var(--s20)]","data-sentry-element":"SesameLogo","data-sentry-source-file":"Menu.tsx"}),(0,r.jsx)("span",{className:"absolute w-[var(--s32)] h-[var(--s32)] top-[50%] translate-x-[-50%] left-[50%] translate-y-[-50%]"})]}),(0,r.jsx)("button",{"data-mebu-button":!0,className:"md:hidden inline-block hamburger hamburger--spin",onClick:t,children:(0,r.jsx)("span",{className:"hamburger-box",children:(0,r.jsx)("span",{className:"hamburger-inner"})})})]}),(0,r.jsxs)("div",{className:"pt-[var(--s24)] pb-[var(--s20)] bg-light1 px-[var(--s24)] rounded-b-radius1",children:[(0,r.jsxs)("ul",{className:(0,k.A)("flex flex-col gap-[var(--s20)] pb-[var(--s24)] border-b border-black/10"),children:[(0,r.jsx)("li",{children:(0,r.jsx)(x,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.home?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.home,"data-sentry-element":"MenuLink","data-sentry-source-file":"Menu.tsx",children:"Sesame"})}),(0,r.jsx)("li",{children:(0,r.jsx)(x,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.research?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.research,"data-sentry-element":"MenuLink","data-sentry-source-file":"Menu.tsx",children:"Research"})}),(0,r.jsx)("li",{children:(0,r.jsx)(x,{className:(0,k.A)("block transition-opacity duration-300",e===m.A.team?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.team,"data-sentry-element":"MenuLink","data-sentry-source-file":"Menu.tsx",children:"Team"})})]}),(0,r.jsxs)("ul",{className:(0,k.A)("flex flex-col gap-[var(--s20)] py-[var(--s24)]"),children:[(0,r.jsx)("li",{children:(0,r.jsx)(x,{"data-anchor-link":!0,className:(0,k.A)("block transition-opacity duration-300",e===m.A.demo?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),href:m.A.demo,nopush:e===m.A.demo,"data-sentry-element":"MenuLink","data-sentry-source-file":"Menu.tsx",children:"Demo"})}),n?(0,r.jsx)("li",{children:(0,r.jsx)("p",{className:(0,k.A)("block transition-opacity duration-300 cursor-pointer",i?"text-sidebar":"opacity-50 hover:opacity-100 text-sidebar-light hover:font-[630]"),onClick:o,children:s})}):null]})]}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-[100dvh] bg-light1 pointer-events-none z-40",id:"menu-transition-overlay",style:{opacity:0,pointerEvents:"none"}})]}),(0,r.jsx)("div",{"data-menu-underlay":!0,className:"absolute h-full w-full bg-black/30",onClick:t})]})};var M=n(1512);function O(e,t,n){return Math.max(e,Math.min(t,n))}var R=class{isRunning=!1;value=0;from=0;to=0;currentTime=0;lerp;duration;easing;onUpdate;advance(e){if(!this.isRunning)return;let t=!1;if(this.duration&&this.easing){this.currentTime+=e;let n=O(0,this.currentTime/this.duration,1),r=(t=n>=1)?1:this.easing(n);this.value=this.from+(this.to-this.from)*r}else if(this.lerp){var n,r,i;this.value=(n=this.value,r=this.to,(1-(i=1-Math.exp(-(60*this.lerp)*e)))*n+i*r),Math.round(this.value)===this.to&&(this.value=this.to,t=!0)}else this.value=this.to,t=!0;t&&this.stop(),this.onUpdate?.(this.value,t)}stop(){this.isRunning=!1}fromTo(e,t,{lerp:n,duration:r,easing:i,onStart:s,onUpdate:a}){this.from=this.value=e,this.to=t,this.lerp=n,this.duration=r,this.easing=i,this.currentTime=0,this.isRunning=!0,s?.(),this.onUpdate=a}},P=class{constructor(e,t,{autoResize:n=!0,debounce:r=250}={}){this.wrapper=e,this.content=t,n&&(this.debouncedResize=function(e,t){let n;return function(...r){let i=this;clearTimeout(n),n=setTimeout(()=>{n=void 0,e.apply(i,r)},t)}}(this.resize,r),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}width=0;height=0;scrollHeight=0;scrollWidth=0;debouncedResize;wrapperResizeObserver;contentResizeObserver;destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}resize=()=>{this.onWrapperResize(),this.onContentResize()};onWrapperResize=()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)};onContentResize=()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)};get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},D=class{events={};emit(e,...t){let n=this.events[e]||[];for(let e=0,r=n.length;e<r;e++)n[e]?.(...t)}on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(e=>t!==e)}}off(e,t){this.events[e]=this.events[e]?.filter(e=>t!==e)}destroy(){this.events={}}},N=100/6,L={passive:!1},F=class{constructor(e,t={wheelMultiplier:1,touchMultiplier:1}){this.element=e,this.options=t,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,L),this.element.addEventListener("touchstart",this.onTouchStart,L),this.element.addEventListener("touchmove",this.onTouchMove,L),this.element.addEventListener("touchend",this.onTouchEnd,L)}touchStart={x:0,y:0};lastDelta={x:0,y:0};window={width:0,height:0};emitter=new D;on(e,t){return this.emitter.on(e,t)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,L),this.element.removeEventListener("touchstart",this.onTouchStart,L),this.element.removeEventListener("touchmove",this.onTouchMove,L),this.element.removeEventListener("touchend",this.onTouchEnd,L)}onTouchStart=e=>{let{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:e})};onTouchMove=e=>{let{clientX:t,clientY:n}=e.targetTouches?e.targetTouches[0]:e,r=-(t-this.touchStart.x)*this.options.touchMultiplier,i=-(n-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=t,this.touchStart.y=n,this.lastDelta={x:r,y:i},this.emitter.emit("scroll",{deltaX:r,deltaY:i,event:e})};onTouchEnd=e=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:e})};onWheel=e=>{let{deltaX:t,deltaY:n,deltaMode:r}=e,i=1===r?N:2===r?this.window.width:1,s=1===r?N:2===r?this.window.height:1;t*=i,n*=s,t*=this.options.wheelMultiplier,n*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:t,deltaY:n,event:e})};onWindowResize=()=>{this.window={width:window.innerWidth,height:window.innerHeight}}},U=class{_isScrolling=!1;_isStopped=!1;_isLocked=!1;_preventNextNativeScrollEvent=!1;_resetVelocityTimeout=null;__rafID=null;isTouching;time=0;userData={};lastVelocity=0;velocity=0;direction=0;options;targetScroll;animatedScroll;animate=new R;emitter=new D;dimensions;virtualScroll;constructor({wrapper:e=window,content:t=document.documentElement,eventsTarget:n=e,smoothWheel:r=!0,syncTouch:i=!1,syncTouchLerp:s=.075,touchInertiaMultiplier:a=35,duration:o,easing:l=e=>Math.min(1,1.001-Math.pow(2,-10*e)),lerp:u=.1,infinite:c=!1,orientation:d="vertical",gestureOrientation:h="vertical",touchMultiplier:p=1,wheelMultiplier:f=1,autoResize:g=!0,prevent:m,virtualScroll:v,overscroll:y=!0,autoRaf:_=!1,anchors:b=!1,__experimental__naiveDimensions:w=!1}={}){window.lenisVersion="1.2.3",e&&e!==document.documentElement||(e=window),this.options={wrapper:e,content:t,eventsTarget:n,smoothWheel:r,syncTouch:i,syncTouchLerp:s,touchInertiaMultiplier:a,duration:o,easing:l,lerp:u,infinite:c,gestureOrientation:h,orientation:d,touchMultiplier:p,wheelMultiplier:f,autoResize:g,prevent:m,virtualScroll:v,overscroll:y,autoRaf:_,anchors:b,__experimental__naiveDimensions:w},this.dimensions=new P(e,t,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new F(n,{touchMultiplier:p,wheelMultiplier:f}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(e,t){return this.emitter.on(e,t)}off(e,t){return this.emitter.off(e,t)}onScrollEnd=e=>{e instanceof CustomEvent||"smooth"!==this.isScrolling&&!1!==this.isScrolling||e.stopPropagation()};dispatchScrollendEvent=()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))};setScroll(e){this.isHorizontal?this.options.wrapper.scrollTo({left:e,behavior:"instant"}):this.options.wrapper.scrollTo({top:e,behavior:"instant"})}onClick=e=>{let t=e.composedPath().find(e=>e instanceof HTMLAnchorElement&&(e.getAttribute("href")?.startsWith("#")||e.getAttribute("href")?.startsWith("/#")||e.getAttribute("href")?.startsWith("./#")));if(t){let e=t.getAttribute("href");if(e){let t="object"==typeof this.options.anchors&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(`#${e.split("#")[1]}`,t)}}};onPointerDown=e=>{1===e.button&&this.reset()};onVirtualScroll=e=>{if("function"==typeof this.options.virtualScroll&&!1===this.options.virtualScroll(e))return;let{deltaX:t,deltaY:n,event:r}=e;if(this.emitter.emit("virtual-scroll",{deltaX:t,deltaY:n,event:r}),r.ctrlKey||r.lenisStopPropagation)return;let i=r.type.includes("touch"),s=r.type.includes("wheel");this.isTouching="touchstart"===r.type||"touchmove"===r.type;let a=0===t&&0===n;if(this.options.syncTouch&&i&&"touchstart"===r.type&&a&&!this.isStopped&&!this.isLocked){this.reset();return}let o="vertical"===this.options.gestureOrientation&&0===n||"horizontal"===this.options.gestureOrientation&&0===t;if(a||o)return;let l=r.composedPath();l=l.slice(0,l.indexOf(this.rootElement));let u=this.options.prevent;if(l.find(e=>e instanceof HTMLElement&&("function"==typeof u&&u?.(e)||e.hasAttribute?.("data-lenis-prevent")||i&&e.hasAttribute?.("data-lenis-prevent-touch")||s&&e.hasAttribute?.("data-lenis-prevent-wheel"))))return;if(this.isStopped||this.isLocked){r.preventDefault();return}if(!(this.options.syncTouch&&i||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),r.lenisStopPropagation=!0;return}let c=n;"both"===this.options.gestureOrientation?c=Math.abs(n)>Math.abs(t)?n:t:"horizontal"===this.options.gestureOrientation&&(c=t),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||0===this.animatedScroll&&n>0||this.animatedScroll===this.limit&&n<0))&&(r.lenisStopPropagation=!0),r.preventDefault();let d=i&&this.options.syncTouch,h=i&&"touchend"===r.type&&Math.abs(c)>5;h&&(c=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+c,{programmatic:!1,...d?{lerp:h?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})};resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}onNativeScroll=()=>{if(null!==this._resetVelocityTimeout&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(!1===this.isScrolling||"native"===this.isScrolling){let e=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-e,this.direction=Math.sign(this.animatedScroll-e),this.isStopped||(this.isScrolling="native"),this.emit(),0!==this.velocity&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}};reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}raf=e=>{let t=e-(this.time||e);this.time=e,this.animate.advance(.001*t),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))};scrollTo(e,{offset:t=0,immediate:n=!1,lock:r=!1,duration:i=this.options.duration,easing:s=this.options.easing,lerp:a=this.options.lerp,onStart:o,onComplete:l,force:u=!1,programmatic:c=!0,userData:d}={}){if(!this.isStopped&&!this.isLocked||u){if("string"==typeof e&&["top","left","start"].includes(e))e=0;else if("string"==typeof e&&["bottom","right","end"].includes(e))e=this.limit;else{let n;if("string"==typeof e?n=document.querySelector(e):e instanceof HTMLElement&&e?.nodeType&&(n=e),n){if(this.options.wrapper!==window){let e=this.rootElement.getBoundingClientRect();t-=this.isHorizontal?e.left:e.top}let r=n.getBoundingClientRect();e=(this.isHorizontal?r.left:r.top)+this.animatedScroll}}if("number"==typeof e){if(e+=t,e=Math.round(e),this.options.infinite?c&&(this.targetScroll=this.animatedScroll=this.scroll):e=O(0,e,this.limit),e===this.targetScroll){o?.(this),l?.(this);return}if(this.userData=d??{},n){this.animatedScroll=this.targetScroll=e,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}c||(this.targetScroll=e),this.animate.fromTo(this.animatedScroll,e,{duration:i,easing:s,lerp:a,onStart:()=>{r&&(this.isLocked=!0),this.isScrolling="smooth",o?.(this)},onUpdate:(e,t)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=e-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=e,this.setScroll(this.scroll),c&&(this.targetScroll=e),t||this.emit(),t&&(this.reset(),this.emit(),l?.(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return"horizontal"===this.options.orientation}get actualScroll(){let e=this.options.wrapper;return this.isHorizontal?e.scrollX??e.scrollLeft:e.scrollY??e.scrollTop}get scroll(){var e;return this.options.infinite?(this.animatedScroll%(e=this.limit)+e)%e:this.animatedScroll}get progress(){return 0===this.limit?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(e){this._isScrolling!==e&&(this._isScrolling=e,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(e){this._isStopped!==e&&(this._isStopped=e,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(e){this._isLocked!==e&&(this._isLocked=e,this.updateClassName())}get isSmooth(){return"smooth"===this.isScrolling}get className(){let e="lenis";return this.isStopped&&(e+=" lenis-stopped"),this.isLocked&&(e+=" lenis-locked"),this.isScrolling&&(e+=" lenis-scrolling"),"smooth"===this.isScrolling&&(e+=" lenis-smooth"),e}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}};let j=e=>{let{children:t,header:n}=e,i=(0,y.useRouter)();return(0,c.useEffect)(()=>{let e=new U({wrapper:document.querySelector("#scroll-wrapper"),content:document.querySelector("#scroll-content"),prevent:e=>"navigation-menu"===e.id,lerp:!function(){var e;return(null===(e=M.parse(window.navigator.userAgent).os.name)||void 0===e?void 0:e.toLowerCase())==="macos"}()?.15:1,anchors:!0});window&&(window.lenis=e);let t=n=>{e.raf(n),s.ScrollTrigger.update(),requestAnimationFrame(t)};return requestAnimationFrame(t),()=>{e.destroy()}},[i]),(0,r.jsxs)("div",{className:"overflow-y-scroll h-[100dvh] relative z-0",id:"scroll-wrapper","data-sentry-component":"Scroll","data-sentry-source-file":"Scroll.tsx",children:[n,(0,r.jsx)("div",{className:"relative z-0",id:"scroll-content",children:t})]})};var B=n(9555),z=n(265),$=n(5789),V=n(6604);i.os.registerPlugin(s.ScrollTrigger);let W=e=>{var t;let{Component:n,pageProps:i,firebaseConfig:s,sesameEnv:a,datadogClientToken:o,datadogRumClientToken:l,datadogRumApplicationId:p,rudderstackWriteKey:g,googleAnalyticsId:m,sesameApiUrl:v,statSigKey:y,loginWithPopup:b}=e;c.useLayoutEffect(()=>{(0,h.Wp)(s)},[]);let w=c.useMemo(()=>({name:a,baseUrl:v,firebaseConfig:s,datadogKey:o,datadogRumKey:l,datadogRumAppId:p,rudderstackWriteKey:g}),[a,v,s,o,l,p,g]);c.useLayoutEffect(()=>{_.n.getState().initialize(b)},[b]);let S=c.useMemo(()=>({DebugUserPage:{firebaseConfig:s}}),[]);return(0,r.jsx)(B.A,{sesameEnv:a,statSigKey:y,"data-sentry-element":"FeatureFlagManagerProvider","data-sentry-component":"MyApp","data-sentry-source-file":"_app.tsx",children:(0,r.jsx)(z.WR,{datadogClientToken:o,datadogRumApplicationId:p,datadogRumClientToken:l,firebaseConfig:s,rudderstackWriteKey:g,sesameApiUrl:v,sesameEnv:a,"data-sentry-element":"SesameWebClientContextProvider","data-sentry-source-file":"_app.tsx",children:(0,r.jsxs)($.default,{environmentConfig:w,"data-sentry-element":"AppController","data-sentry-source-file":"_app.tsx",children:[(0,r.jsxs)(u(),{"data-sentry-element":"Head","data-sentry-source-file":"_app.tsx",children:[(null==i?void 0:null===(t=i.pageData)||void 0===t?void 0:t.metadata)?i.pageData.metadata.map(({tag:e,attributes:t,content:n})=>{let r=[e];return t&&"property"in t&&r.push(t.property),t&&"name"in t&&r.push(t.name),t&&"rel"in t&&r.push(t.rel),t&&"sizes"in t&&r.push(t.sizes),c.createElement(e,Object.assign({key:r.join("-")},t),n)}):null,(0,r.jsx)("meta",{content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",name:"viewport","data-sentry-element":"meta","data-sentry-source-file":"_app.tsx"})]}),(0,r.jsx)(d.GoogleAnalytics,{gaId:m,"data-sentry-element":"GoogleAnalytics","data-sentry-source-file":"_app.tsx"}),(0,r.jsxs)("main",{className:"".concat(f().variable," font-season"),children:[(0,r.jsx)(A,{"data-sentry-element":"Menu","data-sentry-source-file":"_app.tsx"}),(0,r.jsx)(j,{header:(0,r.jsx)(T,{}),"data-sentry-element":"Scroll","data-sentry-source-file":"_app.tsx",children:(0,r.jsx)(n,{displayName:n.render.displayName,visualizerProps:{sesameApiUrl:v,sesameEnv:a,firebaseConfig:s,rudderstackWriteKey:g,datadogClientToken:o,datadogRumClientToken:l,datadogRumApplicationId:p},...i,...S[n.render.displayName]||{},"data-sentry-element":"Component","data-sentry-source-file":"_app.tsx"})})]})]})})})};W.getInitialProps=async e=>{let t=await o().getInitialProps(e),n=JSON.parse(V.env.FIREBASE_CONFIG),r=V.env.SESAME_API_URL,i=V.env.SESAME_ENV,s=V.env.DATADOG_CLIENT_TOKEN,a=V.env.DATADOG_RUM_CLIENT_TOKEN,l=V.env.DATADOG_RUM_APPLICATION_ID,u=V.env.RUDDERSTACK_WRITE_KEY,c=V.env.GOOGLE_ANALYTICS_ID,d=V.env.STATSIG_CLIENT_KEY,h="popup"===V.env.LOGIN_MODE;return{...t,firebaseConfig:n,sesameApiUrl:r,sesameEnv:i,datadogClientToken:s,datadogRumClientToken:a,datadogRumApplicationId:l,rudderstackWriteKey:u,googleAnalyticsId:c,statSigKey:d,loginWithPopup:h}};let H=W},809:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigMetadataProvider=t.SDK_VERSION=void 0,t.SDK_VERSION="3.12.1";let n={sdkVersion:t.SDK_VERSION,sdkType:"js-mono"};t.StatsigMetadataProvider={get:()=>n,add:e=>{n=Object.assign(Object.assign({},n),e)}}},846:(e,t,n)=>{"use strict";let r;n.d(t,{vq:()=>l7,Py:()=>et,hm:()=>en,$h:()=>es,GO:()=>X,w2:()=>q,Kt:()=>R,iP:()=>ne,cT:()=>S,ab:()=>x,cW:()=>k,s5:()=>I,Ay:()=>E,yv:()=>T,Xe:()=>C,Uk:()=>l,Cb:()=>o,fr:()=>u,f2:()=>c,mC:()=>el,cJ:()=>h,F8:()=>A,qg:()=>O,fC:()=>M,K5:()=>H,us:()=>B,p3:()=>U,pM:()=>p,on:()=>cT,J_:()=>d,mn:()=>ea,WP:()=>cx,dO:()=>cR});class i{constructor(){this.NAME="call_start_attempt"}}class s{constructor(e,t){this.NAME="call_end",this.call_duration_ms=e,this.had_buffer_underrun=t>0,this.buffer_underrun_time_ms=t}}var a,o=function(e){return e.EndedByUser="ended_by_user",e.EndedByAgent="ended_by_agent",e.ReachedMaxDuration="reached_max_duration",e}({});class l{constructor(e,t){this.NAME="expected_call_end",this.reason=e,this.call_duration_ms=t}}var u=function(e){return e.MicPermissionDenied="mic_permission_denied",e.BrowserBackgrounded="browser_backgrounded",e}({});class c{constructor(e){this.NAME="expected_call_error",this.error=e}}class d{constructor(e,t,n){this.NAME="start_call_error",this.type=e,this.message=t,this.details=n}}class h{constructor(e,t,n){this.NAME="in_call_error",this.type=e,this.message=t,this.details=n}}class p{constructor(e,t,n){this.NAME="sesame_error",this.type=e,this.message=t,this.details=n}}class f{constructor(e){this.NAME="call_dropped",this.code=e}}class g{constructor(e,t,n){this.time_since_call_start_ms=e,this.empty_time_ms=t,this.rtt_ms=n}}class m{constructor(e){if(this.NAME="buffer_underruns",this.underrun_count=e.length,0===this.underrun_count)throw Error("BufferUnderrunEvent must have at least one instance");let t=0,n=0,r=[],i=[],s=[],a=0;for(let o of e)t+=o.empty_time_ms,n+=o.rtt_ms,r.push(o.time_since_call_start_ms),i.push(o.empty_time_ms),s.push(o.rtt_ms),a=Math.max(a,o.rtt_ms);this.avg_empty_time_ms=t/this.underrun_count,this.total_empty_time_ms=t,this.avg_rtt_ms=n/this.underrun_count,this.highest_rtt_ms=a,this.times_since_call_start_ms=r,this.empty_times_ms=i,this.rtt_times_ms=s}}class v{constructor(e,t,n,r){this.NAME="time_to_first_word",this.time_to_session_started=e,this.time_to_call_connected=t,this.time_to_audio_received=n,this.time_to_audio_played=r}}class y{constructor(e,t,n,r,i,s,a,o,l,u,c,d,h,p){this.user_start_timestamp_ms=e,this.source_timestamp_ms=t,this.sent_timestamp_ms=n,this.agent_end_timestamp_ms=r,this.received_timestamp_ms=i,this.played_timestamp_ms=s,this.end_to_end_duration=a,this.model_duration=o,this.server_duration=l,this.client_send_overhead=u,this.client_playback_overhead=c,this.client_overall_overhead=d,this.server_overhead=h,this.overall_overhead=p}}class _{constructor(e){if(this.NAME="response_latencies",this.max_user_start_timestamp_ms=0,this.max_source_timestamp_ms=0,this.max_sent_timestamp_ms=0,this.max_agent_end_timestamp_ms=0,this.max_received_timestamp_ms=0,this.max_played_timestamp_ms=0,this.max_end_to_end_duration=0,this.max_model_duration=0,this.max_server_duration=0,this.max_client_send_overhead=0,this.max_client_playback_overhead=0,this.max_client_overall_overhead=0,this.max_server_overhead=0,this.max_overall_overhead=0,this.total_events=e.length,0===this.total_events)throw Error("No response latency instances provided");let t=0,n=0,r=0,i=0,s=0,a=0,o=0,l=0,u=0,c=0,d=0,h=0,p=0,f=0;for(let g of e)t+=g.user_start_timestamp_ms,n+=g.source_timestamp_ms,r+=g.sent_timestamp_ms,i+=g.agent_end_timestamp_ms,s+=g.received_timestamp_ms,a+=g.played_timestamp_ms,o+=g.end_to_end_duration,l+=g.model_duration,u+=g.server_duration,c+=g.client_send_overhead,d+=g.client_playback_overhead,h+=g.client_overall_overhead,p+=g.server_overhead,f+=g.overall_overhead,this.max_user_start_timestamp_ms=Math.max(this.max_user_start_timestamp_ms,g.user_start_timestamp_ms),this.max_source_timestamp_ms=Math.max(this.max_source_timestamp_ms,g.source_timestamp_ms),this.max_sent_timestamp_ms=Math.max(this.max_sent_timestamp_ms,g.sent_timestamp_ms),this.max_agent_end_timestamp_ms=Math.max(this.max_agent_end_timestamp_ms,g.agent_end_timestamp_ms),this.max_received_timestamp_ms=Math.max(this.max_received_timestamp_ms,g.received_timestamp_ms),this.max_played_timestamp_ms=Math.max(this.max_played_timestamp_ms,g.played_timestamp_ms),this.max_end_to_end_duration=Math.max(this.max_end_to_end_duration,g.end_to_end_duration),this.max_model_duration=Math.max(this.max_model_duration,g.model_duration),this.max_server_duration=Math.max(this.max_server_duration,g.server_duration),this.max_client_send_overhead=Math.max(this.max_client_send_overhead,g.client_send_overhead),this.max_client_playback_overhead=Math.max(this.max_client_playback_overhead,g.client_playback_overhead),this.max_client_overall_overhead=Math.max(this.max_client_overall_overhead,g.client_overall_overhead),this.max_server_overhead=Math.max(this.max_server_overhead,g.server_overhead),this.max_overall_overhead=Math.max(this.max_overall_overhead,g.overall_overhead);this.user_start_timestamp_ms=t/this.total_events,this.source_timestamp_ms=n/this.total_events,this.sent_timestamp_ms=r/this.total_events,this.agent_end_timestamp_ms=i/this.total_events,this.received_timestamp_ms=s/this.total_events,this.played_timestamp_ms=a/this.total_events,this.end_to_end_duration=o/this.total_events,this.model_duration=l/this.total_events,this.server_duration=u/this.total_events,this.client_send_overhead=c/this.total_events,this.client_playback_overhead=d/this.total_events,this.client_overall_overhead=h/this.total_events,this.server_overhead=p/this.total_events,this.overall_overhead=f/this.total_events}}class b{constructor(e,t){this.NAME="websocket_closed",this.code=e,this.was_connected=t}}class w{constructor(e,t){this.NAME="websocket_connected",this.attempts=e,this.total_time_ms=t}}class S{constructor(e=!1){this.NAME="clip_download_clicked",this.is_repeated=e}}class k{constructor(e,t,n){this.NAME="clip_download_prepared",this.file_size=e,this.file_extension=t,this.preparation_duration_ms=n}}class E{constructor(e,t){this.NAME="clip_download_sharing_started",this.file_size=e,this.file_extension=t}}class T{constructor(e,t){this.NAME="clip_download_sharing_succeeded",this.file_size=e,this.file_extension=t}}class I{constructor(e,t,n){this.NAME="clip_download_sharing_failed",this.file_size=e,this.file_extension=t,this.error=n}}class C{constructor(e,t){this.NAME="clip_download_sharing_user_aborted",this.file_size=e,this.file_extension=t}}class x{constructor(e,t){this.NAME="clip_download_file_download_started",this.file_size=e,this.file_extension=t}}class A{constructor(){this.NAME="login_attempt"}}class M{constructor(){this.NAME="login_success"}}class O{constructor(e,t,n){this.NAME="login_error",this.type=e,this.message=t,this.details=n}}class R{constructor(e){this.NAME="call_feedback",this.rating=e}}var P=function(e){return e.FirstWordLatency="first_word_latency",e.AgentResponseLatency="agent_response_latency",e.BufferUnderruns="buffer_underruns",e}({});class D{constructor(e,t,n,r,i,s){this.NAME="quality_report",this.axis=e,this.raw_value=t,this.observations=n,this.rating=r,this.offsetMs=i,this.truncated=s}}let N="Maya",L={Maya:"Maya",Miles:"Miles"};var F=function(e){return e[e.TryAgainLater=1013]="TryAgainLater",e[e.CallDurationLimitExceeded=4001]="CallDurationLimitExceeded",e[e.Overloaded=4002]="Overloaded",e[e.FirstMessageNotReceived=4050]="FirstMessageNotReceived",e}({});class U extends Error{constructor(e,t,n){super(e),this.code=t,this.details=n,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class j extends U{constructor(e,t){super(e,"PERMISSIONS_ERROR",t)}}class B extends U{constructor(e,t){super(e,"SERVICE_UNAVAILABLE",t)}}class z extends U{constructor(e,t){super(e,"TIMEOUT_ERROR",t)}}class $ extends U{constructor(e,t){super(e,"CONNECTION_ERROR",t)}}class V extends U{constructor(e,t){super(e,"CONNECTION_CLOSE_ERROR",t)}}class W extends U{constructor(e,t){super(e,"USER_NOT_AUTHENTICATED_ERROR",t)}}class H extends U{constructor(e,t){super(e,"SERVER_CALL_DISCONNECT_ERROR",t)}}class q extends H{constructor(e,t){super(e,t)}}class G extends U{constructor(e,t){var n;super(e,"TRANSPORT_ERROR",t),this.closeConnection=null!==(n=null==t?void 0:t.close_connection)&&void 0!==n&&n}}class K extends U{constructor(e,t){super(e,"INVALID_MESSAGE_ERROR",t)}}class Z extends U{constructor(e,t){super(e,"CALL_STATE_ERROR",t)}}class J extends U{constructor(e,t){super(e,"CALL_CONNECT_ERROR",t)}}class X extends U{constructor(e,t){super(e,"CALL_DROPPED_ERROR",t)}}class Y extends U{constructor(e,t){super(e,"AUDIO_ERROR",t)}}class Q extends U{constructor(e,t){super(e,"AUDIO_INPUT_ERROR",t)}}class ee extends U{constructor(e,t){super(e,"UNKNOWN_ERROR",t)}}class et extends U{constructor(e,t){super(e,"AUDIO_INPUT_NOT_RECORDING",t)}}class en extends U{constructor(e,t){super(e,"AUDIO_OUTPUT_NOT_PLAYING",t)}}class er extends U{constructor(e,t){super(e,"INVALID_MESSAGE_TYPE_ERROR",t)}}class ei extends U{constructor(e,t){super(e,"AUDIO_SESSION_ERROR",t)}}class es extends U{constructor(e,t){super(e,"BACKGROUND_CALL_ERROR",t)}}class ea extends U{constructor(e,t){super(e,"UNSUPPORTED_BROWSER_ERROR",t)}}var eo=function(e){return e.DUMMY="dummy",e.DISABLE_CALLING="disable_calling",e.UPLOAD_CLIENT_RECORDING="upload_client_recording",e.VIDEO_DOWNLOAD="video_download",e.SESAME_COM_LOGIN="sesame_com_login",e}({}),el=function(e){return e.DUMMY="dummy",e.WEB_AUDIO_CONFIG="web_audio_config",e.VIDEO_DOWNLOAD_CONFIG="video_download_config",e.WEBSOCKET_CONFIG="websocket_config",e.BACKOFF_CONFIG="backoff_config",e.DATADOG_CONFIG="datadog_config",e}({});let eu={dummy:{value:"default"},web_audio_config:{min_buffer_ms:60,max_buffer_ms:800,target_buffer_ms:120,buffer_padding_multiplier:1.25,rtt_logging_interval_ms:1e3,rtt_history_count:5,poor_rtt_threshold_ms:300},video_download_config:{max_duration_s:1800,max_share_size_mb:50},websocket_config:{message_timeout_ms:5e3,record_input_timeout_ms:3e3,play_output_timeout_ms:1e4},backoff_config:{delay_first_attempt:!1,num_of_attempts:3,starting_delay:200,max_delay:1e3,time_multiple:2,first_message_timeout_ms:500},datadog_config:{logs_enabled:!0,log_session_sample_rate:100,rum_enabled:!0,rum_session_sample_rate:100,enable_error_tracking:!0}};var ec=n(1107);(function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(let e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t})(rN||(rN={})),(rL||(rL={})).mergeShapes=(e,t)=>({...e,...t});let ed=rN.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eh=e=>{switch(typeof e){case"undefined":return ed.undefined;case"string":return ed.string;case"number":return isNaN(e)?ed.nan:ed.number;case"boolean":return ed.boolean;case"function":return ed.function;case"bigint":return ed.bigint;case"symbol":return ed.symbol;case"object":if(Array.isArray(e))return ed.array;if(null===e)return ed.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return ed.promise;if("undefined"!=typeof Map&&e instanceof Map)return ed.map;if("undefined"!=typeof Set&&e instanceof Set)return ed.set;if("undefined"!=typeof Date&&e instanceof Date)return ed.date;return ed.object;default:return ed.unknown}},ep=rN.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ef extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof ef))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rN.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}ef.create=e=>new ef(e);let eg=(e,t)=>{let n;switch(e.code){case ep.invalid_type:n=e.received===ed.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ep.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rN.jsonStringifyReplacer)}`;break;case ep.unrecognized_keys:n=`Unrecognized key(s) in object: ${rN.joinValues(e.keys,", ")}`;break;case ep.invalid_union:n="Invalid input";break;case ep.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rN.joinValues(e.options)}`;break;case ep.invalid_enum_value:n=`Invalid enum value. Expected ${rN.joinValues(e.options)}, received '${e.received}'`;break;case ep.invalid_arguments:n="Invalid function arguments";break;case ep.invalid_return_type:n="Invalid function return type";break;case ep.invalid_date:n="Invalid date";break;case ep.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rN.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ep.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ep.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ep.custom:n="Invalid input";break;case ep.invalid_intersection_types:n="Intersection results could not be merged";break;case ep.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ep.not_finite:n="Number must be finite";break;default:n=t.defaultError,rN.assertNever(e)}return{message:n}},em=eg;function ev(){return em}let ey=e=>{let{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of r.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function e_(e,t){let n=ev(),r=ey({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===eg?void 0:eg].filter(e=>!!e)});e.common.issues.push(r)}class eb{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let r of t){if("aborted"===r.status)return ew;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t){let t=await e.key,r=await e.value;n.push({key:t,value:r})}return eb.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let r of t){let{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return ew;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}let ew=Object.freeze({status:"aborted"}),eS=e=>({status:"dirty",value:e}),ek=e=>({status:"valid",value:e}),eE=e=>"aborted"===e.status,eT=e=>"dirty"===e.status,eI=e=>"valid"===e.status,eC=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ex(e,t,n,r){if("a"===n&&!r)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function eA(e,t,n,r,i){if("m"===r)throw TypeError("Private method is not writable");if("a"===r&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(rF||(rF={}));class eM{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let eO=(e,t)=>{if(eI(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new ef(e.common.issues);return this._error=t,this._error}}};function eR(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var s,a;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(s=null!=o?o:r)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=o?o:n)&&void 0!==a?a:i.defaultError}},description:i}}class eP{get description(){return this._def.description}_getType(e){return eh(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:eh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eb,ctx:{common:e.parent.common,data:e.data,parsedType:eh(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(eC(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)},i=this._parseSync({data:e,path:r.path,parent:r});return eO(r,i)}"~validate"(e){var t,n;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:r});return eI(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(e=>eI(e)?{value:e.value}:{issues:r.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eh(e)},r=this._parse({data:e,path:n.path,parent:n});return eO(n,await (eC(r)?r:Promise.resolve(r)))}refine(e,t){let n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{let i=e(t),s=()=>r.addIssue({code:ep.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new tv({schema:this,typeName:rB.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ty.create(this,this._def)}nullable(){return t_.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return te.create(this)}promise(){return tm.create(this,this._def)}or(e){return tn.create([this,e],this._def)}and(e){return ts.create(this,e,this._def)}transform(e){return new tv({...eR(this._def),schema:this,typeName:rB.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tb({...eR(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:rB.ZodDefault})}brand(){return new tE({typeName:rB.ZodBranded,type:this,...eR(this._def)})}catch(e){return new tw({...eR(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:rB.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tT.create(this,e)}readonly(){return tI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let eD=/^c[^\s-]{8,}$/i,eN=/^[0-9a-z]+$/,eL=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eF=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,eU=/^[a-z0-9_-]{21}$/i,ej=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eB=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ez=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eV=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eW=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,eq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,eG=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,eK="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eZ=RegExp(`^${eK}$`);function eJ(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function eX(e){let t=`${eK}T${eJ(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,RegExp(`^${t}$`)}class eY extends eP{_parse(e){var t,n,i,s;let a;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ed.string){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.string,received:t.parsedType}),ew}let o=new eb;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(e_(a=this._getOrReturnCtx(e,a),{code:ep.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("max"===l.kind)e.data.length>l.value&&(e_(a=this._getOrReturnCtx(e,a),{code:ep.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),o.dirty());else if("length"===l.kind){let t=e.data.length>l.value,n=e.data.length<l.value;(t||n)&&(a=this._getOrReturnCtx(e,a),t?e_(a,{code:ep.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):n&&e_(a,{code:ep.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),o.dirty())}else if("email"===l.kind)ez.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"email",code:ep.invalid_string,message:l.message}),o.dirty());else if("emoji"===l.kind)r||(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"emoji",code:ep.invalid_string,message:l.message}),o.dirty());else if("uuid"===l.kind)eF.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"uuid",code:ep.invalid_string,message:l.message}),o.dirty());else if("nanoid"===l.kind)eU.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"nanoid",code:ep.invalid_string,message:l.message}),o.dirty());else if("cuid"===l.kind)eD.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"cuid",code:ep.invalid_string,message:l.message}),o.dirty());else if("cuid2"===l.kind)eN.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"cuid2",code:ep.invalid_string,message:l.message}),o.dirty());else if("ulid"===l.kind)eL.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"ulid",code:ep.invalid_string,message:l.message}),o.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){e_(a=this._getOrReturnCtx(e,a),{validation:"url",code:ep.invalid_string,message:l.message}),o.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"regex",code:ep.invalid_string,message:l.message}),o.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),o.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:{startsWith:l.value},message:l.message}),o.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:{endsWith:l.value},message:l.message}),o.dirty()):"datetime"===l.kind?eX(l).test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:"datetime",message:l.message}),o.dirty()):"date"===l.kind?eZ.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:"date",message:l.message}),o.dirty()):"time"===l.kind?RegExp(`^${eJ(l)}$`).test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{code:ep.invalid_string,validation:"time",message:l.message}),o.dirty()):"duration"===l.kind?eB.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"duration",code:ep.invalid_string,message:l.message}),o.dirty()):"ip"===l.kind?(t=e.data,!(("v4"===(n=l.version)||!n)&&e$.test(t)||("v6"===n||!n)&&eW.test(t))&&(e_(a=this._getOrReturnCtx(e,a),{validation:"ip",code:ep.invalid_string,message:l.message}),o.dirty())):"jwt"===l.kind?!function(e,t){if(!ej.test(e))return!1;try{let[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(e_(a=this._getOrReturnCtx(e,a),{validation:"jwt",code:ep.invalid_string,message:l.message}),o.dirty()):"cidr"===l.kind?(i=e.data,!(("v4"===(s=l.version)||!s)&&eV.test(i)||("v6"===s||!s)&&eH.test(i))&&(e_(a=this._getOrReturnCtx(e,a),{validation:"cidr",code:ep.invalid_string,message:l.message}),o.dirty())):"base64"===l.kind?eq.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"base64",code:ep.invalid_string,message:l.message}),o.dirty()):"base64url"===l.kind?eG.test(e.data)||(e_(a=this._getOrReturnCtx(e,a),{validation:"base64url",code:ep.invalid_string,message:l.message}),o.dirty()):rN.assertNever(l);return{status:o.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:ep.invalid_string,...rF.errToObj(n)})}_addCheck(e){return new eY({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...rF.errToObj(e)})}url(e){return this._addCheck({kind:"url",...rF.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...rF.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...rF.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...rF.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...rF.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...rF.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...rF.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...rF.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...rF.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...rF.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...rF.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...rF.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...rF.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...rF.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...rF.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...rF.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...rF.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...rF.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...rF.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...rF.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...rF.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...rF.errToObj(t)})}nonempty(e){return this.min(1,rF.errToObj(e))}trim(){return new eY({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new eY({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new eY({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}eY.create=e=>{var t;return new eY({checks:[],typeName:rB.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...eR(e)})};class eQ extends eP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ed.number){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.number,received:t.parsedType}),ew}let n=new eb;for(let r of this._def.checks)"int"===r.kind?rN.isInteger(e.data)||(e_(t=this._getOrReturnCtx(e,t),{code:ep.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,r.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(e_(t=this._getOrReturnCtx(e,t),{code:ep.not_finite,message:r.message}),n.dirty()):rN.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,rF.toString(t))}gt(e,t){return this.setLimit("min",e,!1,rF.toString(t))}lte(e,t){return this.setLimit("max",e,!0,rF.toString(t))}lt(e,t){return this.setLimit("max",e,!1,rF.toString(t))}setLimit(e,t,n,r){return new eQ({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:rF.toString(r)}]})}_addCheck(e){return new eQ({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:rF.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:rF.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:rF.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:rF.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:rF.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:rF.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:rF.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:rF.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:rF.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&rN.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}eQ.create=e=>new eQ({checks:[],typeName:rB.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...eR(e)});class e0 extends eP{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==ed.bigint)return this._getInvalidInput(e);let n=new eb;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):rN.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.bigint,received:t.parsedType}),ew}gte(e,t){return this.setLimit("min",e,!0,rF.toString(t))}gt(e,t){return this.setLimit("min",e,!1,rF.toString(t))}lte(e,t){return this.setLimit("max",e,!0,rF.toString(t))}lt(e,t){return this.setLimit("max",e,!1,rF.toString(t))}setLimit(e,t,n,r){return new e0({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:rF.toString(r)}]})}_addCheck(e){return new e0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:rF.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:rF.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:rF.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:rF.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:rF.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}e0.create=e=>{var t;return new e0({checks:[],typeName:rB.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...eR(e)})};class e1 extends eP{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ed.boolean){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.boolean,received:t.parsedType}),ew}return ek(e.data)}}e1.create=e=>new e1({typeName:rB.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...eR(e)});class e2 extends eP{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ed.date){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.date,received:t.parsedType}),ew}if(isNaN(e.data.getTime()))return e_(this._getOrReturnCtx(e),{code:ep.invalid_date}),ew;let n=new eb;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),n.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(e_(t=this._getOrReturnCtx(e,t),{code:ep.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),n.dirty()):rN.assertNever(r);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new e2({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:rF.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:rF.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}e2.create=e=>new e2({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:rB.ZodDate,...eR(e)});class e3 extends eP{_parse(e){if(this._getType(e)!==ed.symbol){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.symbol,received:t.parsedType}),ew}return ek(e.data)}}e3.create=e=>new e3({typeName:rB.ZodSymbol,...eR(e)});class e5 extends eP{_parse(e){if(this._getType(e)!==ed.undefined){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.undefined,received:t.parsedType}),ew}return ek(e.data)}}e5.create=e=>new e5({typeName:rB.ZodUndefined,...eR(e)});class e6 extends eP{_parse(e){if(this._getType(e)!==ed.null){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.null,received:t.parsedType}),ew}return ek(e.data)}}e6.create=e=>new e6({typeName:rB.ZodNull,...eR(e)});class e4 extends eP{constructor(){super(...arguments),this._any=!0}_parse(e){return ek(e.data)}}e4.create=e=>new e4({typeName:rB.ZodAny,...eR(e)});class e8 extends eP{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ek(e.data)}}e8.create=e=>new e8({typeName:rB.ZodUnknown,...eR(e)});class e7 extends eP{_parse(e){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.never,received:t.parsedType}),ew}}e7.create=e=>new e7({typeName:rB.ZodNever,...eR(e)});class e9 extends eP{_parse(e){if(this._getType(e)!==ed.undefined){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.void,received:t.parsedType}),ew}return ek(e.data)}}e9.create=e=>new e9({typeName:rB.ZodVoid,...eR(e)});class te extends eP{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==ed.array)return e_(t,{code:ep.invalid_type,expected:ed.array,received:t.parsedType}),ew;if(null!==r.exactLength){let e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(e_(t,{code:e?ep.too_big:ep.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(e_(t,{code:ep.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(e_(t,{code:ep.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new eM(t,e,t.path,n)))).then(e=>eb.mergeArray(n,e));let i=[...t.data].map((e,n)=>r.type._parseSync(new eM(t,e,t.path,n)));return eb.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new te({...this._def,minLength:{value:e,message:rF.toString(t)}})}max(e,t){return new te({...this._def,maxLength:{value:e,message:rF.toString(t)}})}length(e,t){return new te({...this._def,exactLength:{value:e,message:rF.toString(t)}})}nonempty(e){return this.min(1,e)}}te.create=(e,t)=>new te({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rB.ZodArray,...eR(t)});class tt extends eP{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=rN.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ed.object){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.object,received:t.parsedType}),ew}let{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof e7&&"strip"===this._def.unknownKeys))for(let e in n.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=r[e],i=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new eM(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof e7){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(e_(n,{code:ep.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new eM(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>eb.mergeObjectSync(t,e)):eb.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return rF.errToObj,new tt({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,s,a;let o=null!==(s=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==s?s:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=rF.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new tt({...this._def,unknownKeys:"strip"})}passthrough(){return new tt({...this._def,unknownKeys:"passthrough"})}extend(e){return new tt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rB.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tt({...this._def,catchall:e})}pick(e){let t={};return rN.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new tt({...this._def,shape:()=>t})}omit(e){let t={};return rN.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new tt({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tt){let n={};for(let r in t.shape){let i=t.shape[r];n[r]=ty.create(e(i))}return new tt({...t._def,shape:()=>n})}if(t instanceof te)return new te({...t._def,type:e(t.element)});if(t instanceof ty)return ty.create(e(t.unwrap()));if(t instanceof t_)return t_.create(e(t.unwrap()));if(t instanceof ta)return ta.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};return rN.objectKeys(this.shape).forEach(n=>{let r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new tt({...this._def,shape:()=>t})}required(e){let t={};return rN.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ty;)e=e._def.innerType;t[n]=e}}),new tt({...this._def,shape:()=>t})}keyof(){return tp(rN.objectKeys(this.shape))}}tt.create=(e,t)=>new tt({shape:()=>e,unknownKeys:"strip",catchall:e7.create(),typeName:rB.ZodObject,...eR(t)}),tt.strictCreate=(e,t)=>new tt({shape:()=>e,unknownKeys:"strict",catchall:e7.create(),typeName:rB.ZodObject,...eR(t)}),tt.lazycreate=(e,t)=>new tt({shape:e,unknownKeys:"strip",catchall:e7.create(),typeName:rB.ZodObject,...eR(t)});class tn extends eP{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new ef(e.ctx.common.issues));return e_(t,{code:ep.invalid_union,unionErrors:n}),ew});{let e;let r=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=r.map(e=>new ef(e));return e_(t,{code:ep.invalid_union,unionErrors:i}),ew}}get options(){return this._def.options}}tn.create=(e,t)=>new tn({options:e,typeName:rB.ZodUnion,...eR(t)});let tr=e=>{if(e instanceof td)return tr(e.schema);if(e instanceof tv)return tr(e.innerType());if(e instanceof th)return[e.value];if(e instanceof tf)return e.options;if(e instanceof tg)return rN.objectValues(e.enum);else if(e instanceof tb)return tr(e._def.innerType);else if(e instanceof e5)return[void 0];else if(e instanceof e6)return[null];else if(e instanceof ty)return[void 0,...tr(e.unwrap())];else if(e instanceof t_)return[null,...tr(e.unwrap())];else if(e instanceof tE)return tr(e.unwrap());else if(e instanceof tI)return tr(e.unwrap());else if(e instanceof tw)return tr(e._def.innerType);else return[]};class ti extends eP{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ed.object)return e_(t,{code:ep.invalid_type,expected:ed.object,received:t.parsedType}),ew;let n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(e_(t,{code:ep.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ew)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let r=new Map;for(let n of t){let t=tr(n.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(r.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ti({typeName:rB.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...eR(n)})}}class ts extends eP{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(eE(e)||eE(r))return ew;let i=function e(t,n){let r=eh(t),i=eh(n);if(t===n)return{valid:!0,data:t};if(r===ed.object&&i===ed.object){let r=rN.objectKeys(n),i=rN.objectKeys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1};s[r]=i.data}return{valid:!0,data:s}}if(r===ed.array&&i===ed.array){if(t.length!==n.length)return{valid:!1};let r=[];for(let i=0;i<t.length;i++){let s=e(t[i],n[i]);if(!s.valid)return{valid:!1};r.push(s.data)}return{valid:!0,data:r}}if(r===ed.date&&i===ed.date&&+t==+n)return{valid:!0,data:t};return{valid:!1}}(e.value,r.value);return i.valid?((eT(e)||eT(r))&&t.dirty(),{status:t.value,value:i.data}):(e_(n,{code:ep.invalid_intersection_types}),ew)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}ts.create=(e,t,n)=>new ts({left:e,right:t,typeName:rB.ZodIntersection,...eR(n)});class ta extends eP{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ed.array)return e_(n,{code:ep.invalid_type,expected:ed.array,received:n.parsedType}),ew;if(n.data.length<this._def.items.length)return e_(n,{code:ep.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ew;!this._def.rest&&n.data.length>this._def.items.length&&(e_(n,{code:ep.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let r=[...n.data].map((e,t)=>{let r=this._def.items[t]||this._def.rest;return r?r._parse(new eM(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>eb.mergeArray(t,e)):eb.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:e,typeName:rB.ZodTuple,rest:null,...eR(t)})};class to extends eP{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ed.object)return e_(n,{code:ep.invalid_type,expected:ed.object,received:n.parsedType}),ew;let r=[],i=this._def.keyType,s=this._def.valueType;for(let e in n.data)r.push({key:i._parse(new eM(n,e,n.path,e)),value:s._parse(new eM(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?eb.mergeObjectAsync(t,r):eb.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new to(t instanceof eP?{keyType:e,valueType:t,typeName:rB.ZodRecord,...eR(n)}:{keyType:eY.create(),valueType:e,typeName:rB.ZodRecord,...eR(t)})}}class tl extends eP{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ed.map)return e_(n,{code:ep.invalid_type,expected:ed.map,received:n.parsedType}),ew;let r=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([e,t],s)=>({key:r._parse(new eM(n,e,n.path,[s,"key"])),value:i._parse(new eM(n,t,n.path,[s,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of s){let r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return ew;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of s){let r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return ew;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}tl.create=(e,t,n)=>new tl({valueType:t,keyType:e,typeName:rB.ZodMap,...eR(n)});class tu extends eP{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ed.set)return e_(n,{code:ep.invalid_type,expected:ed.set,received:n.parsedType}),ew;let r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(e_(n,{code:ep.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(e_(n,{code:ep.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let n=new Set;for(let r of e){if("aborted"===r.status)return ew;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}let a=[...n.data.values()].map((e,t)=>i._parse(new eM(n,e,n.path,t)));return n.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new tu({...this._def,minSize:{value:e,message:rF.toString(t)}})}max(e,t){return new tu({...this._def,maxSize:{value:e,message:rF.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tu.create=(e,t)=>new tu({valueType:e,minSize:null,maxSize:null,typeName:rB.ZodSet,...eR(t)});class tc extends eP{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==ed.function)return e_(t,{code:ep.invalid_type,expected:ed.function,received:t.parsedType}),ew;function n(e,n){return ey({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ev(),eg].filter(e=>!!e),issueData:{code:ep.invalid_arguments,argumentsError:n}})}function r(e,n){return ey({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,ev(),eg].filter(e=>!!e),issueData:{code:ep.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof tm){let e=this;return ek(async function(...t){let a=new ef([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(n(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(r(l,e)),a})})}{let e=this;return ek(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new ef([n(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new ef([r(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tc({...this._def,args:ta.create(e).rest(e8.create())})}returns(e){return new tc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new tc({args:e||ta.create([]).rest(e8.create()),returns:t||e8.create(),typeName:rB.ZodFunction,...eR(n)})}}class td extends eP{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}td.create=(e,t)=>new td({getter:e,typeName:rB.ZodLazy,...eR(t)});class th extends eP{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e_(t,{received:t.data,code:ep.invalid_literal,expected:this._def.value}),ew}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tp(e,t){return new tf({values:e,typeName:rB.ZodEnum,...eR(t)})}th.create=(e,t)=>new th({value:e,typeName:rB.ZodLiteral,...eR(t)});class tf extends eP{constructor(){super(...arguments),rU.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return e_(t,{expected:rN.joinValues(n),received:t.parsedType,code:ep.invalid_type}),ew}if(ex(this,rU,"f")||eA(this,rU,new Set(this._def.values),"f"),!ex(this,rU,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return e_(t,{received:t.data,code:ep.invalid_enum_value,options:n}),ew}return ek(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tf.create(e,{...this._def,...t})}exclude(e,t=this._def){return tf.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}rU=new WeakMap,tf.create=tp;class tg extends eP{constructor(){super(...arguments),rj.set(this,void 0)}_parse(e){let t=rN.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ed.string&&n.parsedType!==ed.number){let e=rN.objectValues(t);return e_(n,{expected:rN.joinValues(e),received:n.parsedType,code:ep.invalid_type}),ew}if(ex(this,rj,"f")||eA(this,rj,new Set(rN.getValidEnumValues(this._def.values)),"f"),!ex(this,rj,"f").has(e.data)){let e=rN.objectValues(t);return e_(n,{received:n.data,code:ep.invalid_enum_value,options:e}),ew}return ek(e.data)}get enum(){return this._def.values}}rj=new WeakMap,tg.create=(e,t)=>new tg({values:e,typeName:rB.ZodNativeEnum,...eR(t)});class tm extends eP{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==ed.promise&&!1===t.common.async?(e_(t,{code:ep.invalid_type,expected:ed.promise,received:t.parsedType}),ew):ek((t.parsedType===ed.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tm.create=(e,t)=>new tm({type:e,typeName:rB.ZodPromise,...eR(t)});class tv extends eP{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rB.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{e_(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){let e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ew;let r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?ew:"dirty"===r.status||"dirty"===t.value?eS(r.value):r});{if("aborted"===t.value)return ew;let r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?ew:"dirty"===r.status||"dirty"===t.value?eS(r.value):r}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?ew:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ew:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}}if("transform"===r.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>eI(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!eI(e))return e;let s=r.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}rN.assertNever(r)}}tv.create=(e,t,n)=>new tv({schema:e,typeName:rB.ZodEffects,effect:t,...eR(n)}),tv.createWithPreprocess=(e,t,n)=>new tv({schema:t,effect:{type:"preprocess",transform:e},typeName:rB.ZodEffects,...eR(n)});class ty extends eP{_parse(e){return this._getType(e)===ed.undefined?ek(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ty.create=(e,t)=>new ty({innerType:e,typeName:rB.ZodOptional,...eR(t)});class t_ extends eP{_parse(e){return this._getType(e)===ed.null?ek(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t_.create=(e,t)=>new t_({innerType:e,typeName:rB.ZodNullable,...eR(t)});class tb extends eP{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===ed.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tb.create=(e,t)=>new tb({innerType:e,typeName:rB.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eR(t)});class tw extends eP{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return eC(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ef(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new ef(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}tw.create=(e,t)=>new tw({innerType:e,typeName:rB.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eR(t)});class tS extends eP{_parse(e){if(this._getType(e)!==ed.nan){let t=this._getOrReturnCtx(e);return e_(t,{code:ep.invalid_type,expected:ed.nan,received:t.parsedType}),ew}return{status:"valid",value:e.data}}}tS.create=e=>new tS({typeName:rB.ZodNaN,...eR(e)});let tk=Symbol("zod_brand");class tE extends eP{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class tT extends eP{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ew:"dirty"===e.status?(t.dirty(),eS(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ew:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new tT({in:e,out:t,typeName:rB.ZodPipeline})}}class tI extends eP{_parse(e){let t=this._def.innerType._parse(e),n=e=>(eI(e)&&(e.value=Object.freeze(e.value)),e);return eC(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function tC(e,t={},n){return e?e4.create().superRefine((r,i)=>{var s,a;if(!e(r)){let e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:n)||void 0===a||a,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:o})}}):e4.create()}tI.create=(e,t)=>new tI({innerType:e,typeName:rB.ZodReadonly,...eR(t)});let tx={object:tt.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(rB||(rB={}));let tA=eY.create,tM=eQ.create,tO=tS.create,tR=e0.create,tP=e1.create,tD=e2.create,tN=e3.create,tL=e5.create,tF=e6.create,tU=e4.create,tj=e8.create,tB=e7.create,tz=e9.create,t$=te.create,tV=tt.create,tW=tt.strictCreate,tH=tn.create,tq=ti.create,tG=ts.create,tK=ta.create,tZ=to.create,tJ=tl.create,tX=tu.create,tY=tc.create,tQ=td.create,t0=th.create,t1=tf.create,t2=tg.create,t3=tm.create,t5=tv.create,t6=ty.create,t4=t_.create,t8=tv.createWithPreprocess,t7=tT.create;var t9=Object.freeze({__proto__:null,defaultErrorMap:eg,setErrorMap:function(e){em=e},getErrorMap:ev,makeIssue:ey,EMPTY_PATH:[],addIssueToContext:e_,ParseStatus:eb,INVALID:ew,DIRTY:eS,OK:ek,isAborted:eE,isDirty:eT,isValid:eI,isAsync:eC,get util(){return rN},get objectUtil(){return rL},ZodParsedType:ed,getParsedType:eh,ZodType:eP,datetimeRegex:eX,ZodString:eY,ZodNumber:eQ,ZodBigInt:e0,ZodBoolean:e1,ZodDate:e2,ZodSymbol:e3,ZodUndefined:e5,ZodNull:e6,ZodAny:e4,ZodUnknown:e8,ZodNever:e7,ZodVoid:e9,ZodArray:te,ZodObject:tt,ZodUnion:tn,ZodDiscriminatedUnion:ti,ZodIntersection:ts,ZodTuple:ta,ZodRecord:to,ZodMap:tl,ZodSet:tu,ZodFunction:tc,ZodLazy:td,ZodLiteral:th,ZodEnum:tf,ZodNativeEnum:tg,ZodPromise:tm,ZodEffects:tv,ZodTransformer:tv,ZodOptional:ty,ZodNullable:t_,ZodDefault:tb,ZodCatch:tw,ZodNaN:tS,BRAND:tk,ZodBranded:tE,ZodPipeline:tT,ZodReadonly:tI,custom:tC,Schema:eP,ZodSchema:eP,late:tx,get ZodFirstPartyTypeKind(){return rB},coerce:{string:e=>eY.create({...e,coerce:!0}),number:e=>eQ.create({...e,coerce:!0}),boolean:e=>e1.create({...e,coerce:!0}),bigint:e=>e0.create({...e,coerce:!0}),date:e=>e2.create({...e,coerce:!0})},any:tU,array:t$,bigint:tR,boolean:tP,date:tD,discriminatedUnion:tq,effect:t5,enum:t1,function:tY,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>tC(t=>t instanceof e,t),intersection:tG,lazy:tQ,literal:t0,map:tJ,nan:tO,nativeEnum:t2,never:tB,null:tF,nullable:t4,number:tM,object:tV,oboolean:()=>tP().optional(),onumber:()=>tM().optional(),optional:t6,ostring:()=>tA().optional(),pipeline:t7,preprocess:t8,promise:t3,record:tZ,set:tX,strictObject:tW,string:tA,symbol:tN,transformer:t5,tuple:tK,undefined:tL,union:tH,unknown:tj,void:tz,NEVER:ew,ZodIssueCode:ep,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:ef}),ne=function(e){return e.DISCONNECTING="Disconnecting",e.DISCONNECTED="Disconnected",e.CONNECTING="Connecting",e.CONNECTED="Connected",e}({}),nt=function(e){return e.Initialize="initialize",e.CallConnect="call_connect",e.CallConnectResponse="call_connect_response",e.CallDisconnect="call_disconnect",e.CallDisconnectResponse="call_disconnect_response",e.Chat="chat",e.ChatGet="chat_get",e.ClientActivityState="client_activity_state",e.ClientLocationState="client_location_state",e.ClientVoiceState="client_voice_state",e.Audio="audio",e.Image="image",e.Error="error",e.Agent="agent",e.UpdateProfile="update_profile",e.DemoSession="demo_session",e.DemoTranscriptSession="demo_transcript_session",e.DirectiveSessionEvent="directive_session_event",e.Ping="ping",e.PingResponse="ping_response",e}({});let nn=t9.object({type:t9.nativeEnum(nt),session_id:t9.string().optional().default(""),call_id:t9.number().int().nullable().optional(),request_id:t9.string().nullable().optional()}),nr=(e,t)=>nn.extend({type:t9.literal(e),content:t}),ni=t9.object({session_id:t9.string()}),ns=t9.object({sample_rate:t9.number().int(),audio_codec:t9.enum(["none","opus"]),reconnect:t9.boolean(),is_private:t9.boolean().optional(),settings:t9.record(t9.any()).optional(),client_name:t9.string().optional(),client_metadata:t9.record(t9.any()).optional()}),na=t9.object({sample_rate:t9.number().int(),audio_codec:t9.enum(["none","opus"])}),no=t9.object({reason:t9.enum(["user_request","other_reason","shutdown","error","call_duration_limit_exceeded"])}),nl=t9.object({id:t9.number().int().optional(),sender:t9.string(),content:t9.string(),created_at:t9.string()}),nu=t9.object({messages:t9.array(nl)}),nc=t9.object({limit:t9.number().int(),timestamp:t9.string()}),nd=t9.object({activity:t9.string()}),nh=t9.object({latitude:t9.number(),longitude:t9.number(),address:t9.string(),timezone:t9.string(),date:t9.string()}),np=t9.object({voice:t9.string()}),nf=t9.object({audio_data:t9.string()}),ng=t9.object({image_uri:t9.string(),x:t9.number().optional(),y:t9.number().optional(),save_image:t9.boolean(),image_metadata:t9.record(t9.any()).optional()}),nm=t9.object({code:t9.number().int(),message:t9.string().nullish(),detail:t9.string().nullish(),close_connection:t9.boolean().nullish()}),nv=t9.object({type:t9.string(),content:t9.string(),created_at:t9.string()}),ny=t9.object({settings:t9.record(t9.any())}),n_=t9.object({content:t9.string(),is_quiet:t9.boolean()}),nb=nr("initialize",ni),nw=nr("call_connect",ns),nS=nn.extend({type:t9.literal("call_connect_response"),call_id:t9.number().int(),content:na}),nk=nn.extend({type:t9.literal("call_disconnect"),call_id:t9.number().int(),content:no}),nE=nr("call_disconnect_response",t9.object({}).optional()),nT=nr("chat",nu),nI=nr("chat_get",nc),nC=nr("client_activity_state",nd),nx=nr("client_location_state",nh),nA=nr("client_voice_state",np),nM=nn.extend({type:t9.literal("audio"),call_id:t9.number().int(),content:nf}),nO=nr("image",ng),nR=nr("error",nm),nP=nr("agent",nv),nD=nr("update_profile",ny),nN=nn.extend({type:t9.literal("demo_session"),content:t9.string()}),nL=nn.extend({type:t9.literal("demo_transcript_session"),content:t9.string()}),nF=nr("directive_session_event",n_),nU=nn.extend({type:t9.literal("ping"),content:t9.string()}),nj=nn.extend({type:t9.literal("ping_response"),content:t9.string()}),nB=t9.discriminatedUnion("type",[nb,nw,nS,nk,nE,nT,nI,nC,nx,nA,nM,nO,nR,nP,nD,nN,nL,nF,nU,nj]);class nz{async connect(){let e=await this.transport.connect(),t=this.parseMessage(e);if(t.type!==nt.Initialize)throw new K("Initialize message expected upon connect");return this.logger.info("Received initialize message:",t),t.content.session_id}async disconnect(){for(let e of this.timeoutIds)null!=e&&clearTimeout(e);await this.transport.disconnect()}isConnected(){return this.transport.isConnected()}async callConnect(e){return this.logger.debug("Sending call connect message:",e),this.invokeRpc(e)}async callDisconnect(e){return this.logger.debug("Sending call disconnect message:",e),this.invokeRpc(e)}async sendPing(e){return this.invokeRpc(e)}parseMessage(e){let t=JSON.parse(e),n=nB.safeParse(t);if(!n.success)throw this.logger.error("Invalid message format: "+e),new K("Invalid message format: "+n.error.message);return n.data}invokeRpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.websocketConfig.message_timeout_ms;return new Promise((n,r)=>{let i=(0,ec.gZ)();e.request_id=i;let s=setTimeout(()=>{this.pendingRpcCalls.has(i)&&(this.pendingRpcCalls.delete(i),this.logger.error("RPC call to '".concat(e.type,"' timed out after ").concat(t,"ms")),r(new z("RPC call to '".concat(e.type,"' timed out after ").concat(t,"ms"))))},t);this.timeoutIds.push(s),this.pendingRpcCalls.set(i,{resolve:e=>{clearTimeout(s),this.timeoutIds=this.timeoutIds.filter(e=>e!==s),n(e)},reject:e=>{clearTimeout(s),this.timeoutIds=this.timeoutIds.filter(e=>e!==s),r(e)}}),this.sendMessage(e)})}sendAudio(e){this.sendMessage(e)}onAudioReceived(e){this.audioReceivedCallback=e}sendAgentMessage(e){this.sendMessage(e)}onAgentMessageReceived(e){this.agentMessageReceivedCallback=e}sendClientLocationState(e){this.sendMessage(e)}sendImage(e){this.sendMessage(e)}sendDirectiveSessionEvent(e){this.sendMessage(e)}onError(e){this.errorCallback=e}onClose(e){this.closeCallback=e}outstandingRpcCalls(){return this.pendingRpcCalls.size}handleMessage(e,t){var n,r,i,s,a;try{let a=this.parseMessage(e);if(a.type!==nt.Audio&&a.type!==nt.PingResponse&&this.logger.info("Received "+a.type+" message:",a),a.request_id){let e=this.pendingRpcCalls.get(a.request_id);if(e){this.pendingRpcCalls.delete(a.request_id),e.resolve(a);return}this.logger.error("Received unexpected RPC response:",a)}switch(a.type){case nt.Initialize:null===(n=this.errorCallback)||void 0===n||n.call(this,new K("Received initialize message more than once!"));break;case nt.Audio:if(this.audioReceivedCallback){let e=this.base64ToArrayBuffer(a.content.audio_data);this.audioReceivedCallback(e,t)}break;case nt.Error:if(this.errorCallback){let e=a.content,t=new G(null!==(r=e.message)&&void 0!==r?r:"Unknown error",{request_id:a.request_id,details:e.detail});this.errorCallback(t)}break;case nt.CallDisconnect:{let e=a.content.reason;"call_duration_limit_exceeded"===e?null===(i=this.errorCallback)||void 0===i||i.call(this,new q("Call duration limit exceeded")):null===(s=this.errorCallback)||void 0===s||s.call(this,new H("Server disconnected the call",{reason:e}));let t={type:nt.CallDisconnectResponse,session_id:a.session_id,request_id:a.request_id,call_id:a.call_id};this.sendMessage(t)}break;case nt.Agent:this.agentMessageReceivedCallback&&this.agentMessageReceivedCallback(a);case nt.Ping:case nt.PingResponse:case nt.Chat:case nt.ChatGet:case nt.ClientActivityState:case nt.ClientLocationState:case nt.ClientVoiceState:case nt.DemoSession:case nt.DemoTranscriptSession:case nt.DirectiveSessionEvent:case nt.UpdateProfile:case nt.Image:case nt.CallConnect:case nt.CallConnectResponse:case nt.CallDisconnectResponse:}}catch(t){let e=t instanceof Error?t.message:String(t);null===(a=this.errorCallback)||void 0===a||a.call(this,new er("Failed to handle message data ".concat(e)))}}handleError(e){var t;null===(t=this.errorCallback)||void 0===t||t.call(this,e)}handleClose(e){var t;this.invalidateTimeouts(),null===(t=this.closeCallback)||void 0===t||t.call(this,e)}invalidateTimeouts(){for(let e of this.timeoutIds)null!=e&&clearTimeout(e)}sendMessage(e){let t=nB.safeParse(e);if(!t.success)throw Error("Invalid message format: "+t.error.message);this.transport.send(JSON.stringify(t.data))}base64ToArrayBuffer(e){let t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return r.buffer}constructor(e,t,n){this.transport=e,this.audioReceivedCallback=null,this.agentMessageReceivedCallback=null,this.errorCallback=null,this.closeCallback=null,this.pendingRpcCalls=new Map,this.timeoutIds=[],this.transport.onMessage(this.handleMessage.bind(this)),this.transport.onError(this.handleError.bind(this)),this.transport.onClose(this.handleClose.bind(this)),this.logger=t,this.websocketConfig=n}}class n${async initialize(e){console.log("Analytics initialized: ",e)}identify(e,t,n,r,i){console.log("Analytics identified: ",t,n)}track(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],console.log("Analytics tracked: ",e)}setContext(e,t){console.log("Analytics set context: ",e,t)}unsetContext(e){console.log("Analytics unset context: ",e)}}function nV(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function nW(e){return function t(n){return 0==arguments.length||nV(n)?t:e.apply(this,arguments)}}function nH(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return nV(n)?t:nW(function(t){return e(n,t)});default:return nV(n)&&nV(r)?t:nV(n)?nW(function(t){return e(t,r)}):nV(r)?nW(function(t){return e(n,t)}):e(n,r)}}}function nq(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return nV(n)?t:nH(function(t,r){return e(n,t,r)});case 2:return nV(n)&&nV(r)?t:nV(n)?nH(function(t,n){return e(t,r,n)}):nV(r)?nH(function(t,r){return e(n,t,r)}):nW(function(t){return e(n,r,t)});default:return nV(n)&&nV(r)&&nV(i)?t:nV(n)&&nV(r)?nH(function(t,n){return e(t,n,i)}):nV(n)&&nV(i)?nH(function(t,n){return e(t,r,n)}):nV(r)&&nV(i)?nH(function(t,r){return e(n,t,r)}):nV(n)?nW(function(t){return e(t,r,i)}):nV(r)?nW(function(t){return e(n,t,i)}):nV(i)?nW(function(t){return e(n,r,t)}):e(n,r,i)}}}function nG(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var nK=nW(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});function nZ(e){return"[object Object]"===Object.prototype.toString.call(e)}let nJ=Number.isInteger||function(e){return e<<0===e};var nX=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var n=this.hash(e),r=this.map[n];r||(this.map[n]=r=[]),r.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var n in e)t.push(Object.prototype.toString.call(e[n]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(var t in this.map)for(var n=this.map[t],r=0;r<n.length;r+=1){var i=n[r];if(i[0]===e)return i[1]}return}var s=this.hash(e),n=this.map[s];if(n)for(var r=0;r<n.length;r+=1){var i=n[r];if(i[0]===e)return i[1]}},e}(),nY=nW(function(e){return null!=e&&"function"==typeof e.clone?e.clone():function e(t,n,r){if(r||(r=new nX),s=typeof(i=t),null==i||"object"!=s&&"function"!=s)return t;var i,s,a=function(n){var i=r.get(t);if(i)return i;for(var s in r.set(t,n),t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=e(t[s],!0,r));return n};switch(nK(t)){case"Object":return a(Object.create(Object.getPrototypeOf(t)));case"Array":return a(Array(t.length));case"Date":return new Date(t.valueOf());case"RegExp":return new RegExp(t.source,t.flags?t.flags:(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":"")+(t.dotAll?"s":""));case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}(e)}),nQ=nq(function(e,t,n){var r,i={};for(r in n=n||{},t=t||{})nG(r,t)&&(i[r]=nG(r,n)?e(r,t[r],n[r]):t[r]);for(r in n)nG(r,n)&&!nG(r,i)&&(i[r]=n[r]);return i}),n0=nq(function e(t,n,r){return nQ(function(n,r,i){return nZ(r)&&nZ(i)?e(t,r,i):t(n,r,i)},n,r)}),n1=nq(function(e,t,n){return n0(function(t,n,r){return e(n,r)},t,n)}),n2=nH(function(e,t){for(var n=t,r=0;r<e.length;r+=1){if(null==n)return;var i=e[r];n=nJ(i)?function(e,t){var n=e<0?t.length+e:e;return"[object String]"===Object.prototype.toString.call(t)?t.charAt(n):t[n]}(i,n):n[i]}return n}),n3=nH(function(e,t){var n={};for(var r in t)e(t[r],r,t)&&(n[r]=t[r]);return n});let n5=e=>"function"==typeof e&&!!(e.constructor&&e.call&&e.apply),n6=e=>"string"==typeof e,n4=e=>null===e,n8=e=>void 0===e,n7=e=>n4(e)||n8(e),n9=e=>"bigint"==typeof e,re=e=>!n8(e),rt=e=>!n7(e),rn=e=>rt(e)&&""!==e,rr=e=>e instanceof Error,ri=(e,t)=>n2(t.split("."),e),rs=(e,t)=>!!ri(e,t),ra=e=>"object"==typeof e,ro=e=>!n4(e)&&ra(e)&&!Array.isArray(e),rl=e=>!n4(e)&&"[object Object]"===Object.prototype.toString.call(e),ru=(e,t)=>{if(!Array.isArray(e)||!Array.isArray(t))return nY(t);let n=nY(e);return t.forEach((e,t)=>{n[t]=Array.isArray(e)||ro(e)?rc(n[t],e):e}),n},rc=(e,t)=>n1(ru,e,t),rd=e=>rl(e)&&Object.keys(e).length>0,rh=e=>{let t=n3(re,e);return Object.keys(t).forEach(e=>{let n=t[e];rl(n)&&(t[e]=rh(n))}),t},rp=e=>{let t=n3(rt,e);return Object.keys(t).forEach(e=>{let n=t[e];rl(n)&&(t[e]=rp(n))}),t},rf=e=>e.replace(/^\s+|\s+$/gm,""),rg=e=>e.replace(/ {2,}/g," "),rm=e=>e.replace(/^\.+/,""),rv=e=>{let t=e;if(!n6(e)&&!n7(e))try{t=JSON.stringify(e)}catch(e){t=null}return t},ry=e=>globalThis.btoa(Array.from(e,e=>String.fromCodePoint(e)).join("")),r_=e=>ry(new TextEncoder().encode(e)),rb=(e,t,n,r,i)=>{let s={category:e,name:t,properties:n,options:r,callback:void 0};n5(i)&&(s.callback=i),n5(r)&&(s.category=e,s.name=t,s.properties=n,s.options=void 0,s.callback=r),n5(n)&&(s.category=e,s.name=t,s.properties=void 0,s.options=void 0,s.callback=n),n5(t)&&(s.category=e,s.name=void 0,s.properties=void 0,s.options=void 0,s.callback=t),n5(e)&&(s.category=void 0,s.name=void 0,s.properties=void 0,s.options=void 0,s.callback=e),rl(e)?(s.name=void 0,s.category=void 0,s.properties=e,n5(t)?s.options=void 0:s.options=t):rl(t)&&(s.name=void 0,s.properties=t,n5(n)?s.options=void 0:s.options=n),n6(e)&&!n6(t)&&(s.category=void 0,s.name=e),re(s.category)||(s.category=void 0),re(s.name)||(s.name=void 0),s.properties=s.properties?nY(s.properties):{},re(s.options)?s.options=nY(s.options):s.options=void 0;let a=n6(s.name)?s.name:s.properties.name,o=n6(s.category)?s.category:s.properties.category;return s.properties=rc(rl(s.properties)?s.properties:{},{...a&&{name:a},...o&&{category:o}}),s},rw=(e,t,n,r)=>{let i={name:e,properties:t,options:n,callback:void 0};return n5(r)&&(i.callback=r),n5(n)&&(i.properties=t,i.options=void 0,i.callback=n),n5(t)&&(i.properties=void 0,i.options=void 0,i.callback=t),i.properties=rt(i.properties)?nY(i.properties):{},re(i.options)?i.options=nY(i.options):i.options=void 0,i},rS=(e,t,n,r)=>{let i={userId:e,traits:t,options:n,callback:void 0};return n5(r)&&(i.callback=r),n5(n)&&(i.userId=e,i.traits=t,i.options=void 0,i.callback=n),n5(t)&&(i.userId=e,i.traits=void 0,i.options=void 0,i.callback=t),(rl(e)||n4(e))&&(i.userId=null,i.traits=e,n5(t)?i.options=void 0:i.options=t),i.userId=rv(i.userId),rl(i.traits)?i.traits=nY(i.traits):i.traits=void 0,re(i.options)?i.options=nY(i.options):i.options=void 0,i},rk=(e,t,n,r)=>{let i={to:e,from:t,options:n,callback:void 0};return n5(r)&&(i.callback=r),n5(n)&&(i.to=e,i.from=t,i.options=void 0,i.callback=n),n5(t)?(i.to=e,i.from=void 0,i.options=void 0,i.callback=t):(rl(t)||n4(t))&&(i.to=e,i.from=void 0,i.options=t),re(i.to)&&(i.to=rv(i.to)),re(i.from)?i.from=rv(i.from):i.from=void 0,re(i.options)?i.options=nY(i.options):i.options=void 0,i},rE=(e,t,n,r)=>{let i={groupId:e,traits:t,options:n,callback:void 0};return n5(r)&&(i.callback=r),n5(n)&&(i.groupId=e,i.traits=t,i.options=void 0,i.callback=n),n5(t)&&(i.groupId=e,i.traits=void 0,i.options=void 0,i.callback=t),(rl(e)||n4(e))&&(i.groupId=null,i.traits=e,n5(t)?i.options=void 0:i.options=t),i.groupId=rv(i.groupId),rl(i.traits)?i.traits=nY(i.traits):i.traits=void 0,re(i.options)?i.options=nY(i.options):i.options=void 0,i},rT=function(e){return e.LOADED="Page Loaded",e.UNLOADED="Page Unloaded",e}({}),rI="CapabilitiesManager",rC="ConfigManager",rx="EventManager",rA="PluginsManager",rM="UserSessionManager",rO="ErrorHandler",rR="PluginEngine",rP="StoreManager",rD="AnalyticsCore";for(var rN,rL,rF,rU,rj,rB,rz,r$=[],rV=0;rV<256;rV++)r$[rV]=(rV+256).toString(16).substring(1);for(var rW,rH=256,rq=[];rH--;)rq[rH]=(rH+256).toString(16).substring(1);let rG=()=>!n7(globalThis.crypto)&&n5(globalThis.crypto.getRandomValues),rK=()=>rG()?function(){if(!rz||rV+16>4096)rz=crypto.getRandomValues(new Uint8Array(4096)),rV=0;for(var e,t=0,n="";t<16;t++)e=rz[rV+t],6==t?n+=r$[15&e|64]:8==t?n+=r$[63&e|128]:n+=r$[e],1&t&&t>1&&t<11&&(n+="-");return rV+=16,n}():function(){var e,t=0,n="";if(!rW||rH+16>256){for(rW=Array(t=256);t--;)rW[t]=256*Math.random()|0;t=rH=0}for(;t<16;t++)e=rW[rH+t],6==t?n+=rq[15&e|64]:8==t?n+=rq[63&e|128]:n+=rq[e],1&t&&t>1&&t<11&&(n+="-");return rH++,n}(),rZ=e=>{let t=!1,n=!1;function r(){!t&&(t=!0,e(n),setTimeout(()=>{t=!1},0))}globalThis.addEventListener("beforeunload",()=>{n=!1,r()}),globalThis.addEventListener("blur",()=>{n=!0,r()}),globalThis.addEventListener("focus",()=>{t=!1}),document.addEventListener("pagehide",()=>{n="hidden"===document.visibilityState,r()}),document.addEventListener("visibilitychange",()=>{n=!0,"hidden"===document.visibilityState?r():t=!1})},rJ=e=>e.toISOString(),rX=()=>rJ(new Date),rY=e=>`A script with the id "${e}" is already loaded. Skipping the loading of this script to prevent conflicts.`,rQ=(e,t)=>`Failed to load the script with the id "${e}" from URL "${t}".`,r0=(e,t,n)=>`A timeout of ${n} ms occurred while trying to load the script with id "${e}" from URL "${t}".`,r1=(e,t)=>`${e}:: A circular reference has been detected in the object and the property "${t}" has been dropped from the output.`,r2="[Circular Reference]",r3=(e,t,n)=>{let r=[];return function(i,s){if(!(t?.includes(i)||e&&n7(s))){if("object"!=typeof s||n4(s))return s;for(;r.length>0&&r[r.length-1]!==this;)r.pop();return r.includes(s)?(n?.warn(r1("JSONStringify",i)),r2):(r.push(s),s)}}},r5=(e,t,n,r)=>{try{return JSON.stringify(e,r3(t,n,r))}catch(e){return r?.warn("Failed to convert the value to a JSON string.",e),null}},r6=e=>{let t=[];return function(e,n){if(n9(n))return"[BigInt]";for(;t.length>0&&t[t.length-1]!==this;)t.pop();return t.includes(n)?r2:(t.push(n),n)}},r4=(e,t)=>{let n=Array.isArray(e)?[]:{};for(let r in e)if(Object.hasOwnProperty.call(e,r)){let i=e[r],s=t.call(e,r,i);rl(s)||Array.isArray(s)?n[r]=r4(s,t):n[r]=s}return n},r8=(e,t)=>{let n=r6(),r=n.call(e,"",e);return rl(e)||Array.isArray(e)?r4(e,n):r},r7="[MANUAL ERROR]",r9=(e,t)=>{let n=e;return rr(e)?n.message=`${t}: ${e.message}`:n=Error(`${t}: ${r5(e)}`),n},ie=e=>{rr(e)&&(e.stack=`${e.stack??""}
${r7}`),globalThis.dispatchEvent(new ErrorEvent("error",{error:e}))},it="RudderLabs JavaScript SDK",ir="3.11.17",ii="RudderJS-Initiated",is="preloadedEventsBuffer",ia="ajs_aid",io="ajs_uid",il="ajs_event",iu=1e4,ic=(e="app")=>{globalThis.RudderStackGlobals||(globalThis.RudderStackGlobals={}),globalThis.RudderStackGlobals[e]||(globalThis.RudderStackGlobals[e]={})},id=(e,t,n="app")=>{ic(n),globalThis.RudderStackGlobals[n][e]=t},ih=(e,t="app")=>(ic(t),globalThis.RudderStackGlobals[t][e]),ip=(e,t)=>{let n={};return e.forEach((r,i)=>{i.startsWith(t)&&(n[i.substring(t.length)]=e.get(i))}),n},ig=(e=[])=>{let t={trait:"ajs_trait_",properties:"ajs_prop_"},n=new URLSearchParams(globalThis.location.search);n.get(il)&&e.unshift(["track",n.get(il),ip(n,t.properties)]),n.get(io)&&e.unshift(["identify",n.get(io),ip(n,t.trait)]),n.get(ia)&&e.unshift(["setAnonymousId",n.get(ia)])},im=e=>{let t=[],n=0;for(;n<e.length;){if(e[n]&&"load"===e[n][0]){t=nY(e[n]),e.splice(n,1);break}n+=1}return t},iv=e=>{let t="consent",n=e.filter(e=>e[0]===t),r=e.filter(e=>e[0]!==t);e.splice(0,e.length,...n,...r)},iy=e=>{let t=ih(is)||[];ig(t),t.length>0&&(e.enqueuePreloadBufferEvents(t),id(is,[]))},i_=(e,t)=>{let n;let r=e.shift();if(n5(t[r])){switch(r){case"page":n=rb(...e);break;case"track":n=rw(...e);break;case"identify":n=rS(...e);break;case"alias":n=rk(...e);break;case"group":n=rE(...e);break;default:t[r](...e)}n&&t[r](n)}},ib=(e,t,n=!0,r=null,i=null,s={})=>{let a=document.createElement("script");return a.type="text/javascript",a.onload=r,a.onerror=i,a.src=e,a.id=t,a.async=n,Object.keys(s).forEach(e=>{a.setAttribute(e,s[e])}),a.setAttribute("data-loader","RS_JS_SDK"),a},iw=e=>{let t=document.getElementsByTagName("head");if(t.length>0){t[0]?.insertBefore(e,t[0]?.firstChild);return}let n=document.getElementsByTagName("script");if(n.length>0&&n[0]?.parentNode){n[0]?.parentNode.insertBefore(e,n[0]);return}let r=document.createElement("head");r.appendChild(e);let i=document.getElementsByTagName("html")[0];i?.insertBefore(r,i.firstChild)},iS=(e,t,n,r=!0,i)=>new Promise((s,a)=>{document.getElementById(t)&&a(Error(rY(t)));try{let o;iw(ib(e,t,r,()=>{globalThis.clearTimeout(o),s(t)},()=>{globalThis.clearTimeout(o),a(Error(rQ(t,e)))},i)),o=globalThis.setTimeout(()=>{a(Error(r0(t,e,n)))},n)}catch(n){a(r9(n,rQ(t,e)))}});class ik{hasErrorHandler=!1;constructor(e,t,n=1e4){this.errorHandler=e,this.logger=t,this.timeout=n,this.hasErrorHandler=!!this.errorHandler,this.onError=this.onError.bind(this)}loadJSFile(e){let{url:t,id:n,timeout:r,async:i,callback:s,extraAttributes:a}=e,o=!n5(s);iS(t,n,r||this.timeout,i,a).then(e=>{o||s(e)}).catch(e=>{this.onError(e),o||s()})}onError(e){if(this.hasErrorHandler)this.errorHandler?.onError(e,"ExternalSrcLoader");else throw e}}var iE=Symbol.for("preact-signals");function iT(){if(iA>1)iA--;else{for(var e,t=!1;void 0!==ix;){var n=ix;for(ix=void 0,iM++;void 0!==n;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&iN(n))try{n.c()}catch(n){t||(e=n,t=!0)}n=r}}if(iM=0,iA--,t)throw e}}function iI(e){if(iA>0)return e();iA++;try{return e()}finally{iT()}}var iC=void 0,ix=void 0,iA=0,iM=0,iO=0;function iR(e){if(void 0!==iC){var t=e.n;if(void 0===t||t.t!==iC)return t={i:0,S:e,p:iC.s,n:void 0,t:iC,e:void 0,x:void 0,r:t},void 0!==iC.s&&(iC.s.n=t),iC.s=t,e.n=t,32&iC.f&&e.S(t),t;if(-1===t.i)return t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=iC.s,t.n=void 0,iC.s.n=t,iC.s=t),t}}function iP(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}function iD(e){return new iP(e)}function iN(e){for(var t=e.s;void 0!==t;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function iL(e){for(var t=e.s;void 0!==t;t=t.n){var n=t.S.n;if(void 0!==n&&(t.r=n),t.S.n=t,t.i=-1,void 0===t.n){e.s=t;break}}}function iF(e){for(var t=e.s,n=void 0;void 0!==t;){var r=t.p;-1===t.i?(t.S.U(t),void 0!==r&&(r.n=t.n),void 0!==t.n&&(t.n.p=r)):n=t,t.S.n=t.r,void 0!==t.r&&(t.r=void 0),t=r}e.s=n}function iU(e){iP.call(this,void 0),this.x=e,this.s=void 0,this.g=iO-1,this.f=4}function ij(e){var t=e.u;if(e.u=void 0,"function"==typeof t){iA++;var n=iC;iC=void 0;try{t()}catch(t){throw e.f&=-2,e.f|=8,iB(e),t}finally{iC=n,iT()}}}function iB(e){for(var t=e.s;void 0!==t;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ij(e)}function iz(e){if(iC!==this)throw Error("Out-of-order effect");iF(this),iC=e,this.f&=-2,8&this.f&&iB(this),iT()}function i$(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function iV(e){var t=new i$(e);try{t.c()}catch(e){throw t.d(),e}return t.d.bind(t)}iP.prototype.brand=iE,iP.prototype.h=function(){return!0},iP.prototype.S=function(e){this.t!==e&&void 0===e.e&&(e.x=this.t,void 0!==this.t&&(this.t.e=e),this.t=e)},iP.prototype.U=function(e){if(void 0!==this.t){var t=e.e,n=e.x;void 0!==t&&(t.x=n,e.e=void 0),void 0!==n&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}},iP.prototype.subscribe=function(e){var t=this;return iV(function(){var n=t.value,r=iC;iC=void 0;try{e(n)}finally{iC=r}})},iP.prototype.valueOf=function(){return this.value},iP.prototype.toString=function(){return this.value+""},iP.prototype.toJSON=function(){return this.value},iP.prototype.peek=function(){var e=iC;iC=void 0;try{return this.value}finally{iC=e}},Object.defineProperty(iP.prototype,"value",{get:function(){var e=iR(this);return void 0!==e&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(iM>100)throw Error("Cycle detected");this.v=e,this.i++,iO++,iA++;try{for(var t=this.t;void 0!==t;t=t.x)t.t.N()}finally{iT()}}}}),(iU.prototype=new iP).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f)||(this.f&=-5,this.g===iO))return!0;if(this.g=iO,this.f|=1,this.i>0&&!iN(this))return this.f&=-2,!0;var e=iC;try{iL(this),iC=this;var t=this.x();(16&this.f||this.v!==t||0===this.i)&&(this.v=t,this.f&=-17,this.i++)}catch(e){this.v=e,this.f|=16,this.i++}return iC=e,iF(this),this.f&=-2,!0},iU.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var t=this.s;void 0!==t;t=t.n)t.S.S(t)}iP.prototype.S.call(this,e)},iU.prototype.U=function(e){if(void 0!==this.t&&(iP.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var t=this.s;void 0!==t;t=t.n)t.S.U(t)}},iU.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;void 0!==e;e=e.x)e.t.N()}},Object.defineProperty(iU.prototype,"value",{get:function(){if(1&this.f)throw Error("Cycle detected");var e=iR(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v}}),i$.prototype.c=function(){var e=this.S();try{if(8&this.f||void 0===this.x)return;var t=this.x();"function"==typeof t&&(this.u=t)}finally{e()}},i$.prototype.S=function(){if(1&this.f)throw Error("Cycle detected");this.f|=1,this.f&=-9,ij(this),iL(this),iA++;var e=iC;return iC=this,iz.bind(this,e)},i$.prototype.N=function(){2&this.f||(this.f|=2,this.o=ix,ix=this)},i$.prototype.d=function(){this.f|=8,1&this.f||iB(this)};class iW{constructor(){this.items=[]}enqueue(e){this.items.push(e)}dequeue(){return 0===this.items.length?null:this.items.shift()}isEmpty(){return 0===this.items.length}size(){return this.items.length}clear(){this.items=[]}}let iH={LOG:0,INFO:1,DEBUG:2,WARN:3,ERROR:4,NONE:5};class iq{constructor(e="LOG",t="",n=console){this.minLogLevel=iH[e],this.scope=t,this.logProvider=n}log(...e){this.outputLog("LOG",e)}info(...e){this.outputLog("INFO",e)}debug(...e){this.outputLog("DEBUG",e)}warn(...e){this.outputLog("WARN",e)}error(...e){this.outputLog("ERROR",e)}outputLog(e,t){this.minLogLevel<=iH[e]&&this.logProvider[e.toLowerCase()]?.(...this.formatLogData(t))}setScope(e){this.scope=e||this.scope}setMinLogLevel(e){this.minLogLevel=iH[e],n8(this.minLogLevel)&&(this.minLogLevel=iH.LOG)}formatLogData(e){if(Array.isArray(e)&&e.length>0){let t="%c RS SDK";this.scope&&(t=`${t} - ${this.scope}`);let n=n6(e[0])?e[0].trim():"",r=[t=`${t} %c ${n}`,"font-weight: bold; background: black; color: white;","font-weight: normal;"];return n6(e[0])||r.push(e[0]),r.push(...e.slice(1)),r}return e}}let iG=new iq,iK=function(e){return e.HANDLEDEXCEPTION="handledException",e.UNHANDLEDEXCEPTION="unhandledException",e.UNHANDLEDREJECTION="unhandledPromiseRejection",e}({}),iZ=["localStorage","memoryStorage","cookieStorage","sessionStorage","none"],iJ="cookieStorage",iX="Unable to process/parse source configuration response.",iY=e=>`Failed to load the SDK as the base URL for ${e} is not valid.`,iQ=(e,t,n)=>`${e}:: The consent manager "${t}" is not supported. Please choose one of the following supported consent managers: "${Object.keys(n)}".`,i0=e=>`${e}:: Failed to initialize the error reporting plugin.`,i1=e=>`${e}:: Failed to notify the error.`,i2=e=>`${e}:: Plugin name is missing.`,i3=(e,t)=>`${e}:: Plugin "${t}" already exists.`,i5=(e,t)=>`${e}:: Plugin "${t}" not found.`,i6=(e,t)=>`${e}:: Plugin "${t}" not found in plugins but found in byName. This indicates a bug in the plugin engine. Please report this issue to the development team.`,i4=(e,t,n)=>`${e}:: Plugin "${t}" could not be loaded because some of its dependencies "${n}" do not exist.`,i8=(e,t,n)=>`${e}:: Failed to invoke the "${t}" extension point of plugin "${n}".`,i7=(e,t)=>`${e}:: The "${t}" storage type is `,i9=e=>`Failed to fetch the source config. Reason: ${e}`,se=(e,t)=>`${e}:: The write key "${t}" is invalid. It must be a non-empty string. Please check that the write key is correct and try again.`,st=(e,t)=>`${e}:: The data plane URL "${t}" is invalid. It must be a valid URL string. Please check that the data plane URL is correct and try again.`,sn=e=>`${e}:: The provided callback is not a function.`,sr=(e,t,n,r)=>`${e} with status: ${t}, ${n} for URL: ${r}.`,si=(e,t,n)=>`${e} due to timeout or no connection (${t?t.type:""}) for URL: ${n}.`,ss=(e,t)=>`${e} for URL: ${t}`,sa=e=>`Failed to save the value for "${e}" to storage`,so=e=>`Failed to retrieve or parse data for "${e}" from storage`,sl=e=>`The server responded with status ${e} while setting the cookies. As a fallback, the cookies will be set client side.`,su=e=>`The server failed to set the ${e} cookie. As a fallback, the cookies will be set client side.`,sc=(e,t,n)=>`${e}:: The storage type "${t}" is not supported. Please choose one of the following supported types: "${iZ}". The default type "${n}" will be used instead.`,sd=(e,t,n,r)=>`${e}:: The storage encryption version "${t}" is not supported. Please choose one of the following supported versions: "${Object.keys(n)}". The default version "${r}" will be used instead.`,sh=(e,t,n)=>`${e}:: The storage data migration has been disabled because the configured storage encryption version (${t}) is not the latest (${n}). To enable storage data migration, please update the storage encryption version to the latest version.`,sp=(e,t,n)=>`${e}:: The provided cookie domain (${t}) does not match the current webpage's domain (${n}). Hence, the cookies will be set client-side.`,sf=(e,t,n,r)=>`${e}:: The "${t}" property defined under "${n}" is a reserved keyword. Please choose a different property name to avoid conflicts with reserved keywords (${r}).`,sg=e=>`${e}:: The Beacon API is not supported by your browser. The events will be sent using XHR instead.`,sm=(e,t,n)=>`${e}:: The session timeout value "${t}" is not a number. The default timeout of ${n} ms will be used instead.`,sv=e=>`${e}:: The session timeout value is 0, which disables the automatic session tracking feature. If you want to enable session tracking, please provide a positive integer value for the timeout.`,sy=(e,t,n)=>`${e}:: The session timeout value ${t} ms is less than the recommended minimum of ${n} ms. Please consider increasing the timeout value to ensure optimal performance and reliability.`,s_=(e,t,n)=>`${e}:: The provided session ID (${t}) is either invalid, not a positive integer, or not at least "${n}" digits long. A new session ID will be auto-generated instead.`,sb=e=>`${e}:: The storage is either full or unavailable, so the data will not be persisted. Switching to in-memory storage.`,sw=(e,t,n,r)=>`${e}:: The storage type "${n}" is not available for entry "${t}". The SDK will initialize the entry with "${r}" storage type instead.`,sS="Failed to invoke the ready callback",sk=(e,t)=>`${e}:: The provided source config URL "${t}" is invalid. Using the default source config URL instead.`,sE=(e,t)=>`Failed to load the polyfill script with ID "${e}" from URL ${t}.`,sT=(e,t,n)=>`${e}:: The pre-consent storage strategy "${t}" is not supported. Please choose one of the following supported strategies: "none, session, anonymousId". The default strategy "${n}" will be used instead.`,sI=(e,t,n)=>`${e}:: The pre-consent events delivery type "${t}" is not supported. Please choose one of the following supported types: "immediate, buffer". The default type "${n}" will be used instead.`,sC=(e,t,n,r)=>{let i=1===n.length,s=i?` '${n[0]}' plugin was`:` ['${n.join("', '")}'] plugins were`,a=`${e}:: ${t}, but${s} not configured to load.`;return r?`${a} So, ${i?"the plugin":"those plugins"} will be loaded automatically.`:`${a} Ignore if this was intentional. Otherwise, consider adding ${i?"it":"them"} to the 'plugins' load API option.`},sx=(e,t)=>`${e}:: The provided polyfill URL "${t}" is invalid. The default polyfill URL will be used instead.`,sA=e=>`The cookie data for ${e} seems to be encrypted using SDK versions < v3. The data is dropped. This can potentially stem from using SDK versions < v3 on other sites or web pages that can share cookies with this webpage. We recommend using the same SDK (v3) version everywhere or avoid disabling the storage data migration.`,sM=e=>`${e}:: Page Unloaded event can only be tracked when the Beacon transport is active. Please enable "useBeacon" load API option.`,sO={All:!0},sR="js-integrations",sP="plugins",sD=RegExp("^(https?:\\/\\/)(((([a-zA-Z\\d]([a-zA-Z\\d-]*[a-zA-Z\\d])*)\\.)+[a-zA-Z]{2,}|localhost|((25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[0-1]?[0-9]?[0-9]?)))(\\:\\d+)?(\\/[-a-zA-Z\\d%_.~+]*)*(\\?[;&a-zA-Z\\d%_.~+=-]*)?(\\#[-a-zA-Z\\d_]*)?$"),sN="modern",sL="https://cdn.rudderlabs.com",sF=`${sL}/v3/${sN}/${sR}`,sU=`${sL}/v3/${sN}/${sP}`,sj="https://api.rudderstack.com",sB={iubenda:"IubendaConsentManager",oneTrust:"OneTrustConsentManager",ketch:"KetchConsentManager",custom:"CustomConsentManager"},sz={v3:"StorageEncryption",legacy:"StorageEncryptionLegacy"},s$={xhr:"XhrQueue",beacon:"BeaconQueue"},sV=iD(nY({logLevel:"ERROR",configUrl:sj,loadIntegration:!0,sessions:{autoTrack:!0,timeout:18e5},sameSiteCookie:"Lax",polyfillIfRequired:!0,integrations:sO,useBeacon:!1,beaconQueueOptions:{},destinationsQueueOptions:{},queueOptions:{},lockIntegrationsVersion:!1,lockPluginsVersion:!1,uaChTrackLevel:"none",plugins:[],useGlobalIntegrationsConfigInEvents:!1,bufferDataPlaneEventsUntilReady:!1,dataPlaneEventsBufferTimeout:1e4,storage:{encryption:{version:"v3"},migrate:!0,cookie:{}},sendAdblockPageOptions:{},useServerSideCookies:!1})),sW={userId:"",userTraits:{},anonymousId:"",groupId:"",groupTraits:{},initialReferrer:"",initialReferringDomain:"",sessionInfo:{},authToken:null},sH={autoTrack:!0,timeout:18e5},sq={userId:iD(sW.userId),userTraits:iD(sW.userTraits),anonymousId:iD(sW.anonymousId),groupId:iD(sW.groupId),groupTraits:iD(sW.groupTraits),initialReferrer:iD(sW.initialReferrer),initialReferringDomain:iD(sW.initialReferringDomain),sessionInfo:iD(sW.sessionInfo),authToken:iD(sW.authToken)},sG={isOnline:iD(!0),storage:{isLocalStorageAvailable:iD(!1),isCookieStorageAvailable:iD(!1),isSessionStorageAvailable:iD(!1)},isBeaconAvailable:iD(!1),isLegacyDOM:iD(!1),isUaCHAvailable:iD(!1),isCryptoAvailable:iD(!1),isIE11:iD(!1),isAdBlocked:iD(!1)},sK={isErrorReportingEnabled:iD(!1),isMetricsReportingEnabled:iD(!1),isErrorReportingPluginLoaded:iD(!1),breadcrumbs:iD([])},sZ=iD(void 0),sJ={activeDataplaneUrl:iD(void 0),integrationsCDNPath:iD(sF),pluginsCDNPath:iD(sU),sourceConfigUrl:iD(void 0),status:iD(void 0),initialized:iD(!1),logLevel:iD("ERROR"),loaded:iD(!1),readyCallbacks:iD([]),writeKey:iD(void 0),dataPlaneUrl:iD(void 0)},sX={enabled:iD(!1),initialized:iD(!1),data:iD({}),activeConsentManagerPluginName:iD(void 0),preConsent:iD({enabled:!1}),postConsent:iD({}),resolutionStrategy:iD("and"),provider:iD(void 0),metadata:iD(void 0)},sY={retries:iD(0),dropped:iD(0),sent:iD(0),queued:iD(0),triggered:iD(0),metricsServiceUrl:iD(void 0)},sQ={app:iD({name:it,namespace:"com.rudderlabs.javascript",version:ir,installType:"npm"}),traits:iD(null),library:iD({name:it,version:ir,snippetVersion:globalThis.RudderSnippetVersion}),userAgent:iD(""),device:iD(null),network:iD(null),os:iD({name:"",version:""}),locale:iD(null),screen:iD({density:0,width:0,height:0,innerWidth:0,innerHeight:0}),"ua-ch":iD(void 0),timezone:iD(void 0)},s0={configuredDestinations:iD([]),activeDestinations:iD([]),loadOnlyIntegrations:iD({}),failedDestinations:iD([]),loadIntegration:iD(!0),initializedDestinations:iD([]),clientDestinationsReady:iD(!1),integrationsConfig:iD({})},s1={toBeProcessedArray:iD([]),readyCallbacksArray:iD([])},s2={ready:iD(!1),loadedPlugins:iD([]),failedPlugins:iD([]),pluginsToLoadFromConfig:iD([]),activePlugins:iD([]),totalPluginsToLoad:iD(0)},s3={encryptionPluginName:iD(void 0),migrate:iD(!1),type:iD(void 0),cookie:iD(void 0),entries:iD({}),trulyAnonymousTracking:iD(!1)},s5={isEnabledServerSideCookies:iD(!1),dataServiceUrl:iD(void 0)},s6={eventsQueuePluginName:iD(void 0),deliveryEnabled:iD(!0)},s4={...nY({capabilities:sG,consents:sX,context:sQ,eventBuffer:s1,lifecycle:sJ,loadOptions:sV,metrics:sY,nativeDestinations:s0,plugins:s2,reporting:sK,session:sq,source:sZ,storage:s3,serverCookies:s5,dataPlaneEvents:s6,autoTrack:{enabled:iD(!1),pageLifecycle:{enabled:iD(!1),visitId:iD(void 0),pageLoadedTimestamp:iD(void 0)}}})};class s8{plugins=[];byName={};cache={};config={throws:!0};constructor(e={},t){this.config={throws:!0,...e},this.logger=t}register(e,t){if(!e.name){let t=i2(rR);if(this.config.throws)throw Error(t);this.logger?.error(t,e)}if(this.byName[e.name]){let t=i3(rR,e.name);if(this.config.throws)throw Error(t);this.logger?.error(t)}this.cache={},this.plugins=this.plugins.slice();let n=this.plugins.length;this.plugins.forEach((t,r)=>{t.deps?.includes(e.name)&&(n=Math.min(n,r))}),this.plugins.splice(n,0,e),this.byName[e.name]=e,n5(e.initialize)&&e.initialize(t)}unregister(e){let t=this.byName[e];if(!t){let t=i5(rR,e);if(this.config.throws)throw Error(t);this.logger?.error(t)}let n=this.plugins.indexOf(t);if(-1===n){let t=i6(rR,e);if(this.config.throws)throw Error(t);this.logger?.error(t)}this.cache={},delete this.byName[e],this.plugins=this.plugins.slice(),this.plugins.splice(n,1)}getPlugin(e){return this.byName[e]}getPlugins(e){let t=e??".";return this.cache[t]||(this.cache[t]=this.plugins.filter(e=>{if(e.deps?.some(e=>!this.byName[e])){let t=e.deps.filter(e=>!this.byName[e]);return this.logger?.error(i4(rR,e.name,t)),!1}return"."===t||rs(e,t)})),this.cache[t]}processRawPlugins(e){e(this.plugins),this.cache={}}invoke(e,t=!0,...n){let r=e;if(!r)throw Error("Failed to invoke plugin because the extension point name is missing.");let i=r.startsWith("!"),s=this.config.throws??r.endsWith("!");if(!(r=r.replace(/(^!|!$)/g,"")))throw Error("Failed to invoke plugin because the extension point name is invalid.");let a=r.split(".");a.pop();let o=a.join(".");return(t?this.getPlugins(r):[this.getPlugins(r)[0]]).map(e=>{let t=ri(e,r);if(!n5(t)||i)return t;try{return t.apply(ri(e,o),n)}catch(t){if(s)throw t;this.logger?.error(i8(rR,r,e.name),t)}return null})}invokeSingle(e,...t){return this.invoke(e,!1,...t)[0]}invokeMultiple(e,...t){return this.invoke(e,!0,...t)}}let s7=new s8({throws:!0},iG),s9=e=>{let t;try{t=n6(e)?e:e instanceof Error?e.message:e instanceof ErrorEvent?e.message:e.message?e.message:r5(e)}catch(e){t=`Unknown error: ${e.message}`}return t},ae=e=>{try{if(e instanceof Error||e instanceof ErrorEvent||e instanceof PromiseRejectionEvent&&e.reason)return e;if(e instanceof Event){let t=e.target;if(t&&"script"!==t.localName||t?.dataset&&("RS_JS_SDK"!==t.dataset.loader||"true"!==t.dataset.isnonnativesdk))return;let n=`Error in loading a third-party script from URL ${t?.src} with ID ${t?.id}.`;return Object.create(e,{message:{value:n}})}return e}catch(e){return e}};class at{constructor(e,t){this.logger=e,this.pluginEngine=t,this.errorBuffer=new iW,this.attachEffect()}attachEffect(){if(!0===s4.reporting.isErrorReportingPluginLoaded.value)for(;this.errorBuffer.size()>0;){let e=this.errorBuffer.dequeue();e&&this.notifyError(e.error,e.errorState)}}attachErrorListeners(){"addEventListener"in globalThis?(globalThis.addEventListener("error",e=>{this.onError(e,void 0,void 0,void 0,iK.UNHANDLEDEXCEPTION)}),globalThis.addEventListener("unhandledrejection",e=>{this.onError(e,void 0,void 0,void 0,iK.UNHANDLEDREJECTION)})):this.logger?.debug("Failed to attach global error listeners.")}init(e,t){if(this.httpClient=e,this.pluginEngine)try{let e=this.pluginEngine.invokeSingle("errorReporting.init",s4,this.pluginEngine,t,this.logger,!0);e instanceof Promise&&e.then(e=>{this.errReportingClient=e}).catch(e=>{this.logger?.error(i0(rO),e)})}catch(e){this.onError(e,rO)}}onError(e,t="",n="",r=!1,i=iK.HANDLEDEXCEPTION){let s,a;if(i===iK.HANDLEDEXCEPTION){if(!(a=s9(e)))return;s=Error(a=rg(`${t}:: ${n} ${a}`)),rr(e)&&(s=Object.create(e,{message:{value:a}}))}else s=ae(e);let o=s4.reporting.isErrorReportingEnabled.value,l=s4.reporting.isErrorReportingPluginLoaded.value;try{if(o){let e={severity:"error",unhandled:i!==iK.HANDLEDEXCEPTION,severityReason:{type:i}};l?s&&this.notifyError(s,e):this.errorBuffer.enqueue({error:s,errorState:e})}}catch(e){this.logger?.error(i1(rO),e)}if(i===iK.HANDLEDEXCEPTION){if(this.logger){if(this.logger.error(a),r)throw s}else throw s}else e.error?.stack?.includes(r7)&&this.logger?.error("An unknown error occurred:",e.error?.message)}leaveBreadcrumb(e){if(this.pluginEngine)try{this.pluginEngine.invokeSingle("errorReporting.breadcrumb",this.pluginEngine,this.errReportingClient,e,this.logger,s4)}catch(e){this.onError(e,rO,"errorReporting.breadcrumb")}}notifyError(e,t){if(this.pluginEngine&&this.httpClient)try{this.pluginEngine.invokeSingle("errorReporting.notify",this.pluginEngine,this.errReportingClient,e,s4,this.logger,this.httpClient,t)}catch(e){this.logger?.error(i1(rO),e)}}}let an=new at(iG,s7),ar=e=>"cloud"!==e.config.connectionMode||!0===e.config.useNativeSDKToSend||!0===e.config.useNativeSDK,ai=e=>"hybrid"===e.config.connectionMode||!0===e.config.useNativeSDKToSend,as=e=>e.filter(ar),aa=["BeaconQueue","Bugsnag","CustomConsentManager","DeviceModeDestinations","DeviceModeTransformation","ErrorReporting","ExternalAnonymousId","GoogleLinker","IubendaConsentManager","KetchConsentManager","NativeDestinationQueue","OneTrustConsentManager","StorageEncryption","StorageEncryptionLegacy","StorageMigrator","XhrQueue"],ao={rudderAnalyticsRemotePlugins:{url:()=>Promise.resolve(window.RudderStackGlobals&&window.RudderStackGlobals.app&&window.RudderStackGlobals.app.pluginsCDNPath?`${window.RudderStackGlobals.app.pluginsCDNPath}/rsa-plugins.js`:"https://cdn.rudderlabs.com/v3/modern/plugins/rsa-plugins.js"),format:"esm",from:"vite"}},al=async(e,t)=>{let n="function"==typeof e?await e():e,r=document.createElement("script");r.type="text/javascript",r.onload=t,r.src=n,document.getElementsByTagName("head")[0].appendChild(r)},au=e=>(function e(t,n){let r=Object.assign(t,n);for(let t of Object.keys(r))"object"==typeof r[t]&&"object"==typeof n[t]&&(r[t]=e(r[t],n[t]));return r})({},(globalThis.__federation_shared__||{}).default||{});async function ac(e){let t=ao[e];return t.inited?t.lib:"var"===t.format?new Promise(n=>al(t.url,()=>{t.inited||(t.lib=window[e],t.lib.init(au(t.from)),t.inited=!0),n(t.lib)})):["esm","systemjs"].includes(t.format)?new Promise((e,n)=>{("function"==typeof t.url?t.url:()=>Promise.resolve(t.url))().then(r=>{import(r).then(n=>{if(!t.inited){let e=au(t.from);n.init(e),t.lib=n,t.lib.init(e),t.inited=!0}e(t.lib)}).catch(n)})}):void 0}function ad(e,t){if(!e?.default&&t){let t=Object.create(null);return t.default=e,t.__esModule=!0,t}return e}function ah(e,t){return ac(e).then(e=>e.get(t).then(e=>e()))}let ap=e=>{switch(e){case"BeaconQueue":return()=>ah("rudderAnalyticsRemotePlugins","./BeaconQueue").then(e=>ad(e,!0));case"Bugsnag":return()=>ah("rudderAnalyticsRemotePlugins","./Bugsnag").then(e=>ad(e,!0));case"CustomConsentManager":return()=>ah("rudderAnalyticsRemotePlugins","./CustomConsentManager").then(e=>ad(e,!0));case"DeviceModeDestinations":return()=>ah("rudderAnalyticsRemotePlugins","./DeviceModeDestinations").then(e=>ad(e,!0));case"DeviceModeTransformation":return()=>ah("rudderAnalyticsRemotePlugins","./DeviceModeTransformation").then(e=>ad(e,!0));case"ErrorReporting":return()=>ah("rudderAnalyticsRemotePlugins","./ErrorReporting").then(e=>ad(e,!0));case"ExternalAnonymousId":return()=>ah("rudderAnalyticsRemotePlugins","./ExternalAnonymousId").then(e=>ad(e,!0));case"GoogleLinker":return()=>ah("rudderAnalyticsRemotePlugins","./GoogleLinker").then(e=>ad(e,!0));case"KetchConsentManager":return()=>ah("rudderAnalyticsRemotePlugins","./KetchConsentManager").then(e=>ad(e,!0));case"IubendaConsentManager":return()=>ah("rudderAnalyticsRemotePlugins","./IubendaConsentManager").then(e=>ad(e,!0));case"NativeDestinationQueue":return()=>ah("rudderAnalyticsRemotePlugins","./NativeDestinationQueue").then(e=>ad(e,!0));case"OneTrustConsentManager":return()=>ah("rudderAnalyticsRemotePlugins","./OneTrustConsentManager").then(e=>ad(e,!0));case"StorageEncryption":return()=>ah("rudderAnalyticsRemotePlugins","./StorageEncryption").then(e=>ad(e,!0));case"StorageEncryptionLegacy":return()=>ah("rudderAnalyticsRemotePlugins","./StorageEncryptionLegacy").then(e=>ad(e,!0));case"StorageMigrator":return()=>ah("rudderAnalyticsRemotePlugins","./StorageMigrator").then(e=>ad(e,!0));case"XhrQueue":return()=>ah("rudderAnalyticsRemotePlugins","./XhrQueue").then(e=>ad(e,!0));default:return}},af=e=>{let t={};return e.forEach(e=>{if(aa.includes(e)){let n=ap(e);n&&(t[e]=n)}}),t},ag=()=>({}),am=e=>af?.(e)||{},av={...ag()},ay=e=>({...am(e)});class a_{constructor(e,t,n){this.engine=e,this.errorHandler=t,this.logger=n,this.onError=this.onError.bind(this)}init(){s4.lifecycle.status.value="pluginsLoading",id("pluginsCDNPath",s4.lifecycle.pluginsCDNPath.value),this.setActivePlugins(),this.registerLocalPlugins(),this.registerRemotePlugins(),this.attachEffects()}attachEffects(){iV(()=>{(0===s4.plugins.activePlugins.value.length||s4.plugins.loadedPlugins.value.length+s4.plugins.failedPlugins.value.length===s4.plugins.totalPluginsToLoad.value)&&iI(()=>{s4.plugins.ready.value=!0,s4.lifecycle.status.value="pluginsReady"})})}getPluginsToLoadBasedOnConfig(){let e=s4.plugins.pluginsToLoadFromConfig.value;return e?([{configurationStatus:()=>re(s4.dataPlaneEvents.eventsQueuePluginName.value),configurationStatusStr:"Data plane events delivery is enabled",activePluginName:s4.dataPlaneEvents.eventsQueuePluginName.value,supportedPlugins:Object.values(s$),shouldAddMissingPlugins:!0},{configurationStatus:()=>s4.reporting.isErrorReportingEnabled.value,configurationStatusStr:"Error reporting is enabled",supportedPlugins:["ErrorReporting","Bugsnag"]},{configurationStatus:()=>as(s4.nativeDestinations.configuredDestinations.value).length>0,configurationStatusStr:"Device mode destinations are connected to the source",supportedPlugins:["DeviceModeDestinations","NativeDestinationQueue"]},{configurationStatus:()=>as(s4.nativeDestinations.configuredDestinations.value).some(e=>e.shouldApplyDeviceModeTransformation),configurationStatusStr:"Device mode transformations are enabled for at least one destination",supportedPlugins:["DeviceModeTransformation"]},{configurationStatus:()=>re(s4.consents.activeConsentManagerPluginName.value),configurationStatusStr:"Consent management is enabled",activePluginName:s4.consents.activeConsentManagerPluginName.value,supportedPlugins:Object.values(sB)},{configurationStatus:()=>re(s4.storage.encryptionPluginName.value),configurationStatusStr:"Storage encryption is enabled",activePluginName:s4.storage.encryptionPluginName.value,supportedPlugins:Object.values(sz)},{configurationStatus:()=>s4.storage.migrate.value,configurationStatusStr:"Storage migration is enabled",supportedPlugins:["StorageMigrator"]}].forEach(t=>{t.configurationStatus()?(e=e.filter(t.activePluginName?e=>!(e!==t.activePluginName&&t.supportedPlugins.includes(e)):e=>re(e)),this.addMissingPlugins(t,!1,e)):e=e.filter(void 0!==t.basePlugins?e=>!(t.basePlugins.includes(e)||t.supportedPlugins.includes(e)):e=>!t.supportedPlugins.includes(e))}),[...Object.keys(ag()),...e]):[]}addMissingPlugins(e,t,n){let r;let i=e.shouldAddMissingPlugins||t,s=(e.activePluginName?[...e.basePlugins||[],e.activePluginName]:[...e.supportedPlugins]).filter(e=>!n.includes(e));s.length>0&&(i&&n.push(...s),this.logger?.warn(sC(rA,e.configurationStatusStr,s,i)))}setActivePlugins(){let e=this.getPluginsToLoadBasedOnConfig(),t=[...Object.keys(av),...aa],n=[],r=[];e.forEach(e=>{t.includes(e)?n.push(e):r.push(e)}),r.length>0&&this.onError(Error(`Ignoring loading of unknown plugins: ${r.join(",")}. Mandatory plugins: ${Object.keys(ag()).join(",")}. Load option plugins: ${s4.plugins.pluginsToLoadFromConfig.value.join(",")}`)),iI(()=>{s4.plugins.totalPluginsToLoad.value=e.length,s4.plugins.activePlugins.value=n,s4.plugins.failedPlugins.value=r})}registerLocalPlugins(){Object.values(av).forEach(e=>{n5(e)&&s4.plugins.activePlugins.value.includes(e().name)&&this.register([e()])})}registerRemotePlugins(){let e=ay(s4.plugins.activePlugins.value);Promise.all(Object.keys(e).map(async t=>{await e[t]().then(e=>this.register([e.default()])).catch(e=>{s4.plugins.failedPlugins.value=[...s4.plugins.failedPlugins.value,t],this.onError(e,t)})})).catch(e=>{this.onError(e)})}invokeMultiple(e,...t){try{return this.engine.invokeMultiple(e,...t)}catch(t){return this.onError(t,e),[]}}invokeSingle(e,...t){try{return this.engine.invokeSingle(e,...t)}catch(t){return this.onError(t,e),null}}register(e){e.forEach(e=>{try{this.engine.register(e,s4)}catch(t){s4.plugins.failedPlugins.value=[...s4.plugins.failedPlugins.value,e.name],this.onError(t)}})}unregisterLocalPlugins(){Object.values(av).forEach(e=>{try{this.engine.unregister(e().name)}catch(e){this.onError(e)}})}onError(e,t){if(this.errorHandler)this.errorHandler.onError(e,rA,t);else throw e}}let ab=(e,t)=>{try{return JSON.parse(e||"")}catch(n){let e=r9(n,"Failed to parse response data");if(n5(t))t(e);else throw e}},aw="The request failed",aS={headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},method:"GET"},ak=(e,t,n)=>{let r=rc(aS,t||{});return n&&(r.headers=rc(r.headers,{Authorization:n})),r.url=e,r},aE=(e,t=iu,n)=>new Promise((r,i)=>{let s;if(!0===e.sendRawData)s=e.data;else if(n4(s=r5(e.data,!1,[],n))){i({error:Error("Failed to prepare data for the request."),undefined,options:e});return}let a=new XMLHttpRequest,o=t=>{i({error:Error(sr(aw,a.status,a.statusText,e.url)),xhr:a,options:e})},l=t=>{i({error:Error(si(aw,t,e.url)),xhr:a,options:e})};a.ontimeout=l,a.onerror=l,a.onload=()=>{a.status>=200&&a.status<400?r({response:a.responseText,xhr:a,options:e}):o()},a.open(e.method,e.url,!0),!0===e.withCredentials&&(a.withCredentials=!0),a.timeout=t,Object.keys(e.headers).forEach(t=>{e.headers[t]&&a.setRequestHeader(t,e.headers[t])});try{a.send(s)}catch(t){i({error:r9(t,ss(aw,e.url)),xhr:a,options:e})}});class aT{hasErrorHandler=!1;constructor(e,t){this.errorHandler=e,this.logger=t,this.hasErrorHandler=!!this.errorHandler,this.onError=this.onError.bind(this)}async getData(e){let{url:t,options:n,timeout:r,isRawResponse:i}=e;try{let e=await aE(ak(t,n,this.basicAuthHeader),r,this.logger);return{data:i?e.response:ab(e.response,this.onError),details:e}}catch(e){return this.onError(e.error??e),{data:void 0,details:e}}}getAsyncData(e){let{callback:t,url:n,options:r,timeout:i,isRawResponse:s}=e,a=!n5(t);aE(ak(n,r,this.basicAuthHeader),i,this.logger).then(e=>{a||t(s?e.response:ab(e.response,this.onError),e)}).catch(e=>{this.onError(e.error??e),a||t(void 0,e)})}onError(e){if(this.hasErrorHandler)this.errorHandler?.onError(e,"HttpClient");else throw e}setAuthHeader(e,t=!1){let n=t?e:r_(`${e}:`);this.basicAuthHeader=`Basic ${n}`}resetAuthHeader(){this.basicAuthHeader=void 0}}let aI=new aT(an,iG),aC="cookieStorage",ax="localStorage",aA="sessionStorage",aM="memoryStorage",aO="none",aR={userId:"rl_user_id",userTraits:"rl_trait",anonymousId:"rl_anonymous_id",groupId:"rl_group_id",groupTraits:"rl_group_trait",initialReferrer:"rl_page_init_referrer",initialReferringDomain:"rl_page_init_referring_domain",sessionInfo:"rl_session",authToken:"rl_auth_token"},aP="clientDataInCookie",aD="clientDataInLocalStorage",aN="clientDataInSessionStorage",aL=["userId","userTraits","anonymousId","groupId","groupTraits","initialReferrer","initialReferringDomain","sessionInfo","authToken"],aF={[aC]:aP,[ax]:aD,[aM]:"clientDataInMemory",[aA]:aN},aU=(e,t)=>{try{return encodeURIComponent(e)}catch(e){t?.error("Failed to encode the cookie data.",e);return}},aj=e=>{try{return decodeURIComponent(e)}catch(e){return}},aB=e=>{let t;let n={},r=e.split(/\s*;\s*/);return r[0]&&r.forEach(e=>{let r=(t=e.split("="))[0]?aj(t[0]):void 0;r&&(n[r]=t[1]?aj(t[1]):void 0)}),n},az=(e,t,n,r)=>{let i={...n||{}},s=`${aU(e,r)}=${aU(t,r)}`;n4(t)&&(i.maxage=-1),i.maxage&&(i.expires=new Date(+new Date+i.maxage)),i.path&&(s+=`; path=${i.path}`),i.domain&&(s+=`; domain=${i.domain}`),i.expires&&(s+=`; expires=${i.expires.toUTCString()}`),i.samesite&&(s+=`; samesite=${i.samesite}`),i.secure&&(s+="; secure"),globalThis.document.cookie=s},a$=()=>aB(globalThis.document.cookie),aV=e=>a$()[e],aW=function(e,t,n,r){switch(arguments.length){case 4:case 3:case 2:return az(e,t,n,r);case 1:if(e)return aV(e);return a$();default:return a$()}},aH=(e,t)=>{let n=new URL(s4.lifecycle.sourceConfigUrl.value),r=`${n.origin}${n.pathname}?view=ad`,i=new aT(e,t);i.setAuthHeader(s4.lifecycle.writeKey.value),i.getAsyncData({url:r,options:{method:"HEAD",headers:{"Content-Type":void 0}},isRawResponse:!0,callback:(e,t)=>{s4.capabilities.isAdBlocked.value=t?.error!==void 0||t?.xhr?.responseURL!==r}})},aq=()=>!n7(globalThis.crypto)&&n5(globalThis.crypto.getRandomValues),aG=()=>!n7(globalThis.navigator.userAgentData),aK=()=>!n7(globalThis.navigator.sendBeacon)&&n5(globalThis.navigator.sendBeacon),aZ=()=>!!globalThis.navigator.userAgent.match(/Trident.*rv:11\./),aJ=(e,t="none")=>{"none"===t&&e(void 0),"default"===t&&e(navigator.userAgentData),"full"===t&&navigator.userAgentData?.getHighEntropyValues(["architecture","bitness","brands","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList","wow64"]).then(t=>{e(t)}).catch(()=>{e()})},aX=()=>{let e=globalThis.document.createElement("div");return e.setAttribute("data-a-b","c"),!!e.dataset&&"c"===e.dataset.aB},aY={URL:()=>!n5(globalThis.URL)||!n5(globalThis.URLSearchParams),Promise:()=>!n5(globalThis.Promise),"Number.isNaN":()=>!n5(globalThis.Number.isNaN),"Number.isInteger":()=>!n5(globalThis.Number.isInteger),"Array.from":()=>!n5(globalThis.Array.from),"Array.prototype.find":()=>!n5(globalThis.Array.prototype.find),"Array.prototype.includes":()=>!n5(globalThis.Array.prototype.includes),"String.prototype.endsWith":()=>!n5(globalThis.String.prototype.endsWith),"String.prototype.startsWith":()=>!n5(globalThis.String.prototype.startsWith),"String.prototype.includes":()=>!n5(globalThis.String.prototype.includes),"String.prototype.replaceAll":()=>!n5(globalThis.String.prototype.replaceAll),"String.fromCodePoint":()=>!n5(globalThis.String.fromCodePoint),"Object.entries":()=>!n5(globalThis.Object.entries),"Object.values":()=>!n5(globalThis.Object.values),"Object.assign":()=>!n5(globalThis.Object.assign),"Object.fromEntries":()=>!n5(globalThis.Object.fromEntries),"Element.prototype.dataset":()=>!aX(),TextEncoder:()=>!n5(globalThis.TextEncoder)||!n5(globalThis.TextDecoder),requestAnimationFrame:()=>!n5(globalThis.requestAnimationFrame)||!n5(globalThis.cancelAnimationFrame),CustomEvent:()=>!n5(globalThis.CustomEvent),"navigator.sendBeacon":()=>!n5(globalThis.navigator.sendBeacon),ArrayBuffer:()=>!n5(globalThis.Uint8Array),Set:()=>!n5(globalThis.Set),atob:()=>!n5(globalThis.atob)},aQ=()=>{let e=Object.keys(aY),t=!1;for(let n=0;n<e.length;n++){let r=aY[e[n]];if(n5(r)&&r()){t=!0;break}}return t},a0=()=>{let e={density:0,width:0,height:0,innerWidth:0,innerHeight:0};return{width:globalThis.screen.width,height:globalThis.screen.height,density:globalThis.devicePixelRatio,innerWidth:globalThis.innerWidth,innerHeight:globalThis.innerHeight}},a1=e=>{let t=["QuotaExceededError","NS_ERROR_DOM_QUOTA_REACHED"].includes(e.name)||[22,1014].includes(e.code);return e instanceof DOMException&&t},a2=(e=ax,t,n)=>{let r,i,s;let a=i7(rI,e),o="unavailable",l=!0;try{switch(e){case aM:return!0;case aC:r=t,i="test_rudder_cookie";break;case ax:r=t??globalThis.localStorage,i="test_rudder_ls";break;case aA:r=t??globalThis.sessionStorage,i="test_rudder_ss";break;default:return!1}if(r&&(r.setItem(i,"true"),r.getItem(i)))return r.removeItem(i),!0;l=!1}catch(e){l=!1,s=e,a1(e)&&(o="full")}return l||n?.warn(`${a}${o}.`,s),!1},a3=e=>{let t=document.createElement("a");return t.href=e,t.hostname},a5=e=>{let t="function"!=typeof globalThis.URL?a3(e):new URL(e).hostname,n=t?.split(".")??[],r=n[n.length-1],i=[];if(4===n.length&&r&&r===parseInt(r,10).toString())return i;if(n.length<=1)return n[0]&&-1!==n[0].indexOf("localhost")?["localhost"]:i;for(let e=n.length-2;e>=0;e-=1)i.push(n.slice(e).join("."));return i},a6=e=>{let t=a5(e);for(let e=0;e<t.length;e+=1){let n=t[e],r="__tld__",i={domain:`${-1!==n.indexOf("localhost")?"":"."}${n}`};if(aW(r,1,i),aW(r))return aW(r,null,i),n}return""},a4=()=>{let e=`.${a6(globalThis.location.href)}`;return{maxage:31536e6,path:"/",domain:e&&"."!==e?e:void 0,samesite:"Lax",enabled:!0}},a8=()=>({enabled:!0}),a7=()=>({enabled:!0}),a9=()=>({enabled:!0});class oe{static globalSingleton=null;isSupportAvailable=!0;isEnabled=!0;length=0;constructor(e={},t){if(oe.globalSingleton)return oe.globalSingleton;this.options=a4(),this.logger=t,this.configure(e),oe.globalSingleton=this}configure(e){return this.options=rc(this.options??{},e),e.sameDomainCookiesOnly&&delete this.options.domain,this.isSupportAvailable=a2(aC,this),this.isEnabled=!!(this.options.enabled&&this.isSupportAvailable),this.options}setItem(e,t){return aW(e,t,this.options,this.logger),this.length=Object.keys(aW()).length,!0}getItem(e){let t=aW(e);return n8(t)?null:t}removeItem(e){let t=this.setItem(e,null);return this.length=Object.keys(aW()).length,t}clear(){}key(e){return this.keys()[e]??null}keys(){return Object.keys(aW())}}class ot{isEnabled=!0;length=0;data={};constructor(e,t){this.options=a9(),this.logger=t,this.configure(e??{})}configure(e){return this.options=rc(this.options,e),this.isEnabled=!!this.options.enabled,this.options}setItem(e,t){return this.data[e]=t,this.length=Object.keys(this.data).length,t}getItem(e){return e in this.data?this.data[e]:null}removeItem(e){return e in this.data&&delete this.data[e],this.length=Object.keys(this.data).length,null}clear(){this.data={},this.length=0}key(e){return this.keys()[e]??null}keys(){return Object.keys(this.data)}}let on=new ot({},iG);var or={exports:{}};or.exports;let oi=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(function(){return a?or.exports:(a=1,or.exports=function(){function e(e){return e=JSON.stringify(e),!!/^\{[\s\S]*\}$/.test(e)}function t(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}}function n(e){return"[object Function]"===({}).toString.call(e)}var r=function(e){var t="_Is_Incognit";try{e||(e=window.localStorage),e.setItem(t,"yes"),e.removeItem(t)}catch(t){var n={};n._data={},n.setItem=function(e,t){return n._data[e]=String(t)},n.getItem=function(e){return n._data.hasOwnProperty(e)?n._data[e]:void 0},n.removeItem=function(e){return delete n._data[e]},n.clear=function(){return n._data={}},e=n}finally{"yes"===e.getItem(t)&&e.removeItem(t)}return e}();function i(){if(!(this instanceof i))return new i}i.prototype={set:function(t,n){if(t&&!e(t))r.setItem(t,void 0===n||"function"==typeof n?n+"":JSON.stringify(n));else if(e(t))for(var i in t)this.set(i,t[i]);return this},get:function(e){if(void 0===e){var n={};return this.forEach(function(e,t){return n[e]=t}),n}if("?"===e.charAt(0))return this.has(e.substr(1));var i=arguments;if(i.length>1){for(var s={},a=0,o=i.length;a<o;a++){var l=t(r.getItem(i[a]));this.has(i[a])&&(s[i[a]]=l)}return s}return t(r.getItem(e))},clear:function(){return r.clear(),this},remove:function(e){var t=this.get(e);return r.removeItem(e),t},has:function(e){return({}).hasOwnProperty.call(this.get(),e)},keys:function(){var e=[];return this.forEach(function(t){e.push(t)}),e},forEach:function(e){for(var t=0,n=r.length;t<n;t++){var i=r.key(t);e(i,this.get(i))}return this},search:function(e){for(var t=this.keys(),n={},r=0,i=t.length;r<i;r++)t[r].indexOf(e)>-1&&(n[t[r]]=this.get(t[r]));return n},len:function(){return r.length}};var s=null;function a(t,r){var o=arguments,l=null;if(s||(s=i()),0===o.length)return s.get();if(1===o.length){if("string"==typeof t)return s.get(t);if(e(t))return s.set(t)}if(2===o.length&&"string"==typeof t){if(!r)return s.remove(t);if(r&&"string"==typeof r)return s.set(t,r);r&&n(r)&&(l=null,l=r(t,s.get(t)),a.set(t,l))}if(2===o.length&&"[object Array]"===Object.prototype.toString.call(t)&&n(r))for(var u=0,c=t.length;u<c;u++)l=r(t[u],s.get(t[u])),a.set(t[u],l);return a}for(var o in i.prototype)a[o]=i.prototype[o];return a}(),or.exports)}());class os{isSupportAvailable=!0;isEnabled=!0;length=0;constructor(e={},t){this.options=a8(),this.logger=t,this.configure(e)}configure(e){return this.options=rc(this.options,e),this.isSupportAvailable=a2(ax),this.isEnabled=!!(this.options.enabled&&this.isSupportAvailable),this.options}setItem(e,t){oi.set(e,t),this.length=oi.len()}getItem(e){let t=oi.get(e);return n8(t)?null:t}removeItem(e){oi.remove(e),this.length=oi.len()}clear(){oi.clear(),this.length=0}key(e){return this.keys()[e]??null}keys(){return oi.keys()}}let oa=new os({},iG);class oo{isSupportAvailable=!0;isEnabled=!0;length=0;constructor(e={},t){this.options=a7(),this.logger=t,this.configure(e)}configure(e){return this.options=rc(this.options,e),this.isSupportAvailable=a2(aA),this.isSupportAvailable&&(this.store=globalThis.sessionStorage),this.isEnabled=!!(this.options.enabled&&this.isSupportAvailable),this.options}setItem(e,t){this.store&&(this.store.setItem(e,t),this.length=this.store.length)}getItem(e){if(!this.store)return null;let t=this.store.getItem(e);return n8(t)?null:t}removeItem(e){this.store&&(this.store.removeItem(e),this.length=this.store.length)}clear(){this.store?.clear(),this.length=0}key(e){return this.store?.key(e)??null}keys(){let e=[];if(!this.store)return e;for(let t=0;t<this.store.length;t+=1){let n=this.store.key(t);null!==n&&e.push(n)}return e}}let ol=new oo({},iG),ou=e=>{switch(e){case ax:return oa;case aA:return ol;case aM:return on;case aC:return new oe({},iG);default:return on}},oc=e=>{let t=new oe({},iG).configure(e);s4.storage.cookie.value={maxage:t.maxage,path:t.path,domain:t.domain,samesite:t.samesite,expires:t.expires,secure:t.secure}},od=e=>{oa.configure(e)},oh=e=>{on.configure(e)},op=e=>{ol.configure(e)},of=(e={},t={},n={},r={})=>{oc(e),od(t),oh(n),op(r)};class og{hasErrorHandler=!1;constructor(e,t,n){this.id=e.id,this.name=e.name,this.isEncrypted=e.isEncrypted??!1,this.validKeys=e.validKeys??{},this.engine=t??ou(ax),this.noKeyValidation=0===Object.keys(this.validKeys).length,this.noCompoundKey=e.noCompoundKey,this.originalEngine=this.engine,this.errorHandler=e.errorHandler??an,this.hasErrorHandler=!!this.errorHandler,this.logger=e.logger??iG,this.pluginsManager=n}createValidKey(e){let t;let{name:n,id:r,validKeys:i,noKeyValidation:s,noCompoundKey:a}=this;return s?a?e:[n,r,e].join("."):(Object.values(i).forEach(i=>{i===e&&(t=a?e:[n,r,e].join("."))}),t)}swapQueueStoreToInMemoryEngine(){let{name:e,id:t,validKeys:n,noCompoundKey:r}=this,i=ou(aM);Object.keys(n).forEach(s=>{let a=this.get(n[s]),o=r?s:[e,t,s].join(".");i.setItem(o,a),this.remove(s)}),this.engine=i}set(e,t){let n=this.createValidKey(e);if(n)try{this.engine.setItem(n,this.encrypt(r5(t,!1,[],this.logger)))}catch(n){a1(n)?(this.logger?.warn(sb(`Store ${this.id}`)),this.swapQueueStoreToInMemoryEngine(),this.set(e,t)):this.onError(r9(n,sa(e)))}}get(e){let t;let n=this.createValidKey(e);try{if(!n||(t=this.decrypt(this.engine.getItem(n)),n7(t)))return null;return JSON.parse(t)}catch(n){return this.onError(Error(`${so(e)}: ${n.message}`)),n6(t)&&t.startsWith("RudderEncrypt:")&&this.logger?.warn(sA(e)),null}}remove(e){let t=this.createValidKey(e);t&&this.engine.removeItem(t)}getOriginalEngine(){return this.originalEngine}decrypt(e){return n7(e)?null:this.crypto(e,"decrypt")}encrypt(e){return this.crypto(e,"encrypt")}crypto(e,t){if(!this.isEncrypted||!e||"string"!=typeof e||""===rf(e))return e;let n=`storage.${t}`,r=this.pluginsManager?this.pluginsManager.invokeSingle(n,e):e;return void 0===r?e:r??""}onError(e){if(this.hasErrorHandler)this.errorHandler?.onError(e,`Store ${this.id}`);else throw e}}let om=(e,t)=>{let n;if(e.consents.preConsent.value.enabled)switch(e.consents.preConsent.value.storage?.strategy){case"none":n=aO;break;case"session":"sessionInfo"!==t&&(n=aO);break;case"anonymousId":"anonymousId"!==t&&(n=aO)}return n};class ov{stores={};isInitialized=!1;hasErrorHandler=!1;constructor(e,t,n){this.errorHandler=t,this.logger=n,this.hasErrorHandler=!!this.errorHandler,this.pluginsManager=e,this.onError=this.onError.bind(this)}init(){if(this.isInitialized)return;let e=s4.loadOptions.value,t={cookieStorageOptions:{samesite:e.sameSiteCookie,secure:e.secureCookie,domain:e.setCookieDomain,sameDomainCookiesOnly:e.sameDomainCookiesOnly,enabled:!0},localStorageOptions:{enabled:!0},inMemoryStorageOptions:{enabled:!0},sessionStorageOptions:{enabled:!0}};of(rh(rc(t.cookieStorageOptions??{},s4.storage.cookie?.value??{})),rh(t.localStorageOptions),rh(t.inMemoryStorageOptions),rh(t.sessionStorageOptions)),this.initClientDataStores(),this.isInitialized=!0}initClientDataStores(){this.initializeStorageState(),[aM,ax,aC,aA].forEach(e=>{ou(e)?.isEnabled&&this.setStore({id:aF[e],name:aF[e],isEncrypted:!0,noCompoundKey:!0,type:e})})}initializeStorageState(){let e=s4.storage.type.value,t=s4.loadOptions.value.storage?.entries,n=s4.consents.postConsent.value.storage;(re(n?.type)||re(n?.entries))&&(e=n?.type,t=n?.entries);let r=!0,i={};aL.forEach(n=>{let s=t?.[n]?.type,a=om(s4,n)??s??e??iJ,o=this.getResolvedStorageTypeForEntry(a,n);o!==aO&&(r=!1),i={...i,[n]:{type:o,key:aR[n]}}}),iI(()=>{s4.storage.type.value=e,s4.storage.entries.value=i,s4.storage.trulyAnonymousTracking.value=r})}getResolvedStorageTypeForEntry(e,t){let n=e;switch(e){case ax:ou(ax)?.isEnabled||(n=aM);break;case aA:ou(aA)?.isEnabled||(n=aM);break;case aM:case aO:break;default:n=ou(aC)?.isEnabled?aC:ou(ax)?.isEnabled?ax:ou(aA)?.isEnabled?aA:aM}return n!==e&&this.logger?.warn(sw(rP,t,e,n)),n}setStore(e){let t=ou(e.type);return this.stores[e.id]=new og(e,t,this.pluginsManager),this.stores[e.id]}getStore(e){return this.stores[e]}onError(e){if(this.hasErrorHandler)this.errorHandler?.onError(e,rP);else throw e}}let oy=e=>rl(e)&&rl(e.source)&&!n7(e.source.id)&&rl(e.source.config)&&Array.isArray(e.source.destinations),o_=e=>"string"==typeof e&&iZ.includes(e),ob=e=>{let t;let{host:n,protocol:r}=new URL(e),i=n.split(".");return{topDomain:i.length>2?`${i[i.length-2]}.${i[i.length-1]}`:n,protocol:r}},ow=e=>{let{topDomain:t,protocol:n}=ob(e);return`${n}//${t}`},oS=(e,t)=>{let n=t?window.location.origin:ow(window.location.href),r=e.startsWith("/")?e.substring(1):e;return`${n}/${r}`},ok=e=>{let{topDomain:t}=ob(window.location.href);return t===e},oE=e=>{let t=[];return e.forEach(e=>{e.enabled&&!e.deleted&&t.push({id:e.id,displayName:e.destinationDefinition.displayName,config:e.config,shouldApplyDeviceModeTransformation:e.shouldApplyDeviceModeTransformation||!1,propagateEventsUntransformedOnError:e.propagateEventsUntransformedOnError||!1,userFriendlyId:`${e.destinationDefinition.displayName.replaceAll(" ","-")}___${e.id}`})}),t},oT=e=>e?.endsWith("/")?oT(e.substring(0,e.length-1)):e,oI=e=>{try{return new URL(e).host}catch(e){return null}},oC=e=>oI(e)??"",ox=e=>{let t={};try{let n=new URL(e),r="utm_";n.searchParams.forEach((e,n)=>{if(n.startsWith(r)){let i=n.substring(r.length);"campaign"===i&&(i="name"),t[i]=e}})}catch(e){}return t},oA=e=>{let t=e;try{let n=new URL(e);t=n.origin+n.pathname+n.search}catch(e){}return t},oM=e=>e.replace(/\/{2,}/g,"/"),oO=e=>{if(!n6(e))return!1;try{return n5(globalThis.URL)&&new URL(e),sD.test(e)}catch(e){return!1}},oR=()=>!!window.chrome?.runtime?.id,oP="none",oD="immediate",oN=e=>e?.statsCollection?.errors?.enabled===!0,oL=e=>e?.statsCollection?.metrics?.enabled===!0,oF=e=>{let t={sendPageEvent:!1,trackConsent:!1,discardPreConsentEvents:!1};if(rl(e)){let n=nY(e);t.storage=n.storage,rd(n.integrations)&&(t.integrations=n.integrations),t.discardPreConsentEvents=!0===n.discardPreConsentEvents,t.sendPageEvent=!0===n.sendPageEvent,t.trackConsent=!0===n.trackConsent,rd(n.consentManagement)&&(t.consentManagement=rc(n.consentManagement,{enabled:s4.consents.enabled.value}))}return t},oU=e=>rd(e)||Array.isArray(e),oj=(e,t)=>{let{provider:n}=e,r=n?sB[n]:void 0;return n&&!r&&(t?.error(iQ(rC,n,sB)),n=void 0),{provider:n,consentManagerPluginName:r}},oB=(e,t)=>{let n,r;let i=[],s=[],a=!1,o=e?.enabled===!0;rd(e)&&o&&({provider:r,consentManagerPluginName:n}=oj(e,t),oU(e.allowedConsentIds)&&(i=e.allowedConsentIds,a=!0),oU(e.deniedConsentIds)&&(s=e.deniedConsentIds,a=!0));let l={allowedConsentIds:i,deniedConsentIds:s};return o=o&&!!n,{provider:r,consentManagerPluginName:n,initialized:a,enabled:o,consentsData:l}},oz=()=>{let e=document.getElementsByTagName("script"),t=/(?:^|\/)rsa(\.min)?\.js$/;for(let n of e){let e=n.getAttribute("src");if(e&&t.test(e))return e}},o$=e=>{s4.reporting.isErrorReportingEnabled.value=oN(e.source.config)&&!oR(),s4.reporting.isMetricsReportingEnabled.value=oL(e.source.config)},oV=e=>{let t;let{useServerSideCookies:n,dataServiceEndpoint:r,storage:i,setCookieDomain:s,sameDomainCookiesOnly:a}=s4.loadOptions.value,o=i?.cookie,l=!1;if(n){l=n;let i=o.domain??s,u=re(i)&&!ok(rm(i))||a,c=oS(r??"rsaRequest",u);if(oO(c)){t=oT(c);let n=oI(window.location.href),r=oI(c);n!==r&&(o={...o,samesite:"None",secure:!0}),!a&&u&&r!==rm(i)&&(l=!1,e?.warn(sp(rC,i,r)))}else l=!1}return{sscEnabled:l,cookieOptions:o,finalDataServiceUrl:t}},oW=e=>{let{storage:t}=s4.loadOptions.value,n=t?.type;re(n)&&!o_(n)&&(e?.warn(sc(rC,n,iJ)),n=iJ);let r=t?.encryption?.version,i=r&&sz[r];!n8(r)&&n8(i)?(e?.warn(sd(rC,r,sz,"v3")),r="v3"):n8(r)&&(r="v3");let s=t?.migrate,a=s&&"v3"===r;!0===s&&a!==s&&e?.warn(sh(rC,r,"v3"));let{sscEnabled:o,finalDataServiceUrl:l,cookieOptions:u}=oV(e);iI(()=>{s4.storage.type.value=n,s4.storage.cookie.value=u,s4.serverCookies.isEnabledServerSideCookies.value=o,s4.serverCookies.dataServiceUrl.value=l,s4.storage.encryptionPluginName.value=sz[r],s4.storage.migrate.value=a})},oH=e=>{let{provider:t,consentManagerPluginName:n,initialized:r,enabled:i,consentsData:s}=oB(s4.loadOptions.value.consentManagement,e),a=s4.loadOptions.value.preConsent,o=a?.storage?.strategy??oP;re(o)&&!["none","session","anonymousId"].includes(o)&&(o=oP,e?.warn(sT(rC,a?.storage?.strategy,oP)));let l=a?.events?.delivery??oD;re(l)&&!["immediate","buffer"].includes(l)&&(l=oD,e?.warn(sI(rC,a?.events?.delivery,oD))),iI(()=>{s4.consents.activeConsentManagerPluginName.value=n,s4.consents.initialized.value=r,s4.consents.enabled.value=i,s4.consents.data.value=s,s4.consents.provider.value=t,s4.consents.preConsent.value={enabled:s4.loadOptions.value.preConsent?.enabled===!0&&!1===r&&!0===i,storage:{strategy:o},events:{delivery:l}}})},oq=e=>{let t,n=s4.consents.resolutionStrategy.value;rl(e.consentManagementMetadata)&&(s4.consents.provider.value&&(n=e.consentManagementMetadata.providers.find(e=>e.provider===s4.consents.provider.value)?.resolutionStrategy??s4.consents.resolutionStrategy.value),t=e.consentManagementMetadata),"custom"===s4.consents.provider.value&&(n=void 0),iI(()=>{s4.consents.metadata.value=nY(t),s4.consents.resolutionStrategy.value=n})},oG=e=>{if(s4.dataPlaneEvents.deliveryEnabled.value){let t="XhrQueue",n=t;s4.loadOptions.value.useBeacon&&(s4.capabilities.isBeaconAvailable.value?n="BeaconQueue":(n=t,e?.warn(sg(rC)))),iI(()=>{s4.dataPlaneEvents.eventsQueuePluginName.value=n})}},oK=(e,t,n,r,i)=>{let s=new URLSearchParams({p:"npm",v:ir,build:sN,writeKey:t,lockIntegrationsVersion:n.toString(),lockPluginsVersion:r.toString()}),a=sj,o=s,l="/sourceConfig/",u="";if(oO(e)){let t=new URL(e);oT(t.pathname).endsWith("/sourceConfig")||(t.pathname=`${oT(t.pathname)}/sourceConfig/`),t.pathname=oM(t.pathname),s.forEach((e,n)=>{null===t.searchParams.get(n)&&t.searchParams.set(n,e)}),a=t.origin,l=t.pathname,o=t.searchParams,u=t.hash}else i?.warn(sk(rC,e));return`${a}${l}?${o}${u}`},oZ=(e,t,n,r,i,s)=>{let a="";if(s){if(!oO(s))throw Error(iY(e));return oT(s)}let o=oz();return a=o?o.split("/").slice(0,-1).concat(t).join("/"):n,i&&(a=a.replace(`/v3/${sN}/${t}`,`/${r}/${sN}/${t}`)),a},oJ=(e,t,n)=>oZ("integrations",sR,sF,e,t,n),oX=(e,t,n)=>oZ("plugins",sP,sU,e,t,n);class oY{hasErrorHandler=!1;constructor(e,t,n){this.errorHandler=t,this.logger=n,this.httpClient=e,this.hasErrorHandler=!!this.errorHandler,this.onError=this.onError.bind(this),this.processConfig=this.processConfig.bind(this)}attachEffects(){iV(()=>{this.logger?.setMinLogLevel(s4.lifecycle.logLevel.value)})}init(){this.attachEffects();let{logLevel:e,configUrl:t,lockIntegrationsVersion:n,lockPluginsVersion:r,destSDKBaseURL:i,pluginsSDKBaseURL:s,integrations:a}=s4.loadOptions.value;s4.lifecycle.activeDataplaneUrl.value=oT(s4.lifecycle.dataPlaneUrl.value);let o=oJ(ir,n,i),l=oX(ir,r,s);oW(this.logger),oH(this.logger),oG(this.logger),iI(()=>{s4.lifecycle.integrationsCDNPath.value=o,s4.lifecycle.pluginsCDNPath.value=l,e&&(s4.lifecycle.logLevel.value=e),s4.lifecycle.sourceConfigUrl.value=oK(t,s4.lifecycle.writeKey.value,n,r,this.logger),s4.metrics.metricsServiceUrl.value=`${s4.lifecycle.activeDataplaneUrl.value}/rsaMetrics`,s4.nativeDestinations.loadOnlyIntegrations.value=a}),this.getConfig()}onError(e,t,n){if(this.hasErrorHandler)this.errorHandler?.onError(e,rC,t,n);else throw e}processConfig(e,t){let n;if(!e){this.onError(i9(t?.error));return}try{n=n6(e)?JSON.parse(e):e}catch(e){this.onError(e,iX,!0);return}if(!oy(n)){this.onError(Error(iX),void 0,!0);return}if(!1===n.source.enabled){this.logger?.error("The source is disabled. Please enable the source in the dashboard to send events.");return}o$(n);let r=n.source.destinations.length>0?oE(n.source.destinations):[];iI(()=>{s4.source.value={config:n.source.config,id:n.source.id,workspaceId:n.source.workspaceId},s4.nativeDestinations.configuredDestinations.value=r,s4.plugins.pluginsToLoadFromConfig.value=s4.loadOptions.value.plugins??[],oq(n),s4.lifecycle.status.value="configured"})}getConfig(){let e=s4.loadOptions.value.getSourceConfig;if(e){if(!n5(e))throw Error('"getSourceConfig" must be a function. Please make sure that it is defined and returns a valid source configuration object.');let t=e();t instanceof Promise?t.then(e=>this.processConfig(e)).catch(e=>{this.onError(e,"SourceConfig")}):this.processConfig(t)}else this.httpClient.getAsyncData({url:s4.lifecycle.sourceConfigUrl.value,options:{headers:{"Content-Type":void 0}},callback:this.processConfig})}}let oQ=()=>{let e=/([A-Z]+[+-]\d+)/.exec(new Date().toString());return e?.[1]?e[1]:"NA"},o0=()=>document?.referrer||"$direct",o1=()=>{let e=document.getElementsByTagName("link"),t="";for(let n=0;e[n];n+=1){let r=e[n];if("canonical"===r.getAttribute("rel")&&!t){t=r.getAttribute("href")??"";break}}return t},o2=()=>{if(n8(globalThis.navigator))return null;let{userAgent:e}=globalThis.navigator,{brave:t}=globalThis.navigator;if(t&&Object.getPrototypeOf(t).isBrave){let t=e.match(/(chrome)\/([\w.]+)/i);t&&(e=`${e} Brave/${t[2]}`)}return e},o3=()=>n8(globalThis.navigator)?null:globalThis.navigator.language??globalThis.navigator.browserLanguage,o5=()=>{let e=o1(),t=globalThis.location.pathname,{href:n}=globalThis.location,r=n,{search:i}=globalThis.location;if(e)try{let n=new URL(e);r=""===n.search?e+i:e,t=n.pathname}catch(e){}let s=oA(r),{title:a}=document,o=o0();return{path:t,referrer:o,referring_domain:oC(o),search:i,title:a,url:s,tab_url:n}},o6=`https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=${Object.keys(aY).join("%2C")}`,o4="rudderstackPolyfill";class o8{constructor(e,t){this.logger=t,this.errorHandler=e,this.externalSrcLoader=new ik(this.errorHandler,this.logger),this.onError=this.onError.bind(this),this.onReady=this.onReady.bind(this)}init(){try{this.prepareBrowserCapabilities(),this.attachWindowListeners()}catch(e){this.onError(e)}}detectBrowserCapabilities(){iI(()=>{s4.capabilities.storage.isCookieStorageAvailable.value=a2(aC,ou(aC),this.logger),s4.capabilities.storage.isLocalStorageAvailable.value=a2(ax,void 0,this.logger),s4.capabilities.storage.isSessionStorageAvailable.value=a2(aA,void 0,this.logger),s4.capabilities.isBeaconAvailable.value=aK(),s4.capabilities.isUaCHAvailable.value=aG(),s4.capabilities.isCryptoAvailable.value=aq(),s4.capabilities.isIE11.value=aZ(),s4.capabilities.isOnline.value=globalThis.navigator.onLine,s4.context.userAgent.value=o2(),s4.context.locale.value=o3(),s4.context.screen.value=a0(),s4.context.timezone.value=oQ(),aG()&&aJ(e=>{s4.context["ua-ch"].value=e},s4.loadOptions.value.uaChTrackLevel)}),iV(()=>{!0===s4.loadOptions.value.sendAdblockPage&&void 0!==s4.lifecycle.sourceConfigUrl.value&&aH(this.errorHandler,this.logger)})}prepareBrowserCapabilities(){s4.capabilities.isLegacyDOM.value=aQ();let e=s4.loadOptions.value.polyfillURL,t=o6;if(rt(e)&&(oO(e)?t=e:this.logger?.warn(sx(rI,e))),s4.loadOptions.value.polyfillIfRequired&&s4.capabilities.isLegacyDOM.value&&oO(t)){let e=t!==s4.loadOptions.value.polyfillURL;if(e){let e=`RS_polyfillCallback_${s4.lifecycle.writeKey.value}`;globalThis[e]=()=>{this.onReady(),delete globalThis[e]},t=`${t}&callback=${e}`}this.externalSrcLoader.loadJSFile({url:t,id:o4,async:!0,timeout:1e4,callback:n=>{n?e||this.onReady():this.onError(Error(sE(o4,t)))}})}else this.onReady()}attachWindowListeners(){globalThis.addEventListener("offline",()=>{s4.capabilities.isOnline.value=!1}),globalThis.addEventListener("online",()=>{s4.capabilities.isOnline.value=!0}),globalThis.addEventListener("resize",function(e,t,n=250){let r;return(...i)=>{globalThis.clearTimeout(r),r=globalThis.setTimeout(()=>{e.apply(t,i)},n)}}(()=>{s4.context.screen.value=a0()},this))}onReady(){this.detectBrowserCapabilities(),s4.lifecycle.status.value="browserCapabilitiesReady"}onError(e){if(this.errorHandler)this.errorHandler.onError(e,rI);else throw e}}let o7=["integrations","anonymousId","originalTimestamp"],o9=["library","consentManagement","userAgent","ua-ch","screen"],le=["id","anonymous_id","user_id","sent_at","timestamp","received_at","original_timestamp","event","event_text","channel","context_ip","context_request_ip","context_passed_ip","group_id","previous_id"],lt=e=>"number"==typeof e&&!Number.isNaN(e),ln=(e,t)=>t.toString().length>=e,lr=e=>lt(e)&&e>=0&&Number.isInteger(e),li=e=>{let t=Date.now();return!!(!e||t>e)},ls=()=>Date.now(),la=(e,t)=>!!(e&&lr(e)&&ln(10,e))||(t?.warn(s_(rM,e,10)),!1),lo=e=>{let t=Date.now(),n=e||18e5;return{id:t,expiresAt:t+n,timeout:n,sessionStart:void 0,autoTrack:!0}},ll=(e,t)=>({id:la(e,t)?e:ls(),sessionStart:void 0,manualTrack:!0}),lu=e=>e===aC||e===ax||e===aA||e===aM,lc=()=>rK(),ld=e=>{let t=o5(),n={};return Object.keys(t).forEach(r=>{n[r]=e?.[r]||t[r]}),n.initial_referrer=e?.initial_referrer||s4.session.initialReferrer.value,n.initial_referring_domain=e?.initial_referring_domain||s4.session.initialReferringDomain.value,n},lh=(e,t)=>{let n=t?.page||{},r=o5();return Object.keys(r).forEach(t=>{n8(e[t])&&(e[t]=n[t]||r[t])}),n8(e.initial_referrer)&&(e.initial_referrer=n.initial_referrer||s4.session.initialReferrer.value),n8(e.initial_referring_domain)&&(e.initial_referring_domain=n.initial_referring_domain||s4.session.initialReferringDomain.value),e},lp=(e,t,n)=>{rl(e)&&Object.keys(e).forEach(e=>{(le.includes(e)||le.includes(e.toLowerCase()))&&n?.warn(sf(rx,e,t,le))})},lf=(e,t)=>{let{properties:n,traits:r,context:i}=e,{traits:s}=i;lp(n,"properties",t),lp(r,"traits",t),lp(s,"context.traits",t)},lg=(e,t)=>{t.anonymousId&&n6(t.anonymousId)&&(e.anonymousId=t.anonymousId),rd(t.integrations)&&(e.integrations=t.integrations),t.originalTimestamp&&n6(t.originalTimestamp)&&(e.originalTimestamp=t.originalTimestamp)},lm=(e,t,n)=>{let r=e;return Object.keys(t).forEach(e=>{if(!o7.includes(e)&&!o9.includes(e)){if("context"!==e)r=rc(r,{[e]:t[e]});else if(!n8(t[e])&&rl(t[e])){let n={};Object.keys(t[e]).forEach(r=>{o9.includes(r)||(n[r]=t[e][r])}),r=rc(r,{...n})}}}),r},lv=(e,t)=>{rl(t)&&(lg(e,t),e.context=lm(e.context,t))},ly=e=>{let t;return nY(s4.loadOptions.value.useGlobalIntegrationsConfigInEvents?s4.consents.postConsent.value.integrations??s4.nativeDestinations.loadOnlyIntegrations.value:e||sO)},l_=(e,t,n,r)=>{let i={channel:"web",context:{traits:nY(s4.session.userTraits.value),sessionId:s4.session.sessionInfo.value.id||void 0,sessionStart:s4.session.sessionInfo.value.sessionStart||void 0,...s4.consents.enabled.value&&{consentManagement:{deniedConsentIds:nY(s4.consents.data.value.deniedConsentIds),allowedConsentIds:nY(s4.consents.data.value.allowedConsentIds),provider:s4.consents.provider.value,resolutionStrategy:s4.consents.resolutionStrategy.value}},"ua-ch":s4.context["ua-ch"].value,app:s4.context.app.value,library:s4.context.library.value,userAgent:s4.context.userAgent.value,os:s4.context.os.value,locale:s4.context.locale.value,screen:s4.context.screen.value,campaign:ox(globalThis.location.href),page:ld(n),timezone:s4.context.timezone.value,...s4.autoTrack.enabled.value&&{autoTrack:{...s4.autoTrack.pageLifecycle.enabled.value&&{page:{visitId:s4.autoTrack.pageLifecycle.visitId.value}}}}},originalTimestamp:rX(),messageId:rK(),userId:e.userId||s4.session.userId.value};lu(s4.storage.entries.value.anonymousId?.type)?i.anonymousId=s4.session.anonymousId.value:i.anonymousId=lc(),s4.storage.trulyAnonymousTracking.value&&(i.context.trulyAnonymousTracking=!0),"identify"===e.type&&(i.context.traits=s4.storage.entries.value.userTraits?.type!==aO?nY(s4.session.userTraits.value):e.context.traits),"group"===e.type&&((e.groupId||s4.session.groupId.value)&&(i.groupId=e.groupId||s4.session.groupId.value),(e.traits||s4.session.groupTraits.value)&&(i.traits=s4.storage.entries.value.groupTraits?.type!==aO?nY(s4.session.groupTraits.value):e.traits));let s=rc(e,i);return void 0===s.event&&(s.event=null),void 0===s.properties&&(s.properties=null),lv(s,t),lf(s,r),s.integrations=ly(s.integrations),s};class lb{constructor(e){this.logger=e}generatePageEvent(e,t,n,r){let i=n??{};return l_({properties:i=lh(i,r),name:t,category:e,type:"page"},r,i,this.logger)}generateTrackEvent(e,t,n){return l_({properties:t,event:e,type:"track"},n,void 0,this.logger)}generateIdentifyEvent(e,t,n){return l_({userId:e,type:"identify",context:{traits:t}},n,void 0,this.logger)}generateAliasEvent(e,t,n){let r=l_({previousId:t,type:"alias"},n,void 0,this.logger);return r.userId=e??r.userId,r}generateGroupEvent(e,t,n){let r={type:"group"};return e&&(r.groupId=e),t&&(r.traits=t),l_(r,n,void 0,this.logger)}create(e){let t;switch(e.type){case"page":t=this.generatePageEvent(e.category,e.name,e.properties,e.options);break;case"track":t=this.generateTrackEvent(e.name,e.properties,e.options);break;case"identify":t=this.generateIdentifyEvent(e.userId,e.traits,e.options);break;case"alias":t=this.generateAliasEvent(e.to,e.from,e.options);break;case"group":t=this.generateGroupEvent(e.groupId,e.traits,e.options)}return t}}class lw{constructor(e,t,n,r){this.eventRepository=e,this.userSessionManager=t,this.errorHandler=n,this.logger=r,this.eventFactory=new lb(this.logger),this.onError=this.onError.bind(this)}init(){this.eventRepository.init()}resume(){this.eventRepository.resume()}addEvent(e){this.userSessionManager.refreshSession();let t=this.eventFactory.create(e);t?this.eventRepository.enqueue(t,e.callback):this.onError(Error("Failed to generate the event object."))}onError(e,t,n){if(this.errorHandler)this.errorHandler.onError(e,rx,t,n);else throw e}}class lS{constructor(e,t,n,r,i){this.storeManager=r,this.pluginsManager=n,this.logger=t,this.errorHandler=e,this.httpClient=i,this.onError=this.onError.bind(this),this.serverSideCookieDebounceFuncs={}}init(){this.syncStorageDataToState(),this.registerEffects()}syncStorageDataToState(){let e;this.migrateStorageIfNeeded(),this.migrateDataFromPreviousStorage(),this.setUserId(this.getUserId()),this.setUserTraits(this.getUserTraits()),this.setGroupId(this.getGroupId()),this.setGroupTraits(this.getGroupTraits());let{externalAnonymousIdCookieName:t,anonymousIdOptions:n}=s4.loadOptions.value;rt(t)&&"string"==typeof t&&(e=this.getExternalAnonymousIdByCookieName(t)),this.setAnonymousId(e??this.getAnonymousId(n)),this.setAuthToken(this.getAuthToken()),this.setInitialReferrerInfo(),this.configureSessionTracking()}configureSessionTracking(){let e=this.getSessionInfo();if(this.isPersistenceEnabledForStorageEntry("sessionInfo")){let t=this.getConfiguredSessionTrackingInfo(),n=e??sH;(e={...n,...t,autoTrack:t.autoTrack&&!0!==n.manualTrack}).autoTrack||!0===e.manualTrack||(e=sW.sessionInfo)}else e=sW.sessionInfo;s4.session.sessionInfo.value=e,s4.session.sessionInfo.value.autoTrack&&this.startOrRenewAutoTracking(s4.session.sessionInfo.value)}setInitialReferrerInfo(){let e=this.getInitialReferrer(),t=this.getInitialReferringDomain();if(e&&t)this.setInitialReferrer(e),this.setInitialReferringDomain(t);else{let t=e||o0();this.setInitialReferrer(t),this.setInitialReferringDomain(oC(t))}}isPersistenceEnabledForStorageEntry(e){return lu(s4.storage.entries.value[e]?.type)}migrateDataFromPreviousStorage(){let e=s4.storage.entries.value,t=[aC,ax,aA];Object.keys(e).forEach(n=>{let r=e[n]?.type,i=this.storeManager?.getStore(aF[r]);i&&t.forEach(e=>{let t=this.storeManager?.getStore(aF[e]);if(t&&e!==r){let e=t.get(aR[n]);rn(e)&&i.set(aR[n],e),t.remove(aR[n])}})})}migrateStorageIfNeeded(){if(!s4.storage.migrate.value)return;let e=[];[aP,aD,aN].forEach(t=>{let n=this.storeManager?.getStore(t);n&&e.push(n)}),Object.keys(aR).forEach(t=>{let n=aR[t];e.forEach(e=>{let t=this.pluginsManager?.invokeSingle("storage.migrate",n,e.engine,this.errorHandler,this.logger);n7(t)||e.set(n,t)})})}getConfiguredSessionTrackingInfo(){let e,t=s4.loadOptions.value.sessions?.autoTrack!==!1;if(!t)return{autoTrack:t};let n=s4.loadOptions.value.sessions?.timeout;return lr(n)?e=n:(this.logger?.warn(sm(rM,n,18e5)),e=18e5),0===e&&(this.logger?.warn(sv(rM)),t=!1),e>0&&e<1e4&&this.logger?.warn(sy(rM,e,1e4)),{timeout:e,autoTrack:t}}onError(e,t){if(this.errorHandler)this.errorHandler.onError(e,rM,t);else throw e}getEncryptedCookieData(e,t){let n=[];return e.forEach(e=>{let r=t?.encrypt(r5(e.value,!1,[],this.logger));rt(r)&&n.push({name:e.name,value:r})}),n}makeRequestToSetCookie(e,t){this.httpClient?.getAsyncData({url:s4.serverCookies.dataServiceUrl.value,options:{method:"POST",data:r5({reqType:"setCookies",workspaceId:s4.source.value?.workspaceId,data:{options:{maxAge:s4.storage.cookie.value?.maxage,path:s4.storage.cookie.value?.path,domain:s4.storage.cookie.value?.domain,sameSite:s4.storage.cookie.value?.samesite,secure:s4.storage.cookie.value?.secure,expires:s4.storage.cookie.value?.expires},cookies:e}}),sendRawData:!0,withCredentials:!0},isRawResponse:!0,callback:t})}setServerSideCookies(e,t,n){try{let r=this.getEncryptedCookieData(e,n);r.length>0&&this.makeRequestToSetCookie(r,(r,i)=>{i?.xhr?.status===200?e.forEach(e=>{let r=n?.get(e.name),i=r5(e.value,!1,[]);r5(r,!1,[])!==i&&(this.logger?.error(su(e.name)),t&&t(e.name,e.value))}):(this.logger?.error(sl(i?.xhr?.status)),e.forEach(e=>{t&&t(e.name,e.value)}))})}catch(n){this.onError(n,"Failed to set/remove cookies via server. As a fallback, the cookies will be managed client side."),e.forEach(e=>{t&&t(e.name,e.value)})}}syncValueToStorage(e,t){let n=s4.storage.entries.value,r=n[e]?.type;if(lu(r)){let i=this.storeManager?.getStore(aF[r]),s=n[e]?.key;t&&(n6(t)||rd(t))?s4.serverCookies.isEnabledServerSideCookies.value&&r===aC?(this.serverSideCookieDebounceFuncs[e]&&globalThis.clearTimeout(this.serverSideCookieDebounceFuncs[e]),this.serverSideCookieDebounceFuncs[e]=globalThis.setTimeout(()=>{this.setServerSideCookies([{name:s,value:t}],(e,t)=>{i?.set(e,t)},i)},10)):i?.set(s,t):i?.remove(s)}}registerEffects(){aL.forEach(e=>{iV(()=>{this.syncValueToStorage(e,s4.session[e].value)})})}setAnonymousId(e,t){let n=e;n6(e)&&n||(n=void 0),this.isPersistenceEnabledForStorageEntry("anonymousId")?(!n&&t&&(n=this.pluginsManager?.invokeSingle("userSession.anonymousIdGoogleLinker",t)),n=n||lc()):n=sW.anonymousId,s4.session.anonymousId.value=n}getAnonymousId(e){if(lu(s4.storage.entries.value.anonymousId?.type)){let t=this.getEntryValue("anonymousId");!t&&e&&(t=this.pluginsManager?.invokeSingle("storage.getAnonymousId",ou,e)),s4.session.anonymousId.value=t||lc()}return s4.session.anonymousId.value}getEntryValue(e){let t=s4.storage.entries.value,n=t[e]?.type;if(lu(n)){let r=this.storeManager?.getStore(aF[n]),i=t[e]?.key;return r?.get(i)??null}return null}getExternalAnonymousIdByCookieName(e){let t=ou(aC);return t?.isEnabled?t.getItem(e)??null:null}getUserId(){return this.getEntryValue("userId")}getUserTraits(){return this.getEntryValue("userTraits")}getGroupId(){return this.getEntryValue("groupId")}getGroupTraits(){return this.getEntryValue("groupTraits")}getInitialReferrer(){return this.getEntryValue("initialReferrer")}getInitialReferringDomain(){return this.getEntryValue("initialReferringDomain")}getSessionInfo(){return this.getEntryValue("sessionInfo")}getAuthToken(){return this.getEntryValue("authToken")}getSessionId(){let e=this.getSessionInfo()??sW.sessionInfo;return e.autoTrack&&!li(e.expiresAt)||e.manualTrack?e.id??null:null}refreshSession(){let e=this.getSessionInfo()??sW.sessionInfo;(e.autoTrack||e.manualTrack)&&(e.autoTrack&&(this.startOrRenewAutoTracking(e),e=s4.session.sessionInfo.value),void 0===e.sessionStart?e={...e,sessionStart:!0}:e.sessionStart&&(e={...e,sessionStart:!1})),s4.session.sessionInfo.value=e,"readyExecuted"!==s4.lifecycle.status.value&&this.syncValueToStorage("sessionInfo",e)}reset(e,t){let{session:n}=s4,{manualTrack:r,autoTrack:i}=n.sessionInfo.value;iI(()=>{n.userId.value=sW.userId,n.userTraits.value=sW.userTraits,n.groupId.value=sW.groupId,n.groupTraits.value=sW.groupTraits,n.authToken.value=sW.authToken,!0===e&&this.setAnonymousId(),!t&&(i?(n.sessionInfo.value=sW.sessionInfo,this.startOrRenewAutoTracking(n.sessionInfo.value)):r&&this.startManualTrackingInternal())})}setUserId(e){s4.session.userId.value=this.isPersistenceEnabledForStorageEntry("userId")&&e?e:sW.userId}setUserTraits(e){s4.session.userTraits.value=this.isPersistenceEnabledForStorageEntry("userTraits")&&rl(e)?rc(s4.session.userTraits.value??sW.userTraits,e):sW.userTraits}setGroupId(e){s4.session.groupId.value=this.isPersistenceEnabledForStorageEntry("groupId")&&e?e:sW.groupId}setGroupTraits(e){s4.session.groupTraits.value=this.isPersistenceEnabledForStorageEntry("groupTraits")&&rl(e)?rc(s4.session.groupTraits.value??sW.groupTraits,e):sW.groupTraits}setInitialReferrer(e){s4.session.initialReferrer.value=this.isPersistenceEnabledForStorageEntry("initialReferrer")&&e?e:sW.initialReferrer}setInitialReferringDomain(e){s4.session.initialReferringDomain.value=this.isPersistenceEnabledForStorageEntry("initialReferringDomain")&&e?e:sW.initialReferringDomain}startOrRenewAutoTracking(e){if(li(e.expiresAt))s4.session.sessionInfo.value=lo(e.timeout);else{let t=Date.now(),n=e.timeout;s4.session.sessionInfo.value=rc(e,{expiresAt:t+n})}}start(e){s4.session.sessionInfo.value=ll(e,this.logger)}startManualTrackingInternal(){this.start(Date.now())}end(){s4.session.sessionInfo.value=sW.sessionInfo}setAuthToken(e){s4.session.authToken.value=this.isPersistenceEnabledForStorageEntry("authToken")&&e?e:sW.authToken}}let lk=["BeaconQueue","Bugsnag","CustomConsentManager","DeviceModeDestinations","DeviceModeTransformation","ErrorReporting","ExternalAnonymousId","GoogleLinker","IubendaConsentManager","KetchConsentManager","NativeDestinationQueue","OneTrustConsentManager","StorageEncryption","StorageEncryptionLegacy","StorageMigrator","XhrQueue"],lE=(e,t)=>{let n=nY(t);return n6(n.setCookieDomain)||delete n.setCookieDomain,["Strict","Lax","None"].includes(n.sameSiteCookie)||delete n.sameSiteCookie,n.secureCookie=!0===n.secureCookie,n.sameDomainCookiesOnly=!0===n.sameDomainCookiesOnly,["none","default","full"].includes(n.uaChTrackLevel)||delete n.uaChTrackLevel,rd(n.integrations)||delete n.integrations,n.plugins=n.plugins??lk,n.useGlobalIntegrationsConfigInEvents=!0===n.useGlobalIntegrationsConfigInEvents,n.bufferDataPlaneEventsUntilReady=!0===n.bufferDataPlaneEventsUntilReady,n.sendAdblockPage=!0===n.sendAdblockPage,n.useServerSideCookies=!0===n.useServerSideCookies,n.dataServiceEndpoint&&"string"!=typeof n.dataServiceEndpoint&&delete n.dataServiceEndpoint,rl(n.sendAdblockPageOptions)||delete n.sendAdblockPageOptions,re(n.loadIntegration)?n.loadIntegration=!0===n.loadIntegration:delete n.loadIntegration,rl(n.storage)?(n.storage=rp(n.storage),n.storage.migrate=n.storage?.migrate===!0):delete n.storage,rl(n.beaconQueueOptions)?n.beaconQueueOptions=rp(n.beaconQueueOptions):delete n.beaconQueueOptions,rl(n.destinationsQueueOptions)?n.destinationsQueueOptions=rp(n.destinationsQueueOptions):delete n.destinationsQueueOptions,rl(n.queueOptions)?n.queueOptions=rp(n.queueOptions):delete n.queueOptions,n.lockIntegrationsVersion=!0===n.lockIntegrationsVersion,n.lockPluginsVersion=!0===n.lockPluginsVersion,lt(n.dataPlaneEventsBufferTimeout)||delete n.dataPlaneEventsBufferTimeout,rl(n.storage?.cookie)?n.storage.cookie=rp(n.storage?.cookie):delete n.storage?.cookie,rl(n.preConsent)?n.preConsent=rp(n.preConsent):delete n.preConsent,rc(e,n)},lT="dataplaneEventsQueue",lI="destinationsEventsQueue",lC=(e,t)=>Object.keys(e).filter(n=>!0!==e[n]||!t[n]).reduce((t,n)=>{let r=nY(t);return r[n]=e[n],r},{}),lx=(e,t)=>{let n=nY(e),r=t.nativeDestinations.integrationsConfig.value,i=lC(e.integrations,r);return n.integrations=rc(r,i),n},lA=e=>e.consents.preConsent.value.enabled&&e.consents.preConsent.value.events?.delivery==="buffer"&&(e.consents.preConsent.value.storage?.strategy==="session"||e.consents.preConsent.value.storage?.strategy==="none");class lM{constructor(e,t,n,r){this.pluginsManager=e,this.errorHandler=n,this.logger=r,this.httpClient=new aT(n,r),this.storeManager=t,this.onError=this.onError.bind(this)}init(){let e;try{this.dataplaneEventsQueue=this.pluginsManager.invokeSingle(`${lT}.init`,s4,this.httpClient,this.storeManager,this.errorHandler,this.logger)}catch(e){this.onError(e,"XhrQueuePlugin initialization failed")}try{this.dmtEventsQueue=this.pluginsManager.invokeSingle("transformEvent.init",s4,this.pluginsManager,this.httpClient,this.storeManager,this.errorHandler,this.logger)}catch(e){this.onError(e,"DeviceModeTransformationPlugin initialization failed")}try{this.destinationsEventsQueue=this.pluginsManager.invokeSingle(`${lI}.init`,s4,this.pluginsManager,this.storeManager,this.dmtEventsQueue,this.errorHandler,this.logger)}catch(e){this.onError(e,"NativeDestinationQueuePlugin initialization failed")}iV(()=>{!0===s4.nativeDestinations.clientDestinationsReady.value&&(this.destinationsEventsQueue?.start(),this.dmtEventsQueue?.start())});let t=lA(s4);iV(()=>{let n=!0===s4.loadOptions.value.bufferDataPlaneEventsUntilReady&&!1===s4.nativeDestinations.clientDestinationsReady.value;!1!==s4.nativeDestinations.activeDestinations.value.some(e=>ai(e))&&!1!==n||t||this.dataplaneEventsQueue?.scheduleTimeoutActive===!0||(globalThis.clearTimeout(e),this.dataplaneEventsQueue?.start())}),!0===s4.loadOptions.value.bufferDataPlaneEventsUntilReady&&(e=globalThis.setTimeout(()=>{this.dataplaneEventsQueue?.scheduleTimeoutActive!==!0&&this.dataplaneEventsQueue?.start()},s4.loadOptions.value.dataPlaneEventsBufferTimeout))}resume(){this.dataplaneEventsQueue?.scheduleTimeoutActive!==!0&&(s4.consents.postConsent.value.discardPreConsentEvents&&(this.dataplaneEventsQueue?.clear(),this.destinationsEventsQueue?.clear()),this.dataplaneEventsQueue?.start())}enqueue(e,t){let n;try{n=lx(e,s4),this.pluginsManager.invokeSingle(`${lT}.enqueue`,s4,this.dataplaneEventsQueue,n,this.errorHandler,this.logger)}catch(e){this.onError(e,"XhrQueuePlugin event enqueue failed")}try{let t=nY(e);this.pluginsManager.invokeSingle(`${lI}.enqueue`,s4,this.destinationsEventsQueue,t,this.errorHandler,this.logger)}catch(e){this.onError(e,"NativeDestinationQueuePlugin event enqueue failed")}try{t?.(n)}catch(e){this.onError(e,"API Callback Invocation Failed")}}onError(e,t,n){if(this.errorHandler)this.errorHandler.onError(e,"EventRepository",t,n);else throw e}}let lO=e=>{let t=new CustomEvent(e,{detail:{analyticsInstance:globalThis.rudderanalytics},bubbles:!0,cancelable:!0,composed:!0});globalThis.document.dispatchEvent(t)},lR=e=>n6(e)&&e.trim().length>0,lP=e=>oO(e);class lD{constructor(){this.preloadBuffer=new iW,this.initialized=!1,this.errorHandler=an,this.logger=iG,this.externalSrcLoader=new ik(this.errorHandler,this.logger),this.capabilitiesManager=new o8(this.errorHandler,this.logger),this.httpClient=aI}load(e,t,n={}){if(!s4.lifecycle.status.value){if(!lR(e)){this.logger.error(se(rD,e));return}if(!lP(t)){this.logger.error(st(rD,t));return}iI(()=>{s4.lifecycle.writeKey.value=nY(e),s4.lifecycle.dataPlaneUrl.value=nY(t),s4.loadOptions.value=lE(s4.loadOptions.value,n),s4.lifecycle.status.value="mounted"}),this.logger?.setMinLogLevel(s4.loadOptions.value.logLevel??"ERROR"),id("state",s4,e),this.startLifecycle()}}startLifecycle(){iV(()=>{try{switch(s4.lifecycle.status.value){case"mounted":this.onMounted();break;case"browserCapabilitiesReady":this.onBrowserCapabilitiesReady();break;case"configured":this.onConfigured();break;case"pluginsLoading":case"destinationsLoading":break;case"pluginsReady":this.onPluginsReady();break;case"initialized":this.onInitialized();break;case"loaded":this.onLoaded();break;case"destinationsReady":this.onDestinationsReady();break;case"ready":this.onReady()}}catch(e){this.errorHandler.onError(r9(e,"Failed to load the SDK"),rD)}})}onBrowserCapabilitiesReady(){iy(this),this.prepareInternalServices(),this.loadConfig()}onLoaded(){this.processBufferedEvents(),!0===s4.consents.preConsent.value.enabled?s4.lifecycle.status.value="ready":this.loadDestinations()}onMounted(){this.capabilitiesManager.init()}enqueuePreloadBufferEvents(e){Array.isArray(e)&&e.forEach(e=>this.preloadBuffer.enqueue(nY(e)))}processDataInPreloadBuffer(){for(;this.preloadBuffer.size()>0;){let e=this.preloadBuffer.dequeue();e&&i_([...e],this)}}prepareInternalServices(){this.pluginsManager=new a_(s7,this.errorHandler,this.logger),this.storeManager=new ov(this.pluginsManager,this.errorHandler,this.logger),this.configManager=new oY(this.httpClient,this.errorHandler,this.logger),this.userSessionManager=new lS(this.errorHandler,this.logger,this.pluginsManager,this.storeManager,this.httpClient),this.eventRepository=new lM(this.pluginsManager,this.storeManager,this.errorHandler,this.logger),this.eventManager=new lw(this.eventRepository,this.userSessionManager,this.errorHandler,this.logger)}loadConfig(){s4.lifecycle.writeKey.value&&this.httpClient.setAuthHeader(s4.lifecycle.writeKey.value),this.configManager?.init()}onPluginsReady(){this.errorHandler.init(this.httpClient,this.externalSrcLoader),this.storeManager?.init(),this.userSessionManager?.init(),s4.consents.enabled.value&&!s4.consents.initialized.value&&(this.pluginsManager?.invokeSingle("consentManager.init",s4,this.logger),!1===s4.consents.preConsent.value.enabled&&this.pluginsManager?.invokeSingle("consentManager.updateConsentsInfo",s4,this.storeManager,this.logger)),this.eventManager?.init(),s4.lifecycle.status.value="initialized"}onConfigured(){this.pluginsManager?.init()}onInitialized(){this.processDataInPreloadBuffer(),n5(s4.loadOptions.value.onLoaded)&&s4.loadOptions.value.onLoaded(globalThis.rudderanalytics),iI(()=>{s4.lifecycle.loaded.value=!0,s4.lifecycle.status.value="loaded"}),this.initialized=!0,lO("RSA_Initialised")}onReady(){s4.lifecycle.status.value="readyExecuted",s4.eventBuffer.readyCallbacksArray.value.forEach(e=>{try{e()}catch(e){this.errorHandler.onError(e,rD,sS)}}),lO("RSA_Ready")}processBufferedEvents(){let e=s4.eventBuffer.toBeProcessedArray.value;for(;e.length>0;){let t=e.shift();if(s4.eventBuffer.toBeProcessedArray.value=e,t){let e=t[0];n5(this[e])&&this[e](...t.slice(1),!0)}e=s4.eventBuffer.toBeProcessedArray.value}}loadDestinations(){if(s4.nativeDestinations.clientDestinationsReady.value)return;this.pluginsManager?.invokeSingle("nativeDestinations.setActiveDestinations",s4,this.pluginsManager,this.errorHandler,this.logger);let e=s4.nativeDestinations.activeDestinations.value.length;if(0===e){s4.lifecycle.status.value="destinationsReady";return}s4.lifecycle.status.value="destinationsLoading",this.pluginsManager?.invokeSingle("nativeDestinations.load",s4,this.externalSrcLoader,this.errorHandler,this.logger),iV(()=>{(0===e||s4.nativeDestinations.initializedDestinations.value.length+s4.nativeDestinations.failedDestinations.value.length===e)&&iI(()=>{s4.lifecycle.status.value="destinationsReady",s4.nativeDestinations.clientDestinationsReady.value=!0})})}onDestinationsReady(){"ready"!==s4.lifecycle.status.value&&(s4.lifecycle.status.value="ready")}ready(e,t=!1){let n="ready";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}if(this.errorHandler.leaveBreadcrumb(`New ${n} invocation`),!n5(e)){this.logger.error(sn("readyApi"));return}if("readyExecuted"===s4.lifecycle.status.value)try{e()}catch(e){this.errorHandler.onError(e,rD,sS)}else s4.eventBuffer.readyCallbacksArray.value=[...s4.eventBuffer.readyCallbacksArray.value,e]}page(e,t=!1){let n="page";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} event`),s4.metrics.triggered.value+=1,this.eventManager?.addEvent({type:"page",category:e.category,name:e.name,properties:e.properties,options:e.options,callback:e.callback}),!0===s4.capabilities.isAdBlocked.value&&e.category!==ii&&this.page(rb(ii,"ad-block page request",{path:"/ad-blocked"},s4.loadOptions.value.sendAdblockPageOptions))}track(e,t=!1){let n="track";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} event - ${e.name}`),s4.metrics.triggered.value+=1,this.eventManager?.addEvent({type:n,name:e.name||void 0,properties:e.properties,options:e.options,callback:e.callback})}identify(e,t=!1){let n="identify";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} event`),s4.metrics.triggered.value+=1,e.userId&&s4.session.userId.value&&e.userId!==s4.session.userId.value&&this.reset(),n4(e.userId)||this.userSessionManager?.setUserId(e.userId),this.userSessionManager?.setUserTraits(e.traits),this.eventManager?.addEvent({type:n,userId:e.userId,traits:e.traits,options:e.options,callback:e.callback})}alias(e,t=!1){let n="alias";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} event`),s4.metrics.triggered.value+=1;let r=e.from??this.userSessionManager?.getUserId()??this.userSessionManager?.getAnonymousId();this.eventManager?.addEvent({type:n,to:e.to,from:r,options:e.options,callback:e.callback})}group(e,t=!1){let n="group";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} event`),s4.metrics.triggered.value+=1,n4(e.groupId)||this.userSessionManager?.setGroupId(e.groupId),this.userSessionManager?.setGroupTraits(e.traits),this.eventManager?.addEvent({type:n,groupId:e.groupId,traits:e.traits,options:e.options,callback:e.callback})}reset(e,t=!1){let n="reset";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} invocation, resetAnonymousId: ${e}`),this.userSessionManager?.reset(e)}getAnonymousId(e){return this.userSessionManager?.getAnonymousId(e)}setAnonymousId(e,t,n=!1){let r="setAnonymousId";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[r,e,t]];return}this.errorHandler.leaveBreadcrumb(`New ${r} invocation`),this.userSessionManager?.setAnonymousId(e,t)}getUserId(){return s4.session.userId.value}getUserTraits(){return s4.session.userTraits.value}getGroupId(){return s4.session.groupId.value}getGroupTraits(){return s4.session.groupTraits.value}startSession(e,t=!1){let n="startSession";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[n,e]];return}this.errorHandler.leaveBreadcrumb(`New ${n} invocation`),this.userSessionManager?.start(e)}endSession(e=!1){let t="endSession";if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,[t]];return}this.errorHandler.leaveBreadcrumb(`New ${t} invocation`),this.userSessionManager?.end()}getSessionId(){return this.userSessionManager?.getSessionId()??null}consent(e,t=!1){if(!s4.lifecycle.loaded.value){s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,["consent",e]];return}this.errorHandler.leaveBreadcrumb("New consent invocation"),iI(()=>{s4.consents.preConsent.value={...s4.consents.preConsent.value,enabled:!1},s4.consents.postConsent.value=oF(e);let{initialized:t,consentsData:n}=oB(s4.consents.postConsent.value.consentManagement,this.logger);s4.consents.initialized.value=t||s4.consents.initialized.value,s4.consents.data.value=n}),s4.consents.enabled.value&&!s4.consents.initialized.value&&this.pluginsManager?.invokeSingle("consentManager.updateConsentsInfo",s4,this.storeManager,this.logger),this.storeManager?.initializeStorageState(),this.userSessionManager?.syncStorageDataToState(),this.eventManager?.resume(),this.loadDestinations(),this.sendTrackingEvents(t)}sendTrackingEvents(e){if(s4.consents.postConsent.value.trackConsent){let t=rw("Consent Management Interaction");e?s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,["track",t]]:this.track(t)}if(s4.consents.postConsent.value.sendPageEvent){let t=rb();e?s4.eventBuffer.toBeProcessedArray.value=[...s4.eventBuffer.toBeProcessedArray.value,["page",t]]:this.page(t)}}setAuthToken(e){this.userSessionManager?.setAuthToken(e)}}class lN{static globalSingleton=null;analyticsInstances={};defaultAnalyticsKey="";logger=iG;constructor(){try{if(lN.globalSingleton)return lN.globalSingleton;an.attachErrorListeners(),this.setDefaultInstanceKey=this.setDefaultInstanceKey.bind(this),this.getAnalyticsInstance=this.getAnalyticsInstance.bind(this),this.load=this.load.bind(this),this.ready=this.ready.bind(this),this.triggerBufferedLoadEvent=this.triggerBufferedLoadEvent.bind(this),this.page=this.page.bind(this),this.track=this.track.bind(this),this.identify=this.identify.bind(this),this.alias=this.alias.bind(this),this.group=this.group.bind(this),this.reset=this.reset.bind(this),this.getAnonymousId=this.getAnonymousId.bind(this),this.setAnonymousId=this.setAnonymousId.bind(this),this.getUserId=this.getUserId.bind(this),this.getUserTraits=this.getUserTraits.bind(this),this.getGroupId=this.getGroupId.bind(this),this.getGroupTraits=this.getGroupTraits.bind(this),this.startSession=this.startSession.bind(this),this.endSession=this.endSession.bind(this),this.getSessionId=this.getSessionId.bind(this),this.setAuthToken=this.setAuthToken.bind(this),this.consent=this.consent.bind(this),lN.globalSingleton=this,s4.autoTrack.pageLifecycle.visitId.value=rK(),s4.autoTrack.pageLifecycle.pageLoadedTimestamp.value=Date.now(),this.triggerBufferedLoadEvent(),globalThis.rudderanalytics=this}catch(e){ie(e)}}setDefaultInstanceKey(e){n6(e)&&e&&(this.defaultAnalyticsKey=e)}getAnalyticsInstance(e){try{let t=e;return n6(t)&&t||(t=this.defaultAnalyticsKey),this.analyticsInstances[t]||(this.analyticsInstances[t]=new lD),this.analyticsInstances[t]}catch(e){ie(e);return}}load(e,t,n){try{if(this.analyticsInstances[e])return;this.setDefaultInstanceKey(e);let r=ih(is);this.trackPageLifecycleEvents(r,n),iv(r),id(is,nY(r)),this.analyticsInstances[e]=new lD,this.getAnalyticsInstance(e)?.load(e,t,r8(n))}catch(e){ie(e)}}trackPageLifecycleEvents(e,t){let{autoTrack:n,useBeacon:r}=t??{},{enabled:i=!1,options:s={},pageLifecycle:a}=n??{},{events:o=[rT.LOADED,rT.UNLOADED],enabled:l=i,options:u=s}=a??{};s4.autoTrack.pageLifecycle.enabled.value=l,s4.autoTrack.enabled.value=i||l,l&&(this.trackPageLoadedEvent(o,u,e),this.setupPageUnloadTracking(o,r,u))}trackPageLoadedEvent(e,t,n){(0===e.length||e.includes(rT.LOADED))&&n.unshift(["track",rT.LOADED,{},{...t,originalTimestamp:rJ(new Date(s4.autoTrack.pageLifecycle.pageLoadedTimestamp.value))}])}setupPageUnloadTracking(e,t,n){(0===e.length||e.includes(rT.UNLOADED))&&(!0===t?rZ(e=>{if(!1===e&&s4.lifecycle.loaded.value){let e=Date.now(),t=e-s4.autoTrack.pageLifecycle.pageLoadedTimestamp.value;this.track(rT.UNLOADED,{visitDuration:t},{...n,originalTimestamp:rJ(new Date(e))})}}):this.logger.warn(sM("RudderStackAnalytics")))}triggerBufferedLoadEvent(){let e=Array.isArray(globalThis.rudderanalytics)?globalThis.rudderanalytics:[],t=im(e);id(is,nY([...e])),t.length>0&&(t.shift(),this.load.apply(null,t))}ready(e){try{this.getAnalyticsInstance()?.ready(r8(e))}catch(e){ie(e)}}page(e,t,n,r,i){try{this.getAnalyticsInstance()?.page(rb(r8(e),r8(t),r8(n),r8(r),r8(i)))}catch(e){ie(e)}}track(e,t,n,r){try{this.getAnalyticsInstance()?.track(rw(r8(e),r8(t),r8(n),r8(r)))}catch(e){ie(e)}}identify(e,t,n,r){try{this.getAnalyticsInstance()?.identify(rS(r8(e),r8(t),r8(n),r8(r)))}catch(e){ie(e)}}alias(e,t,n,r){try{this.getAnalyticsInstance()?.alias(rk(r8(e),r8(t),r8(n),r8(r)))}catch(e){ie(e)}}group(e,t,n,r){try{this.getAnalyticsInstance()?.group(rE(r8(e),r8(t),r8(n),r8(r)))}catch(e){ie(e)}}reset(e){try{this.getAnalyticsInstance()?.reset(r8(e))}catch(e){ie(e)}}getAnonymousId(e){try{return this.getAnalyticsInstance()?.getAnonymousId(r8(e))}catch(e){ie(e);return}}setAnonymousId(e,t){try{this.getAnalyticsInstance()?.setAnonymousId(r8(e),r8(t))}catch(e){ie(e)}}getUserId(){try{return this.getAnalyticsInstance()?.getUserId()}catch(e){ie(e);return}}getUserTraits(){try{return this.getAnalyticsInstance()?.getUserTraits()}catch(e){ie(e);return}}getGroupId(){try{return this.getAnalyticsInstance()?.getGroupId()}catch(e){ie(e);return}}getGroupTraits(){try{return this.getAnalyticsInstance()?.getGroupTraits()}catch(e){ie(e);return}}startSession(e){try{this.getAnalyticsInstance()?.startSession(r8(e))}catch(e){ie(e)}}endSession(){try{this.getAnalyticsInstance()?.endSession()}catch(e){ie(e)}}getSessionId(){try{return this.getAnalyticsInstance()?.getSessionId()}catch(e){ie(e);return}}setAuthToken(e){try{this.getAnalyticsInstance()?.setAuthToken(r8(e))}catch(e){ie(e)}}consent(e){try{this.getAnalyticsInstance()?.consent(r8(e))}catch(e){ie(e)}}}var lL=n(3539),lF=n(4960),lU=n(3291),lj=n(115),lB=n(2023),lz=n(1080),l$=n(5572),lV=n(16),lW=n(905);function lH(e,t,n){let r,i=0,s=[],a=0,o=[],{stop:l}=(0,l$.q)(e,t,"message",({data:e})=>{if("wrote"!==e.type||e.streamId!==n)return;i+=e.additionalBytesCount,s.push(e.result),r=e.trailer;let t=o.shift();t&&t.id===e.id?t.writeCallback?t.writeCallback(e.result.byteLength):t.finishCallback&&t.finishCallback():(l(),(0,lV.A2)("Worker responses received out of order."))});function u(){let e=0===s.length?new Uint8Array(0):(0,lW.wh)(s.concat(r)),t={rawBytesCount:i,output:e,outputBytesCount:e.byteLength,encoding:"deflate"};return i=0,s=[],t}function c(){a>0&&(t.postMessage({action:"reset",streamId:n}),a=0)}return{isAsync:!0,get isEmpty(){return 0===a},write(e,r){t.postMessage({action:"write",id:a,data:e,streamId:n}),o.push({id:a,writeCallback:r,data:e}),a+=1},finish(e){c(),o.length?(o.forEach(e=>{delete e.writeCallback}),o[o.length-1].finishCallback=()=>e(u())):e(u())},finishSync(){c();let e=o.map(e=>(delete e.writeCallback,delete e.finishCallback,e.data)).join("");return{...u(),pendingData:e}},estimateEncodedBytesCount:e=>e.length/8,stop(){l()}}}var lq=n(7132),lG=n(9589),lK=n(8778);let lZ=30*lq.OY;function lJ(e){return new Worker(e.workerUrl||URL.createObjectURL(new Blob(['(()=>{"use strict";function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},U=function(t,e,a){var n,r,s=new Array(16),h=0;for(n=1;n<=i;n++)s[n]=h=h+a[n-1]<<1;for(r=0;r<=e;r++){var l=t[2*r+1];0!==l&&(t[2*r]=A(s[l]++,l))}},I=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},B=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},S=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&E(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!E(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},C=function(t,e,n){var r,i,l,_,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(l=f[i],x(t,l+a+1,e),0!==(_=s[l])&&(i-=c[l],z(t,i,_)),r--,l=y(r),x(t,l,n),0!==(_=h[l])&&(r-=v[l],z(t,r,_)))}while(o<t.last_lit);x(t,256,e)},D=function(t,e){var a,n,r,s=e.dyn_tree,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,_=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<_;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,l&&(t.static_len-=h[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)S(t,s,a);r=_;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,S(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,h,l,_=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(_[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=_[2*_[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),_[2*n+1]=s,n>o||(t.bl_count[s]++,h=0,n>=c&&(h=f[n-c]),l=_[2*n],t.opt_len+=l*(s+h),u&&(t.static_len+=l*(d[2*n+1]+h)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(_[2*r+1]!==s&&(t.opt_len+=(s-_[2*r+1])*_[2*r],_[2*r+1]=s),n--)}}(t,e),U(s,o,t.bl_count)},j=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},M=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{x(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),h--),x(t,16,t.bl_tree),z(t,h-3,2)):h<=10?(x(t,17,t.bl_tree),z(t,h-3,3)):(x(t,18,t.bl_tree),z(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},L=!1,T=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){B(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},H=function(t,e,n,r){var i,s,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),D(t,t.l_desc),D(t,t.d_desc),h=function(t){var e;for(j(t,t.dyn_ltree,t.l_desc.max_code),j(t,t.dyn_dtree,t.d_desc.max_code),D(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?T(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),C(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*_[r]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),C(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&B(t)},R={_tr_init:function(t){L||(!function(){var t,e,a,_,m,y=new Array(16);for(a=0,_=0;_<28;_++)for(c[_]=a,t=0;t<1<<s[_];t++)f[a++]=_;for(f[a-1]=_,m=0,_=0;_<16;_++)for(v[_]=m,t=0;t<1<<h[_];t++)u[m++]=_;for(m>>=7;_<r;_++)for(v[_]=m<<7,t=0;t<1<<h[_]-7;t++)u[256+m++]=_;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(U(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,h,0,r,i),w=new b(new Array(0),l,0,19,7)}(),L=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,I(t)},_tr_stored_block:T,_tr_flush_block:H,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},K=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},N=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),O=function(t,e,a,n){var r=N,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},q={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F=0,G=2,J=3,P=4,Q=0,V=1,W=-1,X=0,Y=8,Z=R._tr_init,$=R._tr_stored_block,tt=R._tr_flush_block,et=R._tr_tally,at=R._tr_align,nt=F,rt=1,it=J,st=P,ht=5,lt=Q,_t=V,ot=-2,dt=-3,ut=-5,ft=W,ct=1,pt=2,gt=3,wt=4,vt=X,bt=2,mt=Y,yt=258,kt=262,zt=103,xt=113,At=666,Ut=function(t,e){return t.msg=q[e],e},It=function(t){return(t<<1)-(t>4?9:0)},Bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},Et=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},St=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Ct=function(t,e){tt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,St(t.strm)},Dt=function(t,e){t.pending_buf[t.pending++]=e},jt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Mt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-kt?t.strstart-(t.w_size-kt):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+yt,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=yt-(u-i),i=u-yt,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},Lt=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-kt)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=K(s.adler,h,o,l):2===s.state.wrap&&(s.adler=O(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Et(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Et(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<kt&&0!==t.strm.avail_in)},Tt=function(t,e){for(var a,n;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a)),t.match_length>=3)if(n=et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Et(t,t.ins_h,t.window[t.strstart+1]);else n=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,e){for(var a,n,r;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a),t.match_length<=5&&(t.strategy===ct||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ct(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=et(t,0,t.window[t.strstart-1]))&&Ct(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Kt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Lt(t),0===t.lookahead&&e===nt)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ct(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-kt&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ct(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Tt),new Rt(4,5,16,8,Tt),new Rt(4,6,32,32,Tt),new Rt(4,4,16,16,Ht),new Rt(8,16,32,32,Ht),new Rt(8,16,128,128,Ht),new Rt(8,32,128,256,Ht),new Rt(32,128,258,1024,Ht),new Rt(32,258,258,4096,Ht)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ot=function(t){if(!t||!t.state)return Ut(t,ot);t.total_in=t.total_out=0,t.data_type=bt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:xt,t.adler=2===e.wrap?0:1,e.last_flush=nt,Z(e),lt},qt=function(t){var e,a=Ot(t);return a===lt&&((e=t.state).window_size=2*e.w_size,Bt(e.head),e.max_lazy_match=Kt[e.level].max_lazy,e.good_match=Kt[e.level].good_length,e.nice_match=Kt[e.level].nice_length,e.max_chain_length=Kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Ft=function(t,e,a,n,r,i){if(!t)return ot;var s=1;if(e===ft&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==mt||n<8||n>15||e<0||e>9||i<0||i>wt)return Ut(t,ot);8===n&&(n=9);var h=new Nt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,qt(t)},Gt={deflateInit:function(t,e){return Ft(t,e,mt,15,8,vt)},deflateInit2:Ft,deflateReset:qt,deflateResetKeep:Ot,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?ot:(t.state.gzhead=e,lt):ot},deflate:function(t,e){var a,n;if(!t||!t.state||e>ht||e<0)return t?Ut(t,ot):ot;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===At&&e!==st)return Ut(t,0===t.avail_out?ut:ot);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Dt(r,31),Dt(r,139),Dt(r,8),r.gzhead?(Dt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Dt(r,255&r.gzhead.time),Dt(r,r.gzhead.time>>8&255),Dt(r,r.gzhead.time>>16&255),Dt(r,r.gzhead.time>>24&255),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Dt(r,255&r.gzhead.extra.length),Dt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=O(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,3),r.status=xt);else{var s=mt+(r.w_bits-8<<4)<<8;s|=(r.strategy>=pt||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=xt,jt(r,s),0!==r.strstart&&(jt(r,t.adler>>>16),jt(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending!==r.pending_buf_size));)Dt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=zt)}else r.status=zt;if(r.status===zt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&St(t),r.pending+2<=r.pending_buf_size&&(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),t.adler=0,r.status=xt)):r.status=xt),0!==r.pending){if(St(t),0===t.avail_out)return r.last_flush=-1,lt}else if(0===t.avail_in&&It(e)<=It(i)&&e!==st)return Ut(t,ut);if(r.status===At&&0!==t.avail_in)return Ut(t,ut);if(0!==t.avail_in||0!==r.lookahead||e!==nt&&r.status!==At){var h=r.strategy===pt?function(t,e){for(var a;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===nt)return 1;break}if(t.match_length=0,a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===gt?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=yt){if(Lt(t),t.lookahead<=yt&&e===nt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+yt;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=yt-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):Kt[r.level].func(r,e);if(3!==h&&4!==h||(r.status=At),1===h||3===h)return 0===t.avail_out&&(r.last_flush=-1),lt;if(2===h&&(e===rt?at(r):e!==ht&&($(r,0,0,!1),e===it&&(Bt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),St(t),0===t.avail_out))return r.last_flush=-1,lt}return e!==st?lt:r.wrap<=0?_t:(2===r.wrap?(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),Dt(r,t.adler>>16&255),Dt(r,t.adler>>24&255),Dt(r,255&t.total_in),Dt(r,t.total_in>>8&255),Dt(r,t.total_in>>16&255),Dt(r,t.total_in>>24&255)):(jt(r,t.adler>>>16),jt(r,65535&t.adler)),St(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?lt:_t)},deflateEnd:function(t){if(!t||!t.state)return ot;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==zt&&e!==xt&&e!==At?Ut(t,ot):(t.state=null,e===xt?Ut(t,dt):lt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return ot;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return ot;if(1===r&&(t.adler=K(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(Bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=Et(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,lt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Jt=new Uint8Array(256),Pt=0;Pt<256;Pt++)Jt[Pt]=Pt>=252?6:Pt>=248?5:Pt>=240?4:Pt>=224?3:Pt>=192?2:1;Jt[254]=Jt[254]=1;var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,Wt=F,Xt=G,Yt=J,Zt=P,$t=Q,te=V,ee=W,ae=X,ne=Y;function re(){this.options={level:ee,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var e=Gt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==$t)throw new Error(q[e]);if(t.header&&Gt.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Vt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Gt.deflateSetDictionary(this.strm,a))!==$t)throw new Error(q[e]);this._dict_set=!0}}function ie(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function se(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}re.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Zt:Wt,"[object ArrayBuffer]"===Vt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Xt||n===Yt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Gt.deflate(r,n))===te)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Gt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===$t;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===$t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.2.1"};case"write":{let n=e.get(a.streamId);n||(n=new re,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,G),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:se(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){ie(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){ie(e,t)}}()})();'])))}let lX={status:0};function lY(e,t,n,r=lJ){switch(0===lX.status&&function(e,t,n=lJ){try{let r=n(e),{stop:i}=(0,l$.q)(e,r,"error",n=>{lQ(e,t,n)}),{stop:s}=(0,l$.q)(e,r,"message",({data:n})=>{var r;"errored"===n.type?lQ(e,t,n.error,n.streamId):"initialized"===n.type&&(r=n.version,1===lX.status&&(lX={status:3,worker:lX.worker,stop:lX.stop,version:r}))});r.postMessage({action:"init"}),(0,lG.wg)(()=>{var e;return e=t,void(1===lX.status&&(lK.Vy.error(`${e} failed to start: a timeout occurred while initializing the Worker`),lX.initializationFailureCallbacks.forEach(e=>e()),lX={status:2}))},lZ),lX={status:1,worker:r,stop:()=>{i(),s()},initializationFailureCallbacks:[]}}catch(n){lQ(e,t,n)}}(e,t,r),lX.status){case 1:return lX.initializationFailureCallbacks.push(n),lX.worker;case 3:return lX.worker}}function lQ(e,t,n,r){if(1===lX.status||0===lX.status){var i;if(lK.Vy.error(`${t} failed to start: an error occurred while creating the Worker:`,n),n instanceof Event||n instanceof Error&&((i=n.message).includes("Content Security Policy")||i.includes("requires 'TrustedScriptURL'"))){let t;t=e.workerUrl?`Please make sure the Worker URL ${e.workerUrl} is correct and CSP is correctly configured.`:"Please make sure CSP is correctly configured.",lK.Vy.error(`${t} See documentation at ${lK.fH}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else(0,lV.VJ)(n);1===lX.status&&lX.initializationFailureCallbacks.forEach(e=>e()),lX={status:2}}else(0,lV.VJ)(n,{worker_version:3===lX.status&&lX.version,stream_id:r})}function l0(){return"function"==typeof Array.from&&"function"==typeof CSSSupportsRule&&"function"==typeof URL.createObjectURL&&"forEach"in NodeList.prototype}var l1=n(1791),l2=n(3687),l3=n(3870);let l5=function(e,t){let n;if((0,lj.d0)()&&!(0,lj.Ww)("records")||!l0())return{start:lB.l,stop:lB.l,getReplayStats:()=>void 0,onRumStart:lB.l,isRecording:()=>!1,getSessionReplayLink:()=>void 0};let{strategy:r,shouldStartImmediately:i}=(n=0,{strategy:{start(){n=1},stop(){n=2},isRecording:()=>!1,getSessionReplayLink:lB.l},shouldStartImmediately:e=>1===n||0===n&&!e.startSessionReplayRecordingManually});return{start:e=>r.start(e),stop:()=>r.stop(),getSessionReplayLink:()=>r.getSessionReplayLink(),onRumStart:function(t,n,s,a,o){let l;r=function(e,t,n,r,i,s){let a,o=0;t.subscribe(9,()=>{(2===o||3===o)&&(c(),o=1)}),t.subscribe(11,e=>{e.reason===l1.y5.UNLOADING&&c()}),t.subscribe(10,()=>{1===o&&u()});let l=async()=>{let[l]=await Promise.all([i(),(0,l2.N)(e,"interactive")]);if(2!==o)return;let u=s();if(!u||!l){o=0;return}({stop:a}=l(t,e,n,r,u)),o=3};function u(e){var t,r,i,s,a;let u=n.findTrackedSession();if(t=u,r=e,!t||0===t.sessionReplay&&(!r||!r.force)){o=1;return}if(2!==(i=o)&&3!==i){o=2,l().catch(l3.Dx),s=u,(a=e)&&a.force&&0===s.sessionReplay&&n.setForcedReplay()}}function c(){3===o&&(null==a||a()),o=0}return{start:u,stop:c,getSessionReplayLink:()=>(function(e,t,n,r){var i,s;let a=t.findTrackedSession(),o=(i=a,s=r,l0()?i?0===i.sessionReplay?"incorrect-session-plan":s?void 0:"replay-not-started":"rum-not-tracked":"browser-not-supported"),l=n.findView();return(0,lU.dx)(e,{viewContext:l,errorType:o,session:a})})(e,n,r,0!==o),isRecording:()=>3===o}}(n,t,s,a,e,function(){return!l&&(null!=o||(o=lY(n,"Datadog Session Replay",()=>{r.stop()},void 0)),o&&(l=lH(n,o,1))),l}),i(n)&&r.start()},isRecording:()=>3===lX.status&&r.isRecording(),getReplayStats:e=>3===lX.status?(0,lz.lv)(e):void 0}}(async function(){try{return(await n.e(777).then(n.bind(n,5553))).startRecording}catch(e){}}),l6=(0,lU.AB)(lU.rJ,l5,{startDeflateWorker:lY,createDeflateEncoder:lH});(0,lL.Z)((0,lF.V)(),"DD_RUM",l6);var l4=n(1703);class l8{async initialize(e){if(!this.initialized){if(void 0===e.rudderstackWriteKey||0===e.rudderstackWriteKey.length){console.warn("No write key provided, analytics will not be sent");return}this.rudderAnalytics=new lN,this.rudderAnalytics.load(e.rudderstackWriteKey,"https://sesameaihzfjvw.dataplane.rudderstack.com",{}),this.rudderAnalytics.ready(()=>{this.isRudderReady=!0}),e.datadogEnabled&&void 0!==e.datadogRumClientToken&&e.datadogRumClientToken.length>0&&void 0!==e.datadogRumAppId&&e.datadogRumAppId.length>0&&(this.useDatadog=!0,void 0===l6.getInternalContext()&&l6.init({applicationId:e.datadogRumAppId,clientToken:e.datadogRumClientToken,site:"us5.datadoghq.com",service:this.clientName.toLowerCase().replace(/-/g,"_"),env:this.env,sessionSampleRate:e.datadogSampleRate,sessionReplaySampleRate:0,defaultPrivacyLevel:"mask-user-input"})),this.initialized=!0}}identify(e,t,n,r,i){if(this.isRudderReady){var s;null===(s=this.rudderAnalytics)||void 0===s||s.identify(e,{email:t,displayName:n,isStaff:r,isLoggedIn:i})}this.useDatadog&&l6.setGlobalContextProperty("user",{uid:e,email:t,displayName:n,isStaff:r,isLoggedIn:i})}setContext(e,t){this.context[e]=t,this.useDatadog&&l6.setGlobalContextProperty(e,t)}unsetContext(e){delete this.context[e],this.useDatadog&&l6.setGlobalContextProperty(e,void 0)}track(e,t){let{NAME:n,...r}=e;if(r.clientName=this.clientName,Object.assign(r,this.context),this.isRudderReady){var i;null===(i=this.rudderAnalytics)||void 0===i||i.track(n,r)}this.useGA&&l4.Ay.event(n,r),this.useDatadog&&t&&l6.addAction(n,r)}constructor(e,t,n){this.isRudderReady=!1,this.useDatadog=!1,this.useGA=!1,this.context={},this.initialized=!1,this.clientName=t,this.env=e,this.useGA=n}}class l7{getAnalyticsManager(){return"local"===this.env.name?new n$:new l8(this.env.name,this.clientName,this.useGA)}constructor(e,t,n){this.clientName=e,this.env=t,this.useGA=n}}var l9=n(1512),ue=n.n(l9),ut=n(4100),un=n(6883);class ur{async initialize(e){console.log("Logging initialized: ",e)}identify(e,t,n,r){console.log("Logging identified: ",t,n)}setContext(e,t){console.log("Logging set context: ",e,t)}unsetContext(e){console.log("Logging unset context: ",e)}startContextTimer(e){console.log("Logging start context timer: ",e)}removeContextTimer(e){console.log("Logging remove context timer: ",e)}async uploadLogs(e,t){console.log("Would be uploading logs for call ID: ",e)}info(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("Logging info: ",e,...n)}debug(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("Logging debug: ",e,...n)}warn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log("Logging warn: ",e,...n)}error(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.error("Logging error: ",e,...n)}}class ui{getActiveAudioContext(){let e=this.audioContext;return e||(e=new AudioContext,this.audioContext=e),e}async unlock(){let e=this.getActiveAudioContext();"suspended"===e.state&&e.resume()}async precacheAudio(e){if(this.cache[e])return this.cache[e];let t=await fetch(e),n=await t.arrayBuffer();return this.cache[e]=n,this.cache[e]}async playAudio(e,t){let n=this.getActiveAudioContext(),r=await this.precacheAudio(e),i=await n.decodeAudioData(r.slice(0)),s=n.createBufferSource(),a=n.createGain();a.gain.value=1,s.connect(a),a.connect(n.destination);let o=new Promise(e=>{s.onended=()=>e()});return s.buffer=i,s.start(0),t&&setTimeout(()=>{s.stop()},t),o}constructor(e){this.audioContext=null,this.audioContext=null,this.logManager=e,this.cache={}}}class us{getAnalyticsManager(){return this.analyticsManager}ping(){this.isPinging||(this.isPinging=!0,this._ping().then(()=>{this.isPinging=!1}).catch(e=>{this.logManager.error("ping failed "+e),this.isPinging=!1}))}async _ping(){if(null!==this.sessionId){var e;let t=Date.now(),n=this.constructMessage({type:nt.Ping,content:"ping"});await this.transport.sendPing(n);let r=Date.now();null===(e=this.audio)||void 0===e||e.setNetworkLatency(r-t)}}async connect(){return this.sessionId=await this.transport.connect(),null==this.sessionId&&this.logManager.error("Failed to establish session ID"),this.pingIntervalHandle=setInterval(()=>{this.ping()},1e3),this.sessionId}async disconnect(){this.logManager.info("Disconnecting session handler"),this.pingIntervalHandle&&(clearInterval(this.pingIntervalHandle),this.pingIntervalHandle=null),this.sessionId=null,await this.transport.disconnect()}async sendImage(e,t,n,r){let i=this.constructMessage({type:nt.Image,content:{image_uri:e,x:t,y:n,save_image:!1,image_metadata:r}});await this.transport.sendImage(i)}async sendDirectiveEvent(e,t){let n=this.constructMessage({type:nt.DirectiveSessionEvent,content:{content:e,is_quiet:t}});await this.transport.sendDirectiveSessionEvent(n)}onCallStateChange(e){this.callStateChangeCallback=e,this.callStateChangeCallback(this.callState)}onError(e){this.errorCallback=e}onCallRecording(e){this.callRecordingCallback=e}isConnected(){return this.transport.isConnected()}getCallState(){return this.callState}getCallId(){return this.callId}getCallStartTime(){return this.callStartTime}getCallDurationMs(){var e;return null===(e=this.audio)||void 0===e?void 0:e.getCallDurationMs()}isCallActive(){return this.callState!==ne.DISCONNECTED}getFrequencies(){var e,t;return null!==(t=null===(e=this.audio)||void 0===e?void 0:e.getFrequencies())&&void 0!==t?t:{input:new Uint8Array(128),output:new Uint8Array(128)}}async startCall(e,t,n,r,i,s,a){var o,l,u,c,d;let h,f;if(this.isCallActive())throw this.logManager.error("Call is already active."),new Z("Call is already active.");try{if(s){let e=this.constructMessage({type:nt.ClientLocationState,content:{...s,date:null!==(o=null==a?void 0:a.toISOString())&&void 0!==o?o:new Date().toISOString()}});this.transport.sendClientLocationState(e)}}catch(e){console.error("Failed to send client location state",e)}this.setCallState(ne.CONNECTING);let g=Date.now();this.audio=t;try{let n=this.constructMessage({type:nt.CallConnect,content:{audio_codec:"none",sample_rate:t.input.getSampleRate(),is_private:!1,reconnect:!1,settings:"string"==typeof e?{preset:e}:e,client_name:this.clientName,client_metadata:this.clientMetadata}}),r=await this.transport.callConnect(n);if(h=Date.now(),this.logManager.info("Call created with id "+r.call_id),r.type===nt.Error)throw this.logManager.warn("Error starting call: "+r.content.message),this.analyticsManager.track(new p(r.content.code.toString(),null!==(l=r.content.message)&&void 0!==l?l:"Unknown error"),!0),r.content.close_connection&&(await this.stopCall(!0),await this.disconnect()),new J(null!==(u=r.content.message)&&void 0!==u?u:"Unknown error",{code:r.content.code});if(r.type!==nt.CallConnectResponse)throw this.logManager.error("Unexpected response type "+r.type),new ee("Unexpected response type");f=r,this.callId=f.call_id}catch(e){if(await this.stopCall(!0),e instanceof J)throw e;throw new J(null!==(c=null==e?void 0:e.toString())&&void 0!==c?c:"Unknown error")}await (null==r?void 0:r());try{await t.start(this.sendAudioData.bind(this),f.content.sample_rate,n,g,h,i)}catch(e){throw this.logManager.error("Failed to start audio: "+e),new Y(null!==(d=null==e?void 0:e.toString())&&void 0!==d?d:"Unknown error")}return this.callStartTime=new Date,this.setCallState(ne.CONNECTED),this.logManager.info("Call started successfully."),this.callId}async stopCall(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(this.getCallState()===ne.DISCONNECTED)throw this.logManager.error("No active call to stop."),Error("No active call to stop.");this.logManager.info("stopCall",e);try{if(this.setCallState(ne.DISCONNECTING),this.callStartTime=null,await this.stopAudio(this.callId,t),!e&&null!=this.callId){let e=this.constructMessage({type:nt.CallDisconnect,content:{reason:"user_request"}});try{await this.transport.callDisconnect(e)}catch(e){this.logManager.error("Failed to send call disconnect message",e)}}this.callId=null,this.setCallState(ne.DISCONNECTED),this.logManager.info("Call stopped successfully.")}catch(e){this.handleError(e)}}setMuteInput(e){var t;null===(t=this.audio)||void 0===t||t.setMuteInput(e),this.logManager.info("User updated input mute status: ".concat(e,"."))}getMuteInput(){var e,t;return null!==(t=null===(e=this.audio)||void 0===e?void 0:e.getMuteInput())&&void 0!==t&&t}setMuteOutput(e){var t;null===(t=this.audio)||void 0===t||t.setMuteOutput(e),this.logManager.info("User updated output mute status: ".concat(e,"."))}getMuteOutput(){var e,t;return null!==(t=null===(e=this.audio)||void 0===e?void 0:e.getMuteOutput())&&void 0!==t&&t}sendAudioData(e){let t=this.constructMessage({type:nt.Audio,content:{audio_data:this.arrayBufferToBase64(e)}});this.transport.sendAudio(t)}handleIncomingAudio(e,t){if(this.isCallActive()){var n;null===(n=this.audio)||void 0===n||n.processAudioData(e,t)}}handleIncomingAgentMessage(e){if("TimespanSessionEvent"===e.content.type){var t;null===(t=this.audio)||void 0===t||t.processTimespanEvent(JSON.parse(e.content.content))}}setCallState(e){var t;this.callState=e,null===(t=this.callStateChangeCallback)||void 0===t||t.call(this,e)}handleError(e){var t,n;if(this.logManager.error("SessionHandler encountered an error: "+e),e instanceof U)this.analyticsManager.track(new p(e.code,e.message,e.details),!0);else{let t=new ee(null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"Unknown error",{location:"SessionHandler"});this.analyticsManager.track(new p(t.code,t.message),!0)}(e instanceof G&&e.closeConnection||e instanceof B||e instanceof H)&&(this.logManager.info("Stopping call and disconnecting due to error: "+e),this.stopCall(!0).then(()=>{this.disconnect()})),null===(t=this.errorCallback)||void 0===t||t.call(this,e)}handleClose(e){this.logManager.info("SessionHandler transport closed with code: "+e),this.callState==ne.CONNECTED||this.callState==ne.CONNECTING?this.stopAudio(this.callId).finally(()=>{var t;this.setCallState(ne.DISCONNECTED),this.analyticsManager.track(new f(e),!0),null===(t=this.errorCallback)||void 0===t||t.call(this,new X("Transport closed unexpectedly",{closeCode:e})),this.callId=null,this.sessionId=null}):(this.callId=null,this.sessionId=null)}async stopAudio(e,t){this.logManager.info("Stopping audio");try{var n,r;let i=await (null===(n=this.audio)||void 0===n?void 0:n.stop());await (null==t?void 0:t()),null!=e&&i&&(this.logManager.info("Call Recording created successfully: ".concat(i.length," bytes")),null===(r=this.callRecordingCallback)||void 0===r||r.call(this,e,i))}catch(e){this.logManager.error("Call Recording failed:",e)}}constructMessage(e){let{type:t,content:n}=e;if(null==this.sessionId)throw this.logManager.error("Session ID is not set. Did you call connect() first?"),Error("Session ID is not set. Did you call connect() first?");return{type:t,session_id:this.sessionId,call_id:this.callId,content:n}}arrayBufferToBase64(e){return btoa(String.fromCharCode(...new Uint8Array(e)))}constructor(e,t,n,r,i={},s=()=>{}){this.audio=null,this.callState=ne.DISCONNECTED,this.sessionId=null,this.callId=null,this.callStateChangeCallback=null,this.errorCallback=null,this.callRecordingCallback=null,this.callStartTime=null,this.isPinging=!1,this.pingIntervalHandle=null,this.transport=e,this.analyticsManager=t,this.logManager=n,this.clientName=r,this.clientMetadata=i,this.errorCallback=s,this.transport.onAudioReceived(this.handleIncomingAudio.bind(this)),this.transport.onAgentMessageReceived(this.handleIncomingAgentMessage.bind(this)),this.transport.onClose(this.handleClose.bind(this)),this.transport.onError(this.handleError.bind(this))}}var ua=n(126);function uo(e,t){let n=null;for(let r=0,i=t.length;r<i;++r){let i=t[r],s=i.startSample,a=s+i.numSamples;s<=e&&e<a&&(null!==n&&console.log("WARN: Multiple timespans for sample ".concat(e)),n=i.timestampMs)}return n}function ul(e,t){for(let n=0;n<t.length;++n){let r=t[n];r.startSample+r.numSamples<e&&(t.splice(n,1),--n)}}class uu{static floatTo16BitPCM(e){let t=new ArrayBuffer(2*e.length),n=new DataView(t),r=0;for(let t=0;t<e.length;t++,r+=2){let i=Math.max(-1,Math.min(1,e[t]));n.setInt16(r,i<0?32768*i:32767*i,!0)}return t}static mergeBuffers(e,t){let n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n.buffer}_packData(e,t){return[new Uint8Array([t,t>>8]),new Uint8Array([t,t>>8,t>>16,t>>24])][e]}pack(e,t){if(null==t?void 0:t.bitsPerSample){if(null==t?void 0:t.channels){if(!(null==t?void 0:t.data))throw Error('Missing "data"')}else throw Error('Missing "channels"')}else throw Error('Missing "bitsPerSample"');let{bitsPerSample:n,channels:r,data:i}=t,s=new Blob(["RIFF",this._packData(1,52),"WAVE","fmt ",this._packData(1,16),this._packData(0,1),this._packData(0,r.length),this._packData(1,e),this._packData(1,e*r.length*n/8),this._packData(0,r.length*n/8),this._packData(0,n),"data",this._packData(1,r[0].length*r.length*n/8),i],{type:"audio/mpeg"}),a=URL.createObjectURL(s);return{blob:s,url:a,channelCount:r.length,sampleRate:e,duration:i.byteLength/(r.length*e*2)}}}globalThis.WavPacker=uu;let uc=[4186.01,4434.92,4698.63,4978.03,5274.04,5587.65,5919.91,6271.93,6644.88,7040,7458.62,7902.13],ud=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],uh=[],up=[];for(let e=1;e<=8;e++)for(let t=0;t<uc.length;t++){let n=uc[t];uh.push(n/Math.pow(2,8-e)),up.push(ud[t]+e)}let uf=uh.filter((e,t)=>uh[t]>32&&uh[t]<2e3),ug=up.filter((e,t)=>uh[t]>32&&uh[t]<2e3);class um{static getFrequencies(e,t,n){let r,i,s,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"frequency",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-100,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-30;n||(n=new Float32Array(e.frequencyBinCount),e.getFloatFrequencyData(n));let u=1/n.length*(t/2);if("music"===a||"voice"===a){let e="voice"===a?uf:uh,t=Array(e.length).fill(o);for(let r=0;r<n.length;r++){let i=r*u,s=n[r];for(let n=e.length-1;n>=0;n--)if(i>e[n]){t[n]=Math.max(t[n],s);break}}r=t,i="voice"===a?uf:uh,s="voice"===a?ug:up}else s=(i=(r=Array.from(n)).map((e,t)=>u*t)).map(e=>"".concat(e.toFixed(2)," Hz"));return{values:new Float32Array(r.map(e=>Math.max(0,Math.min((e-o)/(l-o),1)))),frequencies:i,labels:s}}getFrequencies(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frequency",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-100,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-30,r=null;if(this.audioBuffer&&this.fftResults.length){let e=Math.min(this.audio.currentTime/this.audio.duration*this.fftResults.length|0,this.fftResults.length-1);r=this.fftResults[e]}return um.getFrequencies(this.analyser,this.sampleRate,r,e,t,n)}async resumeIfSuspended(){return"suspended"===this.context.state&&await this.context.resume(),!0}constructor(e,t=null){if(this.fftResults=[],t){let{length:n,sampleRate:r}=t,i=new OfflineAudioContext({length:n,sampleRate:r}),s=i.createBufferSource();s.buffer=t;let a=i.createAnalyser();a.fftSize=8192,a.smoothingTimeConstant=.1,s.connect(a);let o=1/60,l=n/r,u=e=>{let t=o*e;t<l&&i.suspend(t).then(()=>{let t=new Float32Array(a.frequencyBinCount);a.getFloatFrequencyData(t),this.fftResults.push(t),u(e+1)}),1===e?i.startRendering():i.resume()};s.start(0),u(1),this.audio=e,this.context=i,this.analyser=a,this.sampleRate=r,this.audioBuffer=t}else{let t=new AudioContext,n=t.createMediaElementSource(e),r=t.createAnalyser();r.fftSize=8192,r.smoothingTimeConstant=.1,n.connect(r),r.connect(t.destination),this.audio=e,this.context=t,this.analyser=r,this.sampleRate=this.context.sampleRate,this.audioBuffer=null}}}globalThis.AudioAnalysis=um;let uv=new Blob(["\n// StreamProcessor\n\nclass StreamProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n    this.hasStarted = false;\n    this.hasInterrupted = false;\n    this.outputBuffers = [];\n    this.bufferLength = 128;\n    this.writeTrackId = null;\n    \n    // configuration\n    this.playbackRateMin = 1.0;\n    this.playbackRateMax = 1.0;\n    this.playbackRateAffordance = 0.2;\n    this.playbackSmoothing = 0.9;\n    this.playbackSkipDigitalSilence = true;\n    this.playbackMinBuffers = 36; // 36 * 128 samples @ 24kHz ~ 192ms\n    this.playbackRecord = false;\n    \n    // state\n    this.playbackRate = 1.0;\n    this.playbackOutputOffset = 0;\n    this.isInPlayback = false;\n    \n    // recording\n    this.playbackAudioChunks = [];\n\n    this.trackSampleOffsets = {};\n    this.port.onmessage = this.receive.bind(this);\n  }\n\n    /** Handling messages from the caller code. */\n  receive(event) {\n    try {\n      this.doReceive(event);\n    } catch (error) {\n      this.port.postMessage({ \n        event: 'error', \n        data: {\n          message: error.message, \n          stack: error.stack\n        }\n      });\n    }\n  }\n\n  doReceive(event) {\n    if (!event.data) {\n      return;\n    }\n    const payload = event.data;\n    if (payload.event === 'write') {\n      const int16Array = payload.buffer;\n      const float32Array = new Float32Array(int16Array.length);\n      for (let i = 0; i < int16Array.length; i++) {\n        float32Array[i] = int16Array[i] / 0x8000; // Convert Int16 to Float32\n      }\n      this.writeTrackId = payload.trackId;\n      this.writeData(float32Array, payload.trackId);\n    } else if (\n      payload.event === 'offset' ||\n      payload.event === 'interrupt'\n    ) {\n      const requestId = payload.requestId;\n      const trackId = payload.trackId || this.writeTrackId;\n      const offset = this.trackSampleOffsets[trackId] || 0;\n      this.port.postMessage({\n        event: 'offset',\n        requestId,\n        trackId,\n        offset,\n        audio: this.floatTo16BitPCM(this.mergeAudioData(this.playbackAudioChunks)),\n      });\n      if (payload.event === 'interrupt') {\n        this.hasInterrupted = true;\n      }\n    } else if (payload.event === 'configure') {\n      const config = {\n        playbackMinBuffers: this.playbackMinBuffers,\n        playbackRateMin: this.playbackRateMin,\n        playbackRateMax: this.playbackRateMax,\n        playbackRateAffordance: this.playbackRateAffordance,\n        playbackSmoothing: this.playbackSmoothing,\n        playbackSkipDigitalSilence: this.playbackSkipDigitalSilence,\n        playbackRecord: this.playbackRecord,\n        ...payload.config,\n      };\n\n      // this.port.postMessage({ event: 'log', data: '[worker] Configuring ' + JSON.stringify(config) });\n\n      this.playbackMinBuffers = config.playbackMinBuffers;\n      this.playbackRateMin = config.playbackRateMin;\n      this.playbackRateMax = config.playbackRateMax;\n      this.playbackRateAffordance = config.playbackRateAffordance;\n      this.playbackSmoothing = config.playbackSmoothing;\n      this.playbackSkipDigitalSilence = config.playbackSkipDigitalSilence;\n      this.playbackRecord = config.playbackRecord;\n    } else {\n      throw new Error('Unhandled event: ' + payload.event);\n    }\n  }\n\n  writeData(float32Array, trackId = null) {\n    let isSilence = true;\n    for (let i = 0; i < float32Array.length; ++i) {\n      if (float32Array[i] !== 0) {\n        isSilence = false;\n        break;\n      }\n    }\n\n    this.outputBuffers.push({ trackId, buffer: float32Array, isSilence: isSilence });\n\n    // this.port.postMessage({ event: 'log', data: '[worker] Consumed ' + float32Array.length + ' samples (silence: ' + isSilence + ')' });\n    return true;\n  }\n\n  /** The main entry point for an AudioProcessWorklet implementation. Called by the browser. */\n  process(inputs, outputs, parameters) {    \n    try {\n      return this.doProcess(inputs, outputs, parameters);\n    } catch (error) {\n      this.port.postMessage({ \n        event: 'error', \n        data: {\n          message: error.message, \n          stack: error.stack\n        }\n      });\n      // If we return false here, the postMessage above has no effect.\n      return true;\n    }\n  }\n\n\n  doProcess(inputs, outputs, parameters) {   \n    const output = outputs[0];\n    const outputChannelData = output[0];\n    const outputBuffers = this.outputBuffers;\n\n    if (this.hasInterrupted) {\n      this.port.postMessage({ event: 'stop' });\n      return false;\n    } else {\n      let totalSamples = -this.playbackOutputOffset;\n      let samplesRead = 0;\n      let samplesMoved = 0;\n      let samplesWritten = 0\n      \n      let consumeBuffer = false;\n      let consumableSamples = 0;\n      \n      if (outputBuffers.length > 0) {\n        const outputChanneDataSampledNeeded = outputChannelData.length;\n        const serverSamplesTarget = this.playbackMinBuffers * this.bufferLength;\n        \n        // determine if we should consume the output buffer(s)\n        consumableSamples -= this.playbackOutputOffset;\n        \n        if (this.playbackSkipDigitalSilence) {\n          // count total buffered after initial non-silence buffer\n          let foundNonSilence = this.playbackOutputOffset !== 0;\n          for (let i = 0; i < outputBuffers.length; ++i) {\n            const { buffer, isSilence } = outputBuffers[i];\n\n            totalSamples += buffer.length;\n\n            // consider a sample as consumable if we are in or entering playback or if it is non-silence\n            if (this.isInPlayback || !isSilence || foundNonSilence) {\n              consumableSamples += buffer.length;\n              foundNonSilence = true;\n            }\n          }\n          \n          // consume samples only if we are already in playback or we've buffered enough\n          consumeBuffer = this.isInPlayback || consumableSamples >= serverSamplesTarget;\n        } else {\n          for (let i = 0; i < outputBuffers.length; ++i) {\n            const { buffer } = outputBuffers[i];\n            \n            totalSamples += buffer.length;\n            consumableSamples += buffer.length;\n          }\n          \n          // start continuous consumption once initial buffering is met\n          consumeBuffer = this.hasStarted || consumableSamples >= serverSamplesTarget;\n        }\n\n        if (consumeBuffer && consumableSamples > 0) {\n          // apply playback rate to determine how many samples to consume\n          const playbackRateTarget = this.determinePlaybackRate(consumableSamples, serverSamplesTarget);\n          this.playbackRate = this.playbackRate * this.playbackSmoothing + playbackRateTarget * (1 - this.playbackSmoothing);\n  \n          const outputBufferSamplesNeeded = Math.floor(outputChanneDataSampledNeeded * this.playbackRate);\n          const outputBuffer = new Float32Array(outputBufferSamplesNeeded);\n\n          // this.port.postMessage({ event: 'log', data: '[worker] Consuming ' + outputBufferSamplesNeeded + ' of ' + consumableSamples + ' samples (total: ' + totalSamples + ') @ ' + this.playbackRate });\n\n          // read the necessary (or as many as available) samples from the outputBuffers\n          let outputBufferIndex = 0;\n          let outputBufferOffset = this.playbackOutputOffset;\n          let outputTrackId = null;\n          while (outputBufferIndex < outputBuffers.length) {\n            const { trackId, buffer, isSilence } = outputBuffers[outputBufferIndex];\n\n            outputTrackId = trackId;\n\n            // skip full buffers of silence (if enabled)\n            if (this.playbackSkipDigitalSilence) {\n              if (isSilence && outputBufferOffset === 0) {\n                samplesMoved += buffer.length;\n                // advance buffer\n                outputBufferIndex++;\n\n                if (this.isInPlayback) {\n                  // just finished a speech segment (reset buffer)\n                  break;\n                } else {\n                  continue;\n                }\n              }\n            }\n\n            // read samples from the buffer\n            for (let j = outputBufferOffset; j < buffer.length && samplesRead < outputBufferSamplesNeeded; ++j) {\n              outputBuffer[samplesRead++] = buffer[j];\n              samplesMoved++;\n              \n              // advance output buffer\n              if (j === buffer.length - 1) {\n                outputBufferOffset = 0;\n                outputBufferIndex++;\n              } else {\n                outputBufferOffset++;\n              }\n            }\n\n            // done if read enough samples\n            if (samplesRead === outputBufferSamplesNeeded) {\n              break;\n            }\n          }\n\n          // done if no samples\n          if (samplesRead > 0) {\n            // apply playback rate to output buffer\n            const resampledBuffer = this.resampleAudioData(outputBuffer, outputChanneDataSampledNeeded);\n            \n            // write the resampled buffer to the output channel\n            for (let i = 0; i < resampledBuffer.length && samplesWritten < outputChanneDataSampledNeeded; ++i) {\n              outputChannelData[samplesWritten++] = resampledBuffer[i];\n            }\n\n            // update output buffers\n            this.outputBuffers = this.outputBuffers.slice(outputBufferIndex);\n            this.playbackOutputOffset = outputBufferOffset;\n          \n            if (outputTrackId) {\n              this.trackSampleOffsets[outputTrackId] =\n                this.trackSampleOffsets[outputTrackId] || 0;\n              this.trackSampleOffsets[outputTrackId] += resampledBuffer.length;\n            }\n          }\n        }\n      }\n\n      if (samplesRead > 0) {\n        this.hasStarted = true;\n      }\n\n      if (samplesWritten > 0) {\n        this.isInPlayback = true;\n      } else {\n        this.isInPlayback = false;\n      }\n\n      // post audio playback timestamp\n      this.port.postMessage({\n        event: 'audio',\n        data: samplesMoved,\n        underrun: consumeBuffer ? Math.max(0, outputChannelData.length - consumableSamples) : 0,\n        timestamp_ms: Date.now(),\n      });\n\n      if (this.playbackRecord) {\n        this.playbackAudioChunks.push(outputChannelData.slice(0));\n      }\n\n      return true;\n    }\n  }\n\n  // utility\n\n  determinePlaybackRate(availableSamples, targetSamples) {\n    let playbackRate = 1.0;\n    if (this.playbackRateMin < this.playbackRateMax) {\n      // adjust playback rate based on how far we are from the target (with affordance)\n      const samplesDelta = availableSamples - targetSamples;\n      if (Math.abs(samplesDelta) > this.playbackRateAffordance * targetSamples) {\n        if (samplesDelta <= 0) {\n          // slow down\n          playbackRate = 1.0 + Math.max(-0.975, samplesDelta / targetSamples);\n        } else {\n          // speed up\n          playbackRate = 1.0 / (1.0 - Math.min(0.975, samplesDelta / targetSamples));\n        }\n      }\n      \n      playbackRate = Math.min(this.playbackRateMax, Math.max(this.playbackRateMin, playbackRate));\n    }\n    return playbackRate;\n  }\n\n  resampleAudioData(float32Array, targetSamples) {\n    if (targetSamples === float32Array.length) {\n      return float32Array;\n    }\n\n    // Apply playback rate by resampling into a new buffer\n    const resampledBuffer = new Float32Array(targetSamples);\n    const playbackRate = float32Array.length / targetSamples;\n\n    for (let i = 0; i < targetSamples; ++i) {\n      const originalIndex = i * playbackRate;\n      const start = Math.floor(originalIndex);\n      const end = Math.ceil(originalIndex);\n\n      if (start === end || end >= float32Array.length) {\n        // If the start and end are the same or out of bounds, just use the start value\n        resampledBuffer[i] = float32Array[start];\n      } else {\n        // Linear interpolation between two samples\n        const ratio = originalIndex - start;\n        resampledBuffer[i] = float32Array[start] * (1 - ratio) + float32Array[end] * ratio;\n      }\n    }\n    \n    return resampledBuffer;\n  }\n\n  mergeAudioData(float32Arrays) {\n    let samples = 0;\n    for (let i = 0; i < float32Arrays.length; ++i) {\n      samples += float32Arrays[i].length;\n    }\n\n    const merged = new Float32Array(samples);\n    let offset = 0;\n    for (let i = 0; i < float32Arrays.length; ++i) {\n      const chunk = float32Arrays[i];\n      merged.set(chunk, offset);\n      offset += chunk.length;\n    }\n    return merged;\n  }\n\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n}\n\nregisterProcessor('stream_processor', StreamProcessor);\n"],{type:"application/javascript"}),uy=URL.createObjectURL(uv);class u_{async connect(e){this.audioContext=new AudioContext({sampleRate:this.sampleRate}),this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this._audioProcessor=e,"suspended"===this.audioContext.state&&await this.audioContext.resume();try{await this.audioContext.audioWorklet.addModule(this.scriptSrc)}catch(e){throw console.error(e),Error("Could not add audioWorklet module: ".concat(this.scriptSrc))}let t=this.audioContext.createAnalyser();return t.fftSize=8192,t.smoothingTimeConstant=.1,this.analyser=t,this.stream||this._start(),!0}_start(){let e=new AudioWorkletNode(this.audioContext,"stream_processor");return e.connect(this.gainNode),e.port.onmessage=t=>{let{event:n,data:r,underrun:i,timestamp_ms:s}=t.data;if("audio"===n)this._audioProcessor(r,i,s);else if("stop"===n)e.disconnect(),this.stream=null;else if("offset"===n){let{requestId:e,trackId:n,offset:r,audio:i}=t.data,s=r/this.sampleRate;this.trackSampleOffsets[e]={trackId:n,offset:r,currentTime:s,audio:i}}else if("log"===n)console.log(r);else if("error"===n&&this.workletErrorCount<3){var a;this.workletErrorCount++,null===(a=this.analyticsManager)||void 0===a||a.track(new p("OUTPUT_AUDIO_WORKLET_PROCESSOR_ERROR",r.message,r.stack))}},this.analyser.disconnect(),e.connect(this.analyser),this.stream=e,!0}configure(e){if(this.stream)this.stream.port.postMessage({event:"configure",config:e});else throw Error("Not connected, please call .connect() first")}setMute(e){this.gainNode&&(this.gainNode.gain.value=+!e)}add16BitPCM(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("string"!=typeof n)throw Error("trackId must be a string");if(!this.interruptedTrackIds[n]){if(this.stream||this._start(),e instanceof Int16Array)t=e;else if(e instanceof ArrayBuffer)t=new Int16Array(e);else throw Error("argument must be Int16Array or ArrayBuffer");return this.stream.port.postMessage({event:"write",buffer:t,trackId:n}),t}}getSampleRate(){return this.audioContext.sampleRate}async getTrackSampleOffset(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.stream)return null;let n=crypto.randomUUID();for(this.stream.port.postMessage({event:t?"interrupt":"offset",requestId:n});!e;)e=this.trackSampleOffsets[n],await new Promise(e=>setTimeout(()=>e(),1));let{trackId:r}=e;return t&&r&&(this.interruptedTrackIds[r]=!0),e}async interrupt(){let e=await this.getTrackSampleOffset(!0);return("closed"!==this.audioContext.state&&await this.audioContext.close(),e)?e.audio:null}constructor({sampleRate:e=24e3},t){this.analyticsManager=t,this.scriptSrc=uy,this.sampleRate=e,this.audioContext=null,this.gainNode=null,this.stream=null,this.analyser=null,this.trackSampleOffsets={},this.interruptedTrackIds={},this._audioProcessor=()=>{},this.workletErrorCount=0}}globalThis.WavStreamPlayer=u_;let ub=new Blob(["\nclass AudioProcessor extends AudioWorkletProcessor {\n\n  constructor() {\n    super();\n    this.port.onmessage = this.receive.bind(this);\n    this.initialize();\n  }\n\n  initialize() {\n    this.foundAudio = false;\n    this.recording = false;\n    this.chunks = [];\n  }\n\n  /**\n   * Concatenates sampled chunks into channels\n   * Format is chunk[Left[], Right[]]\n   */\n  readChannelData(chunks, channel = -1, maxChannels = 9) {\n    let channelLimit;\n    if (channel !== -1) {\n      if (chunks[0] && chunks[0].length - 1 < channel) {\n        throw new Error(\n          `Channel ${channel} out of range: max ${chunks[0].length}`\n        );\n      }\n      channelLimit = channel + 1;\n    } else {\n      channel = 0;\n      channelLimit = Math.min(chunks[0] ? chunks[0].length : 1, maxChannels);\n    }\n    const channels = [];\n    for (let n = channel; n < channelLimit; n++) {\n      const length = chunks.reduce((sum, chunk) => {\n        // We can't assume that each chunk has channel #n.\n        return sum + (chunk[n]?.length ?? 0);\n      }, 0);\n      const buffers = chunks.map((chunk) => chunk[n] ?? []);\n      const result = new Float32Array(length);\n      let offset = 0;\n      for (let i = 0; i < buffers.length; i++) {\n        result.set(buffers[i], offset);\n        offset += buffers[i].length;\n      }\n      channels[n] = result;\n    }\n    return channels;\n  }\n\n  /**\n   * Combines parallel audio data into correct format,\n   * channels[Left[], Right[]] to float32Array[LRLRLRLR...]\n   */\n  formatAudioData(channels) {\n    if (channels.length === 1) {\n      // Simple case is only one channel\n      const float32Array = channels[0].slice();\n      const meanValues = channels[0].slice();\n      return { float32Array, meanValues };\n    } else {\n      const float32Array = new Float32Array(\n        channels[0].length * channels.length\n      );\n      const meanValues = new Float32Array(channels[0].length);\n      for (let i = 0; i < channels[0].length; i++) {\n        const offset = i * channels.length;\n        let meanValue = 0;\n        for (let n = 0; n < channels.length; n++) {\n          float32Array[offset + n] = channels[n][i];\n          meanValue += channels[n][i];\n        }\n        meanValues[i] = meanValue / channels.length;\n      }\n      return { float32Array, meanValues };\n    }\n  }\n\n  /**\n   * Converts 32-bit float data to 16-bit integers\n   */\n  floatTo16BitPCM(float32Array) {\n    const buffer = new ArrayBuffer(float32Array.length * 2);\n    const view = new DataView(buffer);\n    let offset = 0;\n    for (let i = 0; i < float32Array.length; i++, offset += 2) {\n      let s = Math.max(-1, Math.min(1, float32Array[i]));\n      view.setInt16(offset, s < 0 ? s * 0x8000 : s * 0x7fff, true);\n    }\n    return buffer;\n  }\n\n  /**\n   * Retrieves the most recent amplitude values from the audio stream\n   * @param {number} channel\n   */\n  getValues(channel = -1) {\n    const channels = this.readChannelData(this.chunks, channel);\n    const { meanValues } = this.formatAudioData(channels);\n    return { meanValues, channels };\n  }\n\n  /**\n   * Exports chunks as an audio/wav file\n   */\n  export() {\n    const channels = this.readChannelData(this.chunks);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const audioData = this.floatTo16BitPCM(float32Array);\n    const monoData = this.floatTo16BitPCM(meanValues);\n    return {\n      audio: {\n        bitsPerSample: 16,\n        channels: channels,\n        data: audioData,\n        mono: monoData,\n      },\n    };\n  }\n\n  /** Handling messages from the caller code. */\n  receive(e) {\n    try {\n      this.doReceive(e);\n    } catch (error) {\n      this.port.postMessage({ \n        event: 'error', \n        data: {\n          message: error.message, \n          stack: error.stack\n        }\n      });\n    }\n  }\n\n  doReceive(e) {\n    const { event, id } = e.data;\n    let receiptData = {};\n    switch (event) {\n      case 'start':\n        this.recording = true;\n        break;\n      case 'stop':\n        this.recording = false;\n        break;\n      case 'clear':\n        this.initialize();\n        break;\n      case 'export':\n        receiptData = this.export();\n        break;\n      case 'read':\n        receiptData = this.getValues();\n        break;\n      default:\n        break;\n    }\n    // Always send back receipt\n    this.port.postMessage({ event: 'receipt', id, data: receiptData });\n  }\n\n  sendChunk(chunk) {\n    const timestamp_ms = Date.now();\n    const channels = this.readChannelData([chunk]);\n    const { float32Array, meanValues } = this.formatAudioData(channels);\n    const rawAudioData = this.floatTo16BitPCM(float32Array);\n    const monoAudioData = this.floatTo16BitPCM(meanValues);\n    this.port.postMessage({\n      event: 'chunk',\n      data: {\n        mono: monoAudioData,\n        raw: rawAudioData,\n      },\n      timestamp_ms,\n    });\n  }\n\n\n  /** The main entry point for an AudioProcessWorklet implementation. Called by the browser. */\n  process(inputList, outputList, parameters) {    \n    try {\n      return this.doProcess(inputList, outputList, parameters);\n    } catch (error) {\n      this.port.postMessage({ \n        event: 'error', \n        data: {\n          message: error.message, \n          stack: error.stack\n        }\n      });\n      // If we return false here, the postMessage above has no effect. \n      return true;\n    }\n  }\n\n\n  doProcess(inputList, outputList, parameters) {    \n    // Copy input to output (e.g. speakers)\n    // Note that this creates choppy sounds with Mac products\n    const sourceLimit = Math.min(inputList.length, outputList.length);\n    for (let inputNum = 0; inputNum < sourceLimit; inputNum++) {\n      const input = inputList[inputNum];\n      const output = outputList[inputNum];\n      const channelCount = Math.min(input.length, output.length);\n      for (let channelNum = 0; channelNum < channelCount; channelNum++) {\n        input[channelNum].forEach((sample, i) => {\n          output[channelNum][i] = sample;\n        });\n      }\n    }\n    const inputs = inputList[0];\n    // There's latency at the beginning of a stream before recording starts\n    // Make sure we actually receive audio data before we start storing chunks\n\n    this.foundAudio = true; // remove this line to enable latency detection\n    \n    let sliceIndex = 0;\n    if (!this.foundAudio) {\n      for (const channel of inputs) {\n        sliceIndex = 0; // reset for each channel\n        if (this.foundAudio) {\n          break;\n        }\n        if (channel) {\n          for (const value of channel) {\n            if (value !== 0) {\n              // find only one non-zero entry in any channel\n              this.foundAudio = true;\n              break;\n            } else {\n              sliceIndex++;\n            }\n          }\n        }\n      }\n    }\n    if (inputs && inputs[0] && this.foundAudio && this.recording) {\n      // We need to copy the TypedArray, because the `process`\n      // internals will reuse the same buffer to hold each input\n      const chunk = inputs.map((input) => input.slice(sliceIndex));\n      this.chunks.push(chunk);\n      this.sendChunk(chunk);\n    }\n    return true;\n  }\n}\n\nregisterProcessor('audio_processor', AudioProcessor);\n"],{type:"application/javascript"}),uw=URL.createObjectURL(ub);class uS{log(){return this.debug&&this.log(...arguments),!0}getSampleRate(){return this.audioContext.sampleRate}getStatus(){return this.processor?this.recording?"recording":"paused":"ended"}async _event(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!(n=n||this.processor))throw Error("Can not send events without recording first");let r={event:e,id:this._lastEventId++,data:t};n.port.postMessage(r);let i=new Date().valueOf();for(;!this.eventReceipts[r.id];){if(new Date().valueOf()-i>this.eventTimeout)throw Error('Timeout waiting for "'.concat(e,'" event'));await new Promise(e=>setTimeout(()=>e(!0),1))}let s=this.eventReceipts[r.id];return delete this.eventReceipts[r.id],s}listenForDeviceChange(e){if(null===e&&this._deviceChangeCallback)navigator.mediaDevices.removeEventListener("devicechange",this._deviceChangeCallback),this._deviceChangeCallback=null;else if(null!==e){let t=0,n=[],r=e=>e.map(e=>e.deviceId).sort().join(","),i=async()=>{let i=++t,s=await this.listDevices();i===t&&r(n)!==r(s)&&(n=s,e(s.slice()))};navigator.mediaDevices.addEventListener("devicechange",i),i(),this._deviceChangeCallback=i}return!0}async requestPermission(){let e=await navigator.permissions.query({name:"microphone"});if("denied"===e.state)window.alert("You must grant microphone access to use this feature.");else if("prompt"===e.state)try{(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(e=>e.stop())}catch(e){window.alert("You must grant microphone access to use this feature.")}return!0}async listDevices(){if(!navigator.mediaDevices||!("enumerateDevices"in navigator.mediaDevices))throw Error("Could not request user devices");await this.requestPermission();let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind),t=e.findIndex(e=>"default"===e.deviceId),n=[];if(-1!==t){let r=e.splice(t,1)[0],i=e.findIndex(e=>e.groupId===r.groupId);-1!==i&&(r=e.splice(i,1)[0]),r.default=!0,n.push(r)}return n.concat(e)}async begin(e){if(this.processor)throw Error("Already connected: please call .end() to start a new session");if(!navigator.mediaDevices||!("getUserMedia"in navigator.mediaDevices))throw Error("Could not request user media");let t={audio:{echoCancellation:!0}};if(e&&(t.audio.deviceId={exact:e}),this.stream=await navigator.mediaDevices.getUserMedia(t),"suspended"===this.audioContext.state)try{await this.audioContext.resume()}catch(e){throw Error("Error resuming AudioContext:",e)}console.log("track-settings",this.stream.getAudioTracks()[0].getSettings());let n=this.audioContext.createMediaStreamSource(this.stream);try{await this.audioContext.audioWorklet.addModule(this.scriptSrc)}catch(e){throw console.error(e),Error("Could not add audioWorklet module: ".concat(this.scriptSrc))}let r=new AudioWorkletNode(this.audioContext,"audio_processor");r.port.onmessage=e=>{let{event:t,id:n,data:r,timestamp_ms:i}=e.data;if("receipt"===t)this.eventReceipts[n]=r;else if("error"===t){if(this.workletErrorCount<3){var s;this.workletErrorCount++,null===(s=this.analyticsManager)||void 0===s||s.track(new p("INPUT_AUDIO_WORKLET_PROCESSOR_ERROR",r.message,r.stack))}}else"chunk"===t&&this._chunkProcessor(r,i)};let i=n.connect(r),s=this.audioContext.createAnalyser();return s.fftSize=8192,s.smoothingTimeConstant=.1,i.connect(s),this.outputToSpeakers&&(console.warn("Warning: Output to speakers may affect sound quality,\nespecially due to system audio feedback preventative measures.\nuse only for debugging"),s.connect(audioContext.destination)),this.source=n,this.node=i,this.analyser=s,this.processor=r,!0}async pause(){if(this.processor){if(!this.recording)throw Error("Already paused: please call .record() first")}else throw Error("Session ended: please call .begin() first");return this.log("Pausing ..."),await this._event("stop"),this.recording=!1,!0}async record(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};if(this.processor){if(this.recording)throw Error("Already recording: please call .pause() first");if("function"!=typeof e)throw Error("chunkProcessor must be a function")}else throw Error("Session ended: please call .begin() first");return this._chunkProcessor=e,this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)},this.log("Recording ..."),await this._event("start"),this.recording=!0,!0}async clear(){if(!this.processor)throw Error("Session ended: please call .begin() first");return await this._event("clear"),!0}async read(){if(!this.processor)throw Error("Session ended: please call .begin() first");return this.log("Reading ..."),await this._event("read")}async save(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.processor)throw Error("Session ended: please call .begin() first");if(!e&&this.recording)throw Error("Currently recording: please call .pause() first, or call .save(true) to force");this.log("Exporting ...");let t=await this._event("export");return new uu().pack(this.sampleRate,t.audio)}async end(){if(!this.processor)throw Error("Session ended: please call .begin() first");let e=this.processor;this.log("Stopping ..."),await this._event("stop"),this.recording=!1,this.stream.getTracks().forEach(e=>e.stop()),this.log("Exporting ...");let t=await this._event("export",{},e);return this.processor.disconnect(),this.source.disconnect(),this.node.disconnect(),this.analyser.disconnect(),this.stream=null,this.processor=null,this.source=null,this.node=null,"closed"!==this.audioContext.state&&await this.audioContext.close(),t.audio.mono}async quit(){return(this.listenForDeviceChange(null),this.processor)?await this.end():null}setMute(e){this.stream&&(this.stream.getAudioTracks()[0].enabled=!e)}constructor({sampleRate:e,outputToSpeakers:t=!1,debug:n=!1},r){this.analyticsManager=r,this.scriptSrc=uw,this.outputToSpeakers=t,this.debug=!!n,this._deviceChangeCallback=null,this._devices=[],this.stream=null,this.processor=null,this.source=null,this.node=null,this.recording=!1,this._lastEventId=0,this.eventReceipts={},this.eventTimeout=5e3,this._chunkProcessor=()=>{},this._chunkProcessorBuffer={raw:new ArrayBuffer(0),mono:new ArrayBuffer(0)};let i=l9.getParser(window.navigator.userAgent).isBrowser("firefox");this.audioContext=i?new AudioContext:new AudioContext({sampleRate:e}),this.workletErrorCount=0}}globalThis.WavRecorder=uS;class uk{async init(){this.wavRecorder=new uS({sampleRate:16e3},this.analyticsManager);try{await this.wavRecorder.begin()}catch(t){var e;if(t instanceof DOMException&&"NotAllowedError"===t.name)throw this.logManager.error("Microphone access was denied by the user."),new j("Microphone access was denied by the user.");if(t instanceof DOMException&&"NotFoundError"===t.name)throw this.logManager.error("Microphone not available"),new j("Microphone not available");throw this.logManager.error("An error occurred during audio initialization:",t),new Q("Unknown error during audio initialization: ".concat(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:"No message"))}}async start(e){if(null==this.wavRecorder)throw this.logManager.error("Audio input is not initialized"),Error("Audio input is not initialized");this.logManager.info("Recording audio @ sample rate:",this.wavRecorder.getSampleRate());let t=(await navigator.mediaDevices.enumerateDevices()).find(e=>"audioinput"===e.kind);t&&this.logManager.info("Audio input device: ".concat(t.label)),await this.wavRecorder.record((t,n)=>{let{mono:r}=t;e(r,n)});let n=this.wavRecorder.analyser;null!=n?(n.fftSize=256,n.minDecibels=-100,n.maxDecibels=-30,n.smoothingTimeConstant=.8):this.logManager.warn("Analyser not found")}getFrequencies(){var e,t;if(null==this.wavRecorder)return new Uint8Array(128);let n=null===(e=this.wavRecorder)||void 0===e?void 0:e.analyser,r=new Uint8Array(null!==(t=null==n?void 0:n.frequencyBinCount)&&void 0!==t?t:128);return null==n||n.getByteFrequencyData(r),r}getSampleRate(){var e,t;return null!==(t=null===(e=this.wavRecorder)||void 0===e?void 0:e.getSampleRate())&&void 0!==t?t:16e3}async stop(){var e;let t=await (null===(e=this.wavRecorder)||void 0===e?void 0:e.quit());return t?new Int16Array(t):new Int16Array}setMute(e){var t;null===(t=this.wavRecorder)||void 0===t||t.setMute(e)}constructor(e,t){this.logManager=e,this.analyticsManager=t}}let uE={enableRecording:!1,ringtone:null,ringtoneMaxDurationMs:null,connectedChime:null,disconnectedChime:null,inputReadyChime:null,inputWarmupMs:0};class uT{async init(e){this.onAudioDataSent=e,this.wavStreamPlayer=new u_({},this.analyticsManager),await this.wavStreamPlayer.connect(this.onAudioDataSent)}async connect(e){var t,n;(null===(t=this.wavStreamPlayer)||void 0===t?void 0:t.getSampleRate())!==e&&(await (null===(n=this.wavStreamPlayer)||void 0===n?void 0:n.interrupt()),this.wavStreamPlayer=new u_({sampleRate:e},this.analyticsManager),await this.wavStreamPlayer.connect(this.onAudioDataSent));let r=this.wavStreamPlayer.analyser;null!=r?(r.minDecibels=-100,r.maxDecibels=-30,r.fftSize=256,r.smoothingTimeConstant=.8):this.logManager.warn("WebAudioOutput: Analyser not found"),this.isConnected=!0,this.logManager.info("Outputting audio @ sample rate:",this.wavStreamPlayer.getSampleRate());let i=(await navigator.mediaDevices.enumerateDevices()).find(e=>"audiooutput"===e.kind);i&&this.logManager.info("Audio output device: ".concat(i.label))}async disconnect(){var e;let t=await (null===(e=this.wavStreamPlayer)||void 0===e?void 0:e.interrupt());return this.isConnected=!1,t?new Int16Array(t):new Int16Array}configure(e){var t;if(!this.isConnected){console.warn("Skipping audio configuration because not connected");return}null===(t=this.wavStreamPlayer)||void 0===t||t.configure(e)}play(e){var t;if(!this.isConnected){this.logManager.warn("Skipping audio playback because not connected");return}null===(t=this.wavStreamPlayer)||void 0===t||t.add16BitPCM(new Int16Array(e))}getFrequencies(){if(null==this.wavStreamPlayer||null==this.wavStreamPlayer.analyser||!this.isConnected)return new Uint8Array(128);let e=this.wavStreamPlayer.analyser,t=new Uint8Array(e.frequencyBinCount);return e.getByteFrequencyData(t),t}getPlaybackTime(e){return 0}getSampleRate(){var e,t;return null!==(t=null===(e=this.wavStreamPlayer)||void 0===e?void 0:e.getSampleRate())&&void 0!==t?t:24e3}setMute(e){var t;null===(t=this.wavStreamPlayer)||void 0===t||t.setMute(e)}constructor(e,t){this.isConnected=!1,this.onAudioDataSent=()=>{},this.logManager=e,this.analyticsManager=t}}class uI{init(e,t){this.userSampleRate=e,this.agentSampleRate=t,this.startTimestamp=Date.now()}addUserFrequencies(e){switch(this.vadFromFrequencies(e,this.userSampleRate,this.adaptiveUserRange)){case"voice":this.state="user_talking",this.lastUserSpeechTimestamp=Date.now();break;case"silence":"user_talking"==this.state&&(this.state="user_paused")}}addAgentFrequencies(e){switch(this.vadFromFrequencies(e,this.agentSampleRate,this.adaptiveAgentRange)){case"voice":switch(null==this.firstWordLatencyMs&&null!=this.startTimestamp&&(this.firstWordLatencyMs=Date.now()-this.startTimestamp),this.state){case"user_paused":if(null!=this.lastUserSpeechTimestamp){let e=Date.now()-this.lastUserSpeechTimestamp;e>100&&this.agentLatenciesMs.push(e)}this.state="agent_talking";break;case"agent_paused":this.state="agent_talking"}break;case"silence":"agent_talking"===this.state&&(this.state="agent_paused")}}async computeReport(e,t){let n=[];if(this.agentLatenciesMs.length>0){let t=this.agentLatenciesMs.reduce((e,t)=>e+t,0)/this.agentLatenciesMs.length;n.push(new D(P.AgentResponseLatency,t,this.agentLatenciesMs.length,this.getAgentResponseLatencyRating(t),e,!1))}return this.firstWordLatencyReported||null==this.firstWordLatencyMs||(n.push(new D(P.FirstWordLatency,this.firstWordLatencyMs,1,this.getFirstWordLatencyRating(this.firstWordLatencyMs),e,!1)),this.firstWordLatencyReported=!0),n}resetTimeSpan(){this.agentLatenciesMs=[]}getAgentResponseLatencyRating(e){return e<300?5:e<500?4:e<1e3?3:e<3e3?2:1}getFirstWordLatencyRating(e){return e<2e3?5:e<3e3?4:e<4e3?3:e<6e3?2:1}vadFromFrequencies(e,t,n){let r=t/256,i=Math.floor(600/r),s=Math.floor(2400/r),a=e.slice(i,s),o=0;for(let e=0;e<a.length;e++)o+=a[e],a[e]<n.min&&(n.min=a[e]),a[e]>n.max&&(n.max=a[e]);let l=Math.max(.01,n.max-n.min);return(o/a.length-n.min)/l*100<50?"silence":"voice"}constructor(){this.state="user_paused",this.agentLatenciesMs=[],this.userSampleRate=0,this.agentSampleRate=0,this.firstWordLatencyReported=!1,this.adaptiveUserRange={min:255,max:0},this.adaptiveAgentRange={min:255,max:0}}}var uC=function(e){return e.UserTalking="user_talking",e.UserPaused="user_paused",e.AgentTalking="agent_talking",e.AgentPaused="agent_paused",e}(uC||{}),ux=function(e){return e.SILENCE="silence",e.VOICE="voice",e}(ux||{});class uA{reportBufferUnderrun(){this.bufferUnderruns++}async computeReport(e,t){return[new D(P.BufferUnderruns,this.bufferUnderruns,this.bufferUnderruns,this.getRating(this.bufferUnderruns,t),e,t<6e4)]}resetTimeSpan(){this.bufferUnderruns=0}getRating(e,t){let n=t/6e4;return 0==e?5:e<2*n?4:e<6*n?3:e<11*n?2:1}constructor(){this.bufferUnderruns=0}}class uM{async stop(){null!=this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),await this.runMonitorsForTimeSpan(Date.now()-this.lastReportTimestamp)}async runMonitorsForTimeSpan(e){for(let t of this.allMonitors){for(let n of(await t.computeReport(Date.now()-this.startTimestamp,e)))this.analyticsManager.track(n,!0);t.resetTimeSpan()}this.lastReportTimestamp=Date.now()}getBufferUnderrunsMonitor(){return this.bufferUnderrunsMonitor}getAgentResponseLatencyMonitor(){return this.agentResponseLatencyMonitor}constructor(e){this.intervalId=null,this.lastReportTimestamp=Date.now(),this.startTimestamp=Date.now(),this.agentResponseLatencyMonitor=new uI,this.bufferUnderrunsMonitor=new uA,this.allMonitors=[this.agentResponseLatencyMonitor,this.bufferUnderrunsMonitor],this.analyticsManager=e,this.intervalId=setInterval(()=>{this.runMonitorsForTimeSpan(6e4)},6e4)}}let uO=new Uint8Array(128).fill(0);class uR{get input(){return this._input}get output(){return this._output}async init(){await this._input.init(),await this._output.init(this.receiveAudioData.bind(this)),this.qualityMonitorManager=new uM(this.analyticsManager),this.qualityMonitorManager.getAgentResponseLatencyMonitor().init(this._input.getSampleRate(),this._output.getSampleRate())}async start(e,t,n,r,i,s){if(this.isStarted)throw new ei("Already started");this.isStarted=!0,this.audioBuffer=new ArrayBuffer(0),this.audioSourced=0,this.audioSourcedTimespans=[],this.audioSent=0,this.audioSentTimespans=[],this.audioReceived=0,this.audioReceivedTimespans=[],this.audioPlayed=0,this.audioPlayedTimespans=[],this.startTimeMs=Date.now(),this.callButtonPressedTimeMs=n,this.sessionStartedTimeMs=r,this.callConnectedTimeMs=i,this.audioReceivedTimeMs=null,this.lastLoggedRttTimeMs=null,this.hasPlayedFirstAudio=!1,this.hasRecordedFirstAudio=!1,this.timespanEvents=[],this._input.start(this.makeSendAudioDataHandler(e,s)),this._output.connect(t).then(()=>{this._output.configure({playbackRecord:!0})}),this.recordedInputTimeout=setTimeout(()=>{!this.hasRecordedFirstAudio&&(this.logManager.error("Failed to record audio"),this.analyticsManager.track(new p("AUDIO_INPUT_NOT_RECORDING","Audio input did not start recording within the expected time."),!0),this.onError&&this.onError(new et("Audio input did not start recording within the expected time.")))},this.recordInputTimeoutMs),this.playOutputTimeout=setTimeout(()=>{!this.hasPlayedFirstAudio&&(this.logManager.error("Failed to play audio"),this.analyticsManager.track(new p("AUDIO_OUTPUT_NOT_PLAYING","Audio output did not start playing within the expected time."),!0),this.onError&&this.onError(new en("Audio output did not start playing within the expected time.")))},this.playOutputTimeoutMs)}silenceFirst(e,t){let n=this._input.getSampleRate(),r=Math.min(Math.floor(n*t/1e3),e.length);this.logManager.info("Silencing the first ".concat(r," samples (").concat(t,"ms) in the recorded audio with sample rate ").concat(n,", total sample count ").concat(e.length,".")),e.fill(0,0,r)}async stop(){var e,t,n,r;if(!this.isStarted)throw null===(n=this._input)||void 0===n||n.stop(),null===(r=this._output)||void 0===r||r.disconnect(),new ei("Not started");this.logManager.info("Stopping audio session"),this.isStarted=!1,null===(e=this.qualityMonitorManager)||void 0===e||e.stop(),this.timespanEventsTimeout&&clearTimeout(this.timespanEventsTimeout),this.recordedInputTimeout&&clearTimeout(this.recordedInputTimeout),this.playOutputTimeout&&clearTimeout(this.playOutputTimeout);let i=await this._input.stop();this.silenceFirst(i,this.audioOptions.inputWarmupMs);let a=await this._output.disconnect();this.logManager.info("Audio inputs and outputs stopped");let o=this.startTimeMs;if(null==o)throw new ei("Expected startTimeMs to be set");null===(t=this.onRawRecordingComplete)||void 0===t||t.call(this,{input:i,inputSampleRate:this._input.getSampleRate(),output:a,outputSampleRate:this._output.getSampleRate(),startTimeMs:o});let l=0;if(this.bufferUnderrunInstances.length>0){let e=new m(this.bufferUnderrunInstances);l=e.total_empty_time_ms,this.analyticsManager.track(e,!1),this.bufferUnderrunInstances=[]}let u=Date.now()-o;return this.analyticsManager.track(new s(u,l),!0),this.responseLatencyInstances.length>0&&(this.analyticsManager.track(new _(this.responseLatencyInstances),!1),this.responseLatencyInstances=[]),new Promise((e,t)=>{if(!this.audioOptions.enableRecording){e(null);return}try{let t=Math.max(this._input.getSampleRate(),this._output.getSampleRate()),n=t===this._input.getSampleRate()?i:this.resampleAudio(i,this._input.getSampleRate(),t),r=t===this._output.getSampleRate()?a:this.resampleAudio(a,this._output.getSampleRate(),t),s=Math.min(n.length,r.length),o=new Int16Array(2*s);for(let e=0;e<s;e++)o[2*e]=n[e],o[2*e+1]=r[e];let l=new ua.A;l.fromScratch(2,t,"16",o),e(l.toBuffer())}catch(e){t(e)}})}setMuteInput(e){this.muteInput=e,this._input.setMute(e)}getMuteInput(){return this.muteInput}setMuteOutput(e){this.muteOutput=e,this.output.setMute(e)}getMuteOutput(){return this.muteOutput}processAudioData(e,t){var n;this._output.play(e),null===(n=this.qualityMonitorManager)||void 0===n||n.getAgentResponseLatencyMonitor().addAgentFrequencies(this._output.getFrequencies());let r=this.getNumAudioSamplesInArrayBuffer(e);this.audioReceivedTimespans.push({startSample:this.audioReceived,numSamples:r,timestampMs:Date.now()-this.startTimeMs}),this.audioReceived+=r,null===this.audioReceivedTimeMs&&(this.audioReceivedTimeMs=Date.now(),console.log("Received first audio at",this.audioReceivedTimeMs))}processTimespanEvent(e){this.timespanEvents.push(e),this.scheduleTimespanEventProcessing()}getFrequencies(){return{input:this.muteInput?uO:this._input.getFrequencies(),output:this.muteOutput?uO:this._output.getFrequencies()}}processTimespanEvents(){let e=Date.now()-this.startTimeMs,t=[];for(let n=0;n<this.timespanEvents.length;++n){let r=this.timespanEvents[n];if("user"!==r.start.channel||"agent"!==r.end.channel){this.logManager.error("Invalid timespan; must be user->agent"),t.push(n);continue}let i=r.start.timestamp_ms*this._input.getSampleRate()/1e3,s=r.end.timestamp_ms*this._output.getSampleRate()/1e3,a=uo(i,this.audioSourcedTimespans),o=uo(i,this.audioSentTimespans),l=uo(s,this.audioReceivedTimespans),u=uo(s,this.audioPlayedTimespans);if(null==a||null==o||null==l||null==u){r.start.timestamp_ms<e-1e4&&(this.logManager.error("Failed to ever resolve timespan for ".concat(r.name)),t.push(n));continue}let c=u-a,d=r.end.timestamp_ms-r.start.timestamp_ms,h=l-o,p=c-h,f=h-d,g=u-l,m="";m+="Timespan [".concat(r.name,"]:\n"),m+="  User(sample): ".concat(i,"\n"),m+="  User(ms): ".concat(r.start.timestamp_ms,"\n"),m+="  Source: ".concat(a,"\n"),m+="  Sent: ".concat(o,"\n"),m+="  Agent(sample): ".concat(s,"\n"),m+="  Agent(ms): ".concat(r.end.timestamp_ms,"\n"),m+="  Received: ".concat(l,"\n"),m+="  Played: ".concat(u,"\n"),m+="\n",m+="  End-to-end duration: ".concat(c,"\n"),m+="  Model duration: ".concat(d,"\n"),m+="  Server duration: ".concat(h,"\n"),m+="\n",m+="  Client send overhead: ".concat(o-a,"\n"),m+="  Client playback overhead: ".concat(g,"\n"),m+="  Client overall overhead: ".concat(p,"\n"),m+="  Server+Network overhead: ".concat(f,"\n"),m+="  Overall overhead: ".concat(c-d),this.logManager.info(m),g>=0&&this.responseLatencyInstances.push(new y(r.start.timestamp_ms,a,o,r.end.timestamp_ms,l,u,c,d,h,o-a,g,p,f,c-d)),t.push(n)}for(let e=t.length-1;e>=0;--e)this.timespanEvents.splice(t[e],1);let n=e-1e4;ul(n,this.audioSourcedTimespans),ul(n,this.audioSentTimespans),ul(n,this.audioReceivedTimespans),ul(n,this.audioPlayedTimespans),this.isStarted&&this.timespanEvents.length>0&&this.scheduleTimespanEventProcessing()}audioBufferSizeSamples(){return this.audioBufferSizeMs*this._input.getSampleRate()/1e3}makeSendAudioDataHandler(e,t){let n=!1,r=null;return(i,s)=>{var a;null===(a=this.qualityMonitorManager)||void 0===a||a.getAgentResponseLatencyMonitor().addUserFrequencies(this._input.getFrequencies()),null==r&&(r=s),s-r<this.audioOptions.inputWarmupMs?i=new Uint8Array(i.byteLength).buffer:n||(n=!0,null==t||t());let o=new Uint8Array(this.audioBuffer.byteLength+i.byteLength);o.set(new Uint8Array(this.audioBuffer),0),o.set(new Uint8Array(i),this.audioBuffer.byteLength);let l=this.getNumAudioSamplesInArrayBuffer(o.buffer);l>=this.audioBufferSizeSamples()?(s=Date.now(),null==e||e(o.buffer),this.audioBuffer=new ArrayBuffer(0),this.audioSentTimespans.push({startSample:this.audioSent,numSamples:l,timestampMs:Date.now()-this.startTimeMs}),this.audioSent+=l):this.audioBuffer=o.buffer;let u=this.getNumAudioSamplesInArrayBuffer(i);this.audioSourcedTimespans.push({startSample:this.audioSourced,numSamples:u,timestampMs:s-this.startTimeMs}),this.audioSourced+=u,this.hasRecordedFirstAudio||(this.hasRecordedFirstAudio=!0)}}receiveAudioData(e,t,n){if(e>0){if(this.audioPlayedTimespans.push({startSample:this.audioPlayed,numSamples:e,timestampMs:n-this.startTimeMs}),this.audioPlayed+=e,!this.hasPlayedFirstAudio&&(this.hasPlayedFirstAudio=!0,this.playOutputTimeout&&clearTimeout(this.playOutputTimeout),null!=this.callButtonPressedTimeMs&&null!=this.sessionStartedTimeMs&&null!=this.callConnectedTimeMs&&null!=this.audioReceivedTimeMs)){let e=n-this.callButtonPressedTimeMs;this.analyticsManager.track(new v(this.sessionStartedTimeMs-this.callButtonPressedTimeMs,this.callConnectedTimeMs-this.callButtonPressedTimeMs,this.audioReceivedTimeMs-this.callButtonPressedTimeMs,e),!0)}if(0!==this.lastUnderrunStartTimestamp){let e=n-this.lastUnderrunStartTimestamp;if(e>0){var r;let t=n-this.callConnectedTimeMs;this.bufferUnderrunInstances.push(new g(t,e,this.currRtt)),null===(r=this.qualityMonitorManager)||void 0===r||r.getBufferUnderrunsMonitor().reportBufferUnderrun(),this.logManager.info("Client buffer underrun of ".concat(e,"ms | current RTT: ").concat(this.currRtt,"ms | buffer: ").concat(this.targetBufferMs,"ms"))}this.lastUnderrunStartTimestamp=0}t>0&&(this.lastUnderrunStartTimestamp=n)}else t>0&&0===this.lastUnderrunStartTimestamp&&(this.lastUnderrunStartTimestamp=n)}setNetworkLatency(e){if(this.audioNetworkRtts.push(e),this.audioNetworkRtts.length>1){var t;let e=this.audioNetworkRtts.reduce((e,t)=>e+t,0);this.currRtt=e/this.audioNetworkRtts.length,this.audioNetworkRtts.length>this.audioConfig.rtt_history_count&&this.audioNetworkRtts.shift(),this.isStarted&&this.updatePlaybackLatency(),this.currRtt>500&&this.logManager.warn("High network latency: ".concat(this.currRtt,"ms")),null===(t=this.onConnectionQualityChange)||void 0===t||t.call(this,this.currRtt)}}scheduleTimespanEventProcessing(){null===this.timespanEventsTimeout&&(this.timespanEventsTimeout=setTimeout(()=>{this.timespanEventsTimeout=null,this.processTimespanEvents()},1e3))}updatePlaybackLatency(){let e=this.audioConfig.target_buffer_ms,t=Math.max(0,this.currRtt-e),n=this.audioConfig.buffer_padding_multiplier*e,r=Math.max(this.audioConfig.min_buffer_ms,Math.min(this.audioConfig.max_buffer_ms,t+n)),i=Math.ceil(Math.ceil(.001*r*this._output.getSampleRate())/128);this._output.configure({playbackMinBuffers:i}),this.targetBufferMs=r,(null===this.lastLoggedRttTimeMs||Date.now()-this.lastLoggedRttTimeMs>this.audioConfig.rtt_logging_interval_ms)&&(this.logManager.debug("Network round-trip: ".concat(this.currRtt,"ms | target buffer size: ").concat(r,"ms")),this.lastLoggedRttTimeMs=Date.now())}getNumAudioSamplesInArrayBuffer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e.byteLength/(.125*t*n)}resampleAudio(e,t,n){let r=new ua.A;return r.fromScratch(1,t,"16",e),r.toSampleRate(n),new Int16Array(r.toBuffer().slice(44).buffer)}getCallDurationMs(){if(null!=this.startTimeMs)return Date.now()-this.startTimeMs}constructor(e,t,n,r={},i,s,a,o){this.isStarted=!1,this.muteInput=!1,this.muteOutput=!1,this.audioBuffer=new ArrayBuffer(0),this.audioBufferSizeMs=40,this.audioNetworkRtts=[],this.currRtt=0,this.audioSourced=0,this.audioSourcedTimespans=[],this.audioSent=0,this.audioSentTimespans=[],this.audioReceived=0,this.audioReceivedTimespans=[],this.audioPlayed=0,this.audioPlayedTimespans=[],this.startTimeMs=null,this.callButtonPressedTimeMs=null,this.sessionStartedTimeMs=null,this.callConnectedTimeMs=null,this.audioReceivedTimeMs=null,this.lastLoggedRttTimeMs=null,this.hasPlayedFirstAudio=!1,this.hasRecordedFirstAudio=!1,this.timespanEvents=[],this.timespanEventsTimeout=null,this.recordedInputTimeout=null,this.playOutputTimeout=null,this.responseLatencyInstances=[],this.targetBufferMs=-1,this.lastUnderrunStartTimestamp=0,this.bufferUnderrunInstances=[],this.qualityMonitorManager=void 0,this._input=new uk(t,e),this._output=new uT(t,e),this.analyticsManager=e,this.logManager=t,this.audioConfig=n,this.audioOptions={...uE,...r},this.recordInputTimeoutMs=i.record_input_timeout_ms,this.playOutputTimeoutMs=i.play_output_timeout_ms,this.onError=s,this.onConnectionQualityChange=a,this.onRawRecordingComplete=o}}var uP=n(4347),uD=n(7627),uN=n(9294),uL=n(4864),uF=n(8453),uU=n(7982),uj=n(4912),uB=n(3703),uz=n(144),u$=n(7090),uV=n(5659),uW=n(957);function uH(e,t,n){let r=n.getHandler(),i=Array.isArray(r)?r:[r];return uG[e]>=uG[n.getLevel()]&&i.includes(t)}let uq={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},uG={[uq.ok]:0,[uq.debug]:1,[uq.info]:2,[uq.notice]:4,[uq.warn]:5,[uq.error]:6,[uq.critical]:7,[uq.alert]:8,[uq.emerg]:9};function uK(e,{includeMessage:t=!1}={}){return{stack:e.stack,kind:e.type,message:t?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}let uZ={console:"console",http:"http"},uJ=Object.keys(uq);class uX{constructor(e,t,n,r=uZ.http,i=uq.debug,s={}){this.handleLogStrategy=e,this.handlerType=r,this.level=i,this.contextManager=(0,uD.D)(t),this.contextManager.setContext(s),n&&this.contextManager.setContextProperty("logger",{name:n})}logImplementation(e,t,n=uq.info,r,i){let s;let a=(0,uF.a)(t);if(null!=r){let e=(0,uz.As)({stackTrace:(0,uz.bJ)(r)?(0,u$.T)(r):void 0,originalError:r,nonErrorPrefix:"Provided",source:uV.g.LOGGER,handling:"handled",startClocks:(0,lq.M8)()});s=(0,uU.kg)({error:uK(e,{includeMessage:!0})},a)}else s=a;this.handleLogStrategy({message:(0,uF.a)(e),context:s,status:n},this,i)}log(e,t,n=uq.info,r){let i;uH(n,uZ.http,this)&&(i=(0,uW.uC)()),this.logImplementation(e,t,n,r,i)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,t){this.contextManager.setContextProperty(e,t)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}}function uY(e){return function(t,n,r){let i;uH(e,uZ.http,this)&&(i=(0,uW.uC)()),this.logImplementation(t,n,e,r,i)}}(function(e,t,n,r){var i,s=arguments.length,a=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(a=(s<3?i(a):s>3?i(t,n,a):i(t,n))||a);s>3&&a&&Object.defineProperty(t,n,a)})([l3.Ed],uX.prototype,"logImplementation",null),uX.prototype.ok=uY(uq.ok),uX.prototype.debug=uY(uq.debug),uX.prototype.info=uY(uq.info),uX.prototype.notice=uY(uq.notice),uX.prototype.warn=uY(uq.warn),uX.prototype.error=uY(uq.error),uX.prototype.critical=uY(uq.critical),uX.prototype.alert=uY(uq.alert),uX.prototype.emerg=uY(uq.emerg);var uQ=n(3091),u0=n(4185),u1=n(2510),u2=n(3804),u3=n(8410),u5=n(8403),u6=n(8976);let u4=32*lW._m;function u8(e,t,n){if(void 0===e)return[];if(!("all"===e||Array.isArray(e)&&e.every(e=>t.includes(e)))){lK.Vy.error(`${n} should be "all" or an array with allowed values "${t.join('", "')}"`);return}return"all"===e?t:(0,u6.R)(e)}let u7="logs";var u9=n(6168),ce=n(9986),ct=n(1191),cn=n(565),cr=n(6924);function ci(e){return(0,cr.ic)(e.sessionSampleRate)?"1":"0"}var cs=n(5294),ca=n(3506);let co=!1;function cl(e){let t=window;if((0,ce.ao)()){let e=n(t.DD_RUM_SYNTHETICS);return e||co||(co=!0,(0,lV.A2)("Logs sent before RUM is injected by the synthetics worker",{testId:(0,ce.aj)(),resultId:(0,ce.X6)()})),e}return n(t.DD_RUM);function n(t){if(t&&t.getInternalContext)return t.getInternalContext(e)}}var cu=n(3865);let cc={[lK.bP.log]:uq.info,[lK.bP.debug]:uq.debug,[lK.bP.info]:uq.info,[lK.bP.warn]:uq.warn,[lK.bP.error]:uq.error};var cd=n(1604),ch=n(5067),cp=n(4786),cf=n(5715);function cg(e,t){return e.length>t.requestErrorResponseLengthLimit?`${e.substring(0,t.requestErrorResponseLengthLimit)}...`:e}var cm=n(8615);let cv=n(6990).D,cy={[uq.ok]:lK.bP.debug,[uq.debug]:lK.bP.debug,[uq.info]:lK.bP.info,[uq.notice]:lK.bP.info,[uq.warn]:lK.bP.warn,[uq.error]:lK.bP.error,[uq.critical]:lK.bP.error,[uq.alert]:lK.bP.error,[uq.emerg]:lK.bP.error};var c_=n(6699),cb=n(1920);let cw=function(e){let t=(0,uP.qR)(),n=(0,uD.D)(t.getOrCreateTracker(2)),r=(0,uD.D)(t.getOrCreateTracker(1)),i=(0,uN.D)();function s(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}let a=function(e,t,n){let r,i;let s=(0,uQ.O)(),a=t.observable.subscribe(o);function o(){if(!i||!r||!t.isGranted())return;a.unsubscribe();let e=n(r,i);s.drain(e)}return{init(e){if(!e){lK.Vy.error("Missing configuration");return}if((0,u0.Aq)(e.enableExperimentalFeatures),(0,lj.d0)()&&(e={...e,clientToken:"empty"}),r=e,i){(0,uB.$)("DD_LOGS",e);return}let n=function(e){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&lK.Vy.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let t=(0,u2.Sz)(e),n=u8(e.forwardConsoleLogs,(0,u3.KQ)(lK.bP),"Forward Console Logs"),r=u8(e.forwardReports,(0,u3.KQ)(u5.V),"Forward Reports");if(t&&n&&r)return e.forwardErrorsToLogs&&!n.includes(lK.bP.error)&&n.push(lK.bP.error),{forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:u4,...t}}(e);n&&(i=n,(0,u1.i)().subscribe(lB.l),t.tryToInit(n.trackingConsent),o())},get initConfiguration(){return r},getInternalContext:lB.l,handleLog(t,n,r,i=e(),a=(0,lq.nx)()){s.add(e=>e.handleLog(t,n,r,i,a))}}}(s,i,(t,o)=>{t.storeContextsAcrossPages&&((0,uL.Ck)(o,n,u7,2),(0,uL.Ck)(o,r,u7,1));let l=e(t,o,s,i);return a={init:e=>{(0,uB.$)("DD_LOGS",e)},initConfiguration:t,...l},l}),o={},l=new uX((...e)=>a.handleLog(...e),t.createDetachedTracker());return(0,lL.m)({logger:l,init:(0,l3.dm)(e=>a.init(e)),setTrackingConsent:(0,l3.dm)(e=>{i.update(e),(0,lV.Q6)({feature:"set-tracking-consent",tracking_consent:e})}),getGlobalContext:(0,l3.dm)(()=>n.getContext()),setGlobalContext:(0,l3.dm)(e=>n.setContext(e)),setGlobalContextProperty:(0,l3.dm)((e,t)=>n.setContextProperty(e,t)),removeGlobalContextProperty:(0,l3.dm)(e=>n.removeContextProperty(e)),clearGlobalContext:(0,l3.dm)(()=>n.clearContext()),createLogger:(0,l3.dm)((e,n={})=>(o[e]=new uX((...e)=>a.handleLog(...e),t.createDetachedTracker(),(0,uF.a)(e),n.handler,n.level,(0,uF.a)(n.context)),o[e])),getLogger:(0,l3.dm)(e=>o[e]),getInitConfiguration:(0,l3.dm)(()=>(0,uU.Go)(a.initConfiguration)),getInternalContext:(0,l3.dm)(e=>a.getInternalContext(e)),setUser:(0,l3.dm)(e=>{(0,uj.Og)(e)&&r.setContext((0,uj.x8)(e))}),getUser:(0,l3.dm)(()=>r.getContext()),setUserProperty:(0,l3.dm)((e,t)=>{let n=(0,uj.x8)({[e]:t})[e];r.setContextProperty(e,n)}),removeUserProperty:(0,l3.dm)(e=>r.removeContextProperty(e)),clearUser:(0,l3.dm)(()=>r.clearContext())})}(function(e,t,n,r){let i=new cv,s=[];i.subscribe(1,e=>(0,u9.b)("logs",e));let a=e=>{i.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:uV.g.AGENT,status:uq.error}}),(0,lV.A2)("Error reported to customer",{"error.message":e.message})},o=(0,l1.hL)(t),l=!t.sessionStoreStrategyType||(0,lj.d0)()||(0,ce.ao)()?function(e){let t="1"===ci(e)?{}:void 0;return{findTrackedSession:()=>t,expireObservable:new cn.c}}(t):function(e,t){let n=(0,ct.ox)(e,"logs",t=>(function(e,t){var n;let r="0"===(n=t)||"1"===n?t:ci(e);return{trackingType:r,isTracked:"1"===r}})(e,t),t);return{findTrackedSession:(e,t={returnInactive:!1})=>{let r=n.findSession(e,t);return r&&"1"===r.trackingType?{id:r.id,anonymousId:r.anonymousId}:void 0},expireObservable:n.expireObservable}}(t,r),{stop:u}=function(e,t,n,r,i){let s=(0,lV.a5)("browser-logs-sdk",t);s.setContextProvider(()=>{var e,t,n,r,s,a;return{application:{id:null===(e=cl())||void 0===e?void 0:e.application_id},session:{id:null===(t=i.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(r=null===(n=cl())||void 0===n?void 0:n.view)||void 0===r?void 0:r.id},action:{id:null===(a=null===(s=cl())||void 0===s?void 0:s.user_action)||void 0===a?void 0:a.id}}});let a=[];if((0,lj.d0)()){let e=(0,lj.Y9)(),t=s.observable.subscribe(t=>e.send("internal_telemetry",t));a.push(()=>t.unsubscribe())}else{let e=(0,c_.Z)(t,{endpoint:t.rumEndpointBuilder,encoder:(0,cb.N)()},t.replica&&{endpoint:t.replica.rumEndpointBuilder,encoder:(0,cb.N)()},n,r,i.expireObservable);a.push(()=>e.stop());let o=s.observable.subscribe(n=>e.add(n,(0,lV.Wb)(t)));a.push(()=>o.unsubscribe())}return(0,lV.JK)(),(0,lV.Rr)(function(e){let t=(0,u2.hO)(e);return{forward_errors_to_logs:e.forwardErrorsToLogs,forward_console_logs:e.forwardConsoleLogs,forward_reports:e.forwardReports,use_pci_intake:e.usePciIntake,...t}}(e)),{telemetry:s,stop:()=>{a.forEach(e=>e())}}}(e,t,a,o,l);s.push(()=>u()),function(e,t){if(!e.forwardErrorsToLogs)return lB.l;function n(n,r){var i,s,a,o,l;function u(e){let i={isAborted:r.isAborted,handlingStack:r.handlingStack};t.notify(0,{rawLogsEvent:{message:`${"xhr"===n?"XHR":"Fetch"} error ${r.method} ${r.url}`,date:r.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:r.method,status_code:r.status,url:r.url},status:uq.error,origin:uV.g.NETWORK},domainContext:i})}!(0,ch.w)(r.url)&&(0===(i=r).status&&"opaque"!==i.responseType||(0,cp.G)(r.status))&&("xhr"in r?(s=r.xhr,a=e,u("string"==typeof s.response?cg(s.response,a):s.response)):r.response?function(e,t,n){var r,i,s;let a=(0,cp.i)(e);a&&a.body?window.TextDecoder?(r=a.body,i=t.requestErrorResponseLengthLimit,s=(e,t)=>{e?n(`Unable to retrieve response: ${e}`):n(t)},(0,cf._)(r,(e,t,n)=>{if(e)s(e);else{let e=new TextDecoder().decode(t);n&&(e+="..."),s(void 0,e)}},{bytesLimit:i,collectStreamBody:!0})):a.text().then((0,l3.dm)(e=>n(cg(e,t))),(0,l3.dm)(e=>n(`Unable to retrieve response: ${e}`))):n()}(r.response,e,u):r.error&&(o=r.error,l=e,u(cg((0,uW.Yn)((0,u$.T)(o)),l))))}(0,cd.G)(e).subscribe(e=>{"complete"===e.state&&n("xhr",e)}),(0,u1.i)().subscribe(e=>{"resolve"===e.state&&n("fetch",e)})}(t,i),function(e,t){if(!e.forwardErrorsToLogs)return lB.l;let n=new cn.c,{stop:r}=(0,cm.mj)(n);n.subscribe(e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,error:uK(e),origin:uV.g.SOURCE,status:uq.error}})})}(t,i),function(e,t){(0,cu.l)(e.forwardConsoleLogs).subscribe(e=>{let n={rawLogsEvent:{date:(0,lq.nx)(),message:e.message,origin:uV.g.CONSOLE,error:e.error&&uK(e.error),status:cc[e.api]},domainContext:{handlingStack:e.handlingStack}};t.notify(0,n)})}(t,i),function(e,t){(0,u5.u)(e,e.forwardReports).subscribe(e=>{let n,r=e.message,i="deprecation"===e.originalError.type?uq.warn:uq.error;i===uq.error?n=uK(e):e.stack&&(r+=` Found in ${(0,uz.$X)(e.stack)}`),t.notify(0,{rawLogsEvent:{date:(0,lq.nx)(),message:r,origin:uV.g.REPORT,error:n,status:i}})})}(t,i);let{handleLog:c}={handleLog:function(e,t,n,r,s){let a=(0,uU.kg)(t.getContext(),e.context);if(uH(e.status,uZ.console,t)&&function({status:e,message:t},n){lK.Z9[cy[e]].call(lK.JZ,t,n)}(e,a),uH(e.status,uZ.http,t)){let t={rawLogsEvent:{date:s||(0,lq.nx)(),message:e.message,status:e.status,origin:uV.g.LOGGER},messageContext:a,savedCommonContext:r};n&&(t.domainContext={handlingStack:n}),i.notify(0,t)}}};if(function(e,t,n,r,i){let s=uJ.concat(["custom"]),a={};s.forEach(e=>{a[e]=(0,cs.$)(e,t.eventRateLimiterThreshold,i)}),n.subscribe(0,({rawLogsEvent:i,messageContext:s,savedCommonContext:o,domainContext:l})=>{var u,c;let d=(0,lq.gs)(i.date),h=e.findTrackedSession(d);if(!e.findTrackedSession(d,{returnInactive:!0}))return;let p=o||r();h&&h.anonymousId&&!p.user.anonymous_id&&(p.user.anonymous_id=h.anonymousId);let f=(0,uU.kg)({service:t.service,session_id:h?h.id:void 0,session:h?{id:h.id}:void 0,usr:(0,ca.RI)(p.user)?void 0:p.user,view:p.view},p.context,cl(d),i,s);!((null===(u=t.beforeSend)||void 0===u?void 0:u.call(t,f,l))===!1||f.origin!==uV.g.AGENT&&(null!==(c=a[f.status])&&void 0!==c?c:a.custom).isLimitReached())&&n.notify(1,f)})}(l,t,i,n,a),(0,lj.d0)())!function(e){let t=(0,lj.Y9)();e.subscribe(1,e=>{t.send("log",e)})}(i);else{let{stop:e}=function(e,t,n,r,i){let s=(0,c_.Z)(e,{endpoint:e.logsEndpointBuilder,encoder:(0,cb.N)()},e.replica&&{endpoint:e.replica.logsEndpointBuilder,encoder:(0,cb.N)()},n,r,i.expireObservable);return t.subscribe(1,e=>{s.add(e)}),s}(t,i,a,o,l);s.push(()=>e())}return{handleLog:c,getInternalContext:e=>{let t=l.findTrackedSession(e);if(t)return{session_id:t.id}},stop:()=>{s.forEach(e=>e())}}});(0,lL.Z)((0,lF.V)(),"DD_LOGS",cw);class cS{async initialize(e){let{datadogClientToken:t,baseUrl:n,enableDatadog:r=!1,sessionSampleRate:i=100,enableErrorTracking:s=!1}=e;r&&void 0!==t&&t.length>0&&(this.useDatadog=!0,cS.isDatadogInitialized||(cw.init({clientToken:t,site:"us5.datadoghq.com",forwardErrorsToLogs:s,sessionSampleRate:i,forwardConsoleLogs:"all",service:this.clientName.toLowerCase().replace(/-/g,"_"),env:this.env}),cS.isDatadogInitialized=!0,this.baseUrl=n)),this.setContext("client_name",this.clientName)}identify(e,t,n,r){this.setContext("user",{uid:e,email:t,displayName:n,isStaff:r})}setContext(e,t){this.useDatadog&&cw.setGlobalContextProperty(e,t),this.logContext[e]=t}unsetContext(e){this.useDatadog&&cw.setGlobalContextProperty(e,void 0),delete this.logContext[e]}startContextTimer(e){this.logContextTimers[e]=Date.now()}removeContextTimer(e){delete this.logContextTimers[e]}async uploadLogs(e,t){var n;return 0===this.logsToUpload.length?(this.debug("No logs to upload"),Promise.resolve()):fetch("".concat(null!==(n=this.baseUrl)&&void 0!==n?n:"","/api/generate-call-file-upload-url"),{method:"POST",headers:{"Content-Type":"application/json","Client-Name":this.clientName,Authorization:"Bearer ".concat(t)},body:JSON.stringify({call_id:e,file_name:"client_logs.json"})}).then(e=>e.json()).then(e=>{if(e&&e.upload_url)return fetch(e.upload_url,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.logsToUpload)}).then(e=>{e.ok&&(this.info("Logs uploaded successfully"),this.logsToUpload=[])}).catch(e=>{this.error("Error uploading logs:",e)});this.error("Failed to get upload URL")}).catch(e=>{this.info("Error generating upload URL for logs:",e)})}info(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.useDatadog&&cw.logger.info(e+this.argsToString(n)),this.addLogToUpload("INFO",e,n)}debug(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.useDatadog&&cw.logger.debug(e+this.argsToString(n)),this.addLogToUpload("DEBUG",e,n)}warn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.useDatadog&&cw.logger.warn(e+this.argsToString(n)),this.addLogToUpload("WARN",e,n)}error(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.useDatadog&&cw.logger.error(e+this.argsToString(n)),this.addLogToUpload("ERROR",e,n)}argsToString(e){return e.map(e=>e instanceof Error?JSON.stringify({message:e.message,name:e.name,stack:e.stack,cause:e.cause}):JSON.stringify(e)).join(", ")}addLogToUpload(e,t,n){let r=new Date().toISOString(),i=Object.keys(this.logContextTimers).reduce((e,t)=>(e[t]=(Date.now()-this.logContextTimers[t])/1e3,e),{});this.logsToUpload.push({level:e,event:t,context:this.logContext,timestamp:r,...i,...n})}constructor(e,t){if(this.useDatadog=!1,this.logsToUpload=[],this.logContext={},this.logContextTimers={},this.clientName=t,this.env=e,"prod"===e){var n=this;console.log=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.info(e.toString(),...r)},console.info=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.info(e.toString(),...r)},console.debug=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.debug(e.toString(),...r)},console.warn=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.warn(e.toString(),...r)},console.error=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n.error(e.toString(),...r)}}}}cS.isDatadogInitialized=!1;var ck=n(9258);class cE{createWebSocket(){return new Promise((e,t)=>{this.logManager.info("Creating WebSocket connection"),this.connectionAttempts++,this.socket=new WebSocket(this.url),this.socket.onmessage=t=>{if(this.hasReceivedFirstMessage){var n;null===(n=this.messageCallback)||void 0===n||n.call(this,t.data,Date.now())}else{this.clearTimeouts(),this.hasReceivedFirstMessage=!0,this.logManager.info("WebSocket: received first message! Connected");let n=Date.now()-this.connectionStartTime;this.analyticsManager.track(new w(this.connectionAttempts,n),!0),e(t.data)}},this.socket.onclose=e=>{if(this.clearTimeouts(),this.logManager.info("WebSocket disconnected with code:",e.code),this.analyticsManager.track(new b(e.code,this.hasReceivedFirstMessage),!0),!this.isDisconnecting){if(e.code===F.TryAgainLater||e.code===F.Overloaded)t(new B("Server is temporarily unavailable"));else{var n;t(new V("WebSocket connection closed",{close_code:e.code})),null===(n=this.closeCallback)||void 0===n||n.call(this,e.code)}}},this.socket.onopen=()=>{this.logManager.info("WebSocket connected"),this.firstMessageTimeoutId=setTimeout(()=>{var e;null===(e=this.socket)||void 0===e||e.close(F.FirstMessageNotReceived),t(new z("First message upon connecting not received",{connection_attempts:this.connectionAttempts}))},this.firstMessageTimeout)},this.socket.onerror=e=>{this.clearTimeouts(),this.logManager.error("WebSocket error:",e);let n="WebSocket connection error";"message"in e&&(n=e.message),t(new $(n,{connection_attempts:this.connectionAttempts}))}})}async connect(){this.isDisconnecting=!1,this.connectionStartTime=Date.now(),this.connectionAttempts=0;try{return await (0,ck.backOff)(async()=>await this.createWebSocket(),{...this.backoffOptions,retry:()=>!0})}catch(e){if(e instanceof B)throw new B("Failed to connect after multiple attempts",{attempts:this.backoffOptions.numOfAttempts,lastError:e});throw e}}async disconnect(){this.isDisconnecting=!0,this.clearTimeouts(),this.socket&&(this.socket.readyState!==WebSocket.CLOSED&&(this.socket.onerror=null,this.socket.close()),this.socket=null)}clearTimeouts(){this.firstMessageTimeoutId&&(this.logManager.info("Clearing first message timeout"),clearTimeout(this.firstMessageTimeoutId)),this.firstMessageTimeoutId=null}isConnected(){return null!=this.socket&&this.socket.readyState===WebSocket.OPEN&&this.hasReceivedFirstMessage}send(e){if(this.socket&&this.socket.readyState===WebSocket.OPEN)this.socket.send(e);else{var t;this.logManager.error("WebSocket is not open. Ready state:",null===(t=this.socket)||void 0===t?void 0:t.readyState)}}onMessage(e){this.messageCallback=e}onClose(e){this.closeCallback=e}onError(e){}constructor(e,t,n,r){var i;this.url=e,this.socket=null,this.messageCallback=null,this.closeCallback=null,this.isDisconnecting=!1,this.hasReceivedFirstMessage=!1,this.connectionStartTime=0,this.connectionAttempts=0,this.firstMessageTimeoutId=null,this.logManager=t,this.analyticsManager=n,this.backoffOptions={delayFirstAttempt:r.delay_first_attempt,numOfAttempts:r.num_of_attempts,startingDelay:r.starting_delay,maxDelay:r.max_delay,timeMultiple:r.time_multiple},this.firstMessageTimeout=null!==(i=r.first_message_timeout_ms)&&void 0!==i?i:500,this.logManager.info("WebsocketTransport constructor",{backoffConfig:r,firstMessageTimeout:this.firstMessageTimeout})}}class cT{startDummyBackgroundAudioPlayer(){if(null==this.dummyBackgroundAudioStreamTrack||null==this.dummyBackgroundAudioPlayer){this.logManager.info("Dummy audio player not initialized, not starting it.");return}let e=this.dummyBackgroundAudioStreamTrack.clone();e.enabled=!0;let t=new MediaStream([e]);this.dummyBackgroundAudioPlayer.srcObject=t,this.logManager.info("Started dummy audio player to keep audio alive in background")}stopDummyBackgroundAudioPlayer(){var e;(null===(e=this.dummyBackgroundAudioPlayer)||void 0===e?void 0:e.srcObject)!=null&&(this.dummyBackgroundAudioPlayer.srcObject=null,this.logManager.info("Stopped dummy audio player"))}async handleVisibilityChange(){var e,t;this.isMobileBrowser()&&(document.hidden&&(null===(e=this.session)||void 0===e?void 0:e.isCallActive())?this.isIOS()?this.startDummyBackgroundAudioPlayer():(null===(t=this.onError)||void 0===t||t.call(this,new es("Backgrounded tab on a mobile browser")),this.analyticsManager.track(new c(u.BrowserBackgrounded),!0),await this.stopCall()):this.stopDummyBackgroundAudioPlayer())}initDummyBackgroundAudioStreamTrack(){let e=new AudioContext,t=e.createOscillator(),n=e.createGain();n.gain.setValueAtTime(0,0);let r=e.createMediaStreamDestination();return(t.connect(n),n.connect(r),t.start(),[this.dummyBackgroundAudioStreamTrack]=r.stream.getAudioTracks(),null==this.dummyBackgroundAudioStreamTrack)?(this.logManager.error("Failed to create empty audio stream track"),!1):(this.dummyBackgroundAudioStreamTrack.enabled=!1,!0)}initDummyBackgroundAudioPlayer(){this.initDummyBackgroundAudioStreamTrack()&&(this.dummyBackgroundAudioPlayer=document.createElement("audio"),this.dummyBackgroundAudioPlayer.id="silence-audio-player",this.dummyBackgroundAudioPlayer.autoplay=!0,this.dummyBackgroundAudioPlayer.hidden=!0,this.logManager.info("Dummy background audio player initialized"))}async init(){var e,t,n,r;if(0===(0,ut.Dk)().length){if(!this.envConfig.firebaseConfig)throw Error("Firebase config not set");(0,ut.Wp)(this.envConfig.firebaseConfig)}let i=(0,un.xI)();if(await i.authStateReady(),null!=i.currentUser)this.logManager.info("Using existing user"),this.user=i.currentUser;else{let e;this.logManager.info("No user, signing in anonymously"),e=await (0,un.zK)(i),this.user=e.user}await this.featureFlagManager.initializeWithUser(this.user.uid,this.user.email,this.envConfig.name,this.envConfig.statSigKey);let s=this.featureFlagManager.getConfig(el.DATADOG_CONFIG);await this.analyticsManager.initialize({rudderstackWriteKey:this.envConfig.rudderstackWriteKey,datadogRumClientToken:this.envConfig.datadogRumKey,datadogRumAppId:this.envConfig.datadogRumAppId,datadogEnabled:s.rum_enabled,datadogSampleRate:s.rum_session_sample_rate}),await this.logManager.initialize({datadogClientToken:this.envConfig.datadogRumKey,baseUrl:this.envConfig.baseUrl,enableDatadog:s.logs_enabled,sessionSampleRate:s.log_session_sample_rate,enableErrorTracking:s.enable_error_tracking});let a=null!=this.user&&!this.user.isAnonymous;this.analyticsManager.identify(this.user.uid,null!==(e=this.user.displayName)&&void 0!==e?e:"",null!==(t=this.user.email)&&void 0!==t?t:"",!1,a),this.logManager.identify(this.user.uid,null!==(n=this.user.displayName)&&void 0!==n?n:"",null!==(r=this.user.email)&&void 0!==r?r:"",!1)}getSession(){return this.session}async getIdToken(){var e,t;return null!==(t=await (null===(e=this.user)||void 0===e?void 0:e.getIdToken()))&&void 0!==t?t:null}getPoorRttThresholdMs(){var e,t;return null!==(t=null===(e=this.webAudioConfig)||void 0===e?void 0:e.poor_rtt_threshold_ms)&&void 0!==t?t:500}async startCall(){var e,t,n,r,s,a,o,l;let u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{preset:c,onError:d,onConnectionQualityChange:h,onCallStateChange:f,onRawRecordingComplete:g,agentId:m,character:v,audioOptions:y,chimeTask:_,location:b,date:w}={audioOptions:{},...u,preset:null!==(t=u.preset)&&void 0!==t?t:L[null!==(e=u.character)&&void 0!==e?e:N],location:null!==(r=u.location)&&void 0!==r?r:{latitude:0,longitude:0,address:"",timezone:null!==(n=Intl.DateTimeFormat().resolvedOptions().timeZone)&&void 0!==n?n:""},date:null!==(s=u.date)&&void 0!==s?s:new Date};if(this.audioOptions={enableRecording:!1,ringtone:null,ringtoneMaxDurationMs:null,connectedChime:null,disconnectedChime:null,inputReadyChime:null,inputWarmupMs:0,...y},this.analyticsManager.setContext("character",null!=v?v:N),this.analyticsManager.track(new i,!0),this.featureFlagManager.isEnabled(eo.DISABLE_CALLING))throw new B("Service is not currently available");try{await this.notification.unlock()}catch(e){this.logManager.warn("Failed to unlock audio context:",e)}this.onError=null!=d?d:null,this.webAudioConfig=this.featureFlagManager.getConfig(el.WEB_AUDIO_CONFIG);let S=this.featureFlagManager.getConfig(el.WEBSOCKET_CONFIG),k=new uR(this.analyticsManager,this.logManager,this.webAudioConfig,{enableRecording:null!=this.user,...y},S,d,h,g);y.connectedChime&&this.notification.precacheAudio(y.connectedChime),y.disconnectedChime&&this.notification.precacheAudio(y.disconnectedChime);let E=0;try{await k.init(),E=Date.now(),this.session=await this.getOrCreateSession(v,m,d)}catch(e){this.logManager.error("Failed to create session:",e);try{await k.stop()}catch(e){}if(e instanceof U)this.analyticsManager.track(new p(e.code,e.message,e.details),!0);else{let t=new ee(null!==(a=null==e?void 0:e.message)&&void 0!==a?a:"Unknown error");this.analyticsManager.track(new p(t.code,t.message),!0)}throw e}if(this.session.isCallActive())return this.logManager.warn("Call is already active!"),this.session;this.featureFlagManager.isEnabled(eo.UPLOAD_CLIENT_RECORDING)&&this.session.onCallRecording(this.uploadCallRecording.bind(this));let T=!1,I=!1,C=async()=>{T&&!I&&(await this.aquireWakeLock(),null==f||f(ne.CONNECTED))};this.session.onCallStateChange(async e=>{switch(e){case ne.CONNECTED:T=!0,C();break;case ne.DISCONNECTED:this.releaseWakeLock(),null==f||f(e),this.stopDummyBackgroundAudioPlayer();break;default:null==f||f(e)}});let x=async()=>{let e=_?_():Promise.resolve(),t=y.connectedChime?this.notification.playAudio(y.connectedChime):Promise.resolve();await Promise.race([Promise.allSettled([t,e]),new Promise(e=>setTimeout(()=>{this.logManager.warn("Timeout running chime tasks"),e(void 0)},1e3))])};y.ringtone&&(I=!0,k.setMuteInput(!0),this.notification.playAudio(y.ringtone,null!==(o=y.ringtoneMaxDurationMs)&&void 0!==o?o:void 0).then(()=>{I=!1,k.setMuteInput(!1),C()}));try{let e=await this.session.startCall(c,k,E,x,()=>{y.inputReadyChime&&this.notification.playAudio(y.inputReadyChime)},b,w);this.logManager.setContext("call_id",e),this.logManager.startContextTimer("call_time_s"),this.analyticsManager.setContext("call_id",e)}catch(e){if(this.logManager.error("Failed to start call:",e),await this.session.disconnect(),e instanceof U)this.analyticsManager.track(new p(e.code,e.message),!0);else{let t=new ee(null!==(l=null==e?void 0:e.message)&&void 0!==l?l:"Unknown error");this.analyticsManager.track(new p(t.code,t.message),!0)}throw e}let A=ue().getParser(window.navigator.userAgent),M="safari"===A.getBrowserName(!0).toLowerCase();return this.isIOS()?null!==A.getOSVersion().match(/^17\.5\.*/)&&(null==d||d(new ea("Unsupported browser version"))):M&&null!==A.getBrowserVersion().match(/^17\.5\.*/)&&(null==d||d(new ea("Unsupported browser version"))),this.session}async stopCall(){let{chimeTask:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.logManager.info("Attempting to stop call"),null!=this.session&&this.session.isCallActive()){var t;this.logManager.info("Stopping call");let n=this.session.getCallId();await this.session.stopCall(!1,async()=>{var t;await Promise.race([Promise.allSettled([(null===(t=this.audioOptions)||void 0===t?void 0:t.disconnectedChime)?this.notification.playAudio(this.audioOptions.disconnectedChime):Promise.resolve(),e?e():Promise.resolve()]),new Promise(e=>setTimeout(e,1e3))])}),await this.session.disconnect();let r=await (null===(t=this.user)||void 0===t?void 0:t.getIdToken());r&&n&&await this.logManager.uploadLogs(n,r)}this.audioOptions=null}endCallLoggingContext(){this.logManager.unsetContext("call_id"),this.analyticsManager.unsetContext("call_id"),this.analyticsManager.unsetContext("character")}async getOrCreateSession(e,t,n){var r;if(null!=this.session&&this.session.isConnected())return this.session;if(!this.user)throw new W("User not authenticated. Call init() first");let i=new URL(function(e){let t=new URL(e),n=t.protocol,r=t.hostname,i=t.port;return"".concat("https:"===n?"wss:":"ws:","//").concat(r).concat(i?":".concat(i):"").concat("/agent-service-0/v1/connect")}(null!==(r=this.envConfig.baseUrl)&&void 0!==r?r:window.location.origin)),s=await this.user.getIdToken();i.searchParams.append("id_token",s),i.searchParams.append("client_name",this.clientName),i.searchParams.append("usercontext",JSON.stringify({timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})),t&&i.searchParams.append("agent_uuid",t),e&&i.searchParams.append("character",e);let a=this.featureFlagManager.getConfig(el.BACKOFF_CONFIG),o=new cE(i,this.logManager,this.analyticsManager,a),l=this.featureFlagManager.getConfig(el.WEBSOCKET_CONFIG),u=new nz(o,this.logManager,l),c=await navigator.mediaDevices.enumerateDevices(),d={user_agent:navigator.userAgent,mobile_browser:this.isMobileBrowser(),language:navigator.language,media_devices:c},h=new us(u,this.analyticsManager,this.logManager,this.clientName,d,n),p=await h.connect();return this.logManager.setContext("session_id",p),this.logManager.startContextTimer("session_time_s"),h}async uploadCallRecording(e,t){if(null!=this.user){let r=new Blob([t],{type:"audio/wav"}),i=new Blob([JSON.stringify({call_id:e})],{type:"application/json"}),s=new FormData;s.append("metadata",i,"metadata.json"),s.append("recording",r,"recording.wav");let a=await this.user.getIdToken(),o={method:"POST",body:s,headers:{"Client-Name":this.clientName,Authorization:"Bearer ".concat(a)}};try{var n;let e=await fetch("".concat(null!==(n=this.envConfig.baseUrl)&&void 0!==n?n:"","/api/call-recording"),o);if(e.ok)this.logManager.info("Call recording upload successful!");else throw Error("Status=".concat(e.statusText))}catch(e){this.logManager.error("Error during recording upload: ",e)}}}async aquireWakeLock(){try{this.wakeLock=await navigator.wakeLock.request("screen"),this.logManager.info("Screen wake lock acquired"),this.wakeLock.addEventListener("release",()=>{this.logManager.info("Screen wake lock was released")})}catch(e){e instanceof DOMException?this.logManager.warn("Failed to acquire wake lock:",e.message):this.logManager.error("Unexpected error aquiring wake lock:",e)}}async releaseWakeLock(){this.wakeLock&&(this.logManager.info("Releasing screen wake lock"),this.wakeLock.release(),this.wakeLock=null)}isMobileBrowser(){return/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent)}isIOS(){return"ios"===ue().getParser(window.navigator.userAgent).getOSName(!0).toLowerCase()}constructor(e,t,n,r){this.user=null,this.session=null,this.wakeLock=null,this.onError=null,this.audioOptions=null,this.webAudioConfig=null,this.dummyBackgroundAudioStreamTrack=null,this.dummyBackgroundAudioPlayer=null,this.envConfig=e,this.clientName=t;let i="local"===e.name;this.featureFlagManager=n,this.analyticsManager=r,this.logManager=i?new ur:new cS(e.name,t),this.notification=new ui(this.logManager),document.addEventListener("visibilitychange",this.handleVisibilityChange.bind(this)),this.initDummyBackgroundAudioPlayer()}}var cI=n(1647),cC=function(e){return e.development="development",e.staging="staging",e.production="production",e}(cC||{});class cx{async initialize(e,t){null==this.statsigClient&&await this.initializeStatsigClient({},e,t)}async initializeWithUser(e,t,n,r){let i={userID:e};t&&(i.email=t),null!=this.statsigClient?await this.statsigClient.updateUserAsync(i):await this.initializeStatsigClient(i,n,r)}async initializeStatsigClient(e,t,n){if(this.statsigClient||!n)return;let r=this.getStatsigTier(t);this.statsigClient=new cI.StatsigClient(n,e,{environment:{tier:r}}),await this.statsigClient.initializeAsync()}getStatsigTier(e){return"prod"===e?"production":"development"}getConfig(e){if(!this.statsigClient)return eu[e];let t=this.statsigClient.getDynamicConfig(e);return t?t.value:eu[e]}isEnabled(e){return!!this.statsigClient&&this.statsigClient.checkGate(e)}getContext(){var e;return null===(e=this.statsigClient)||void 0===e?void 0:e.getContext()}constructor(){this.statsigClient=void 0}}var cA=n(7178),cM=n(2092);class cO{setAudio(e){this.audio=e}record(e,t){this.stop(),this.audio=null,this.chunks=null;let n=e.captureStream(t);this.mediaRecorder=new MediaRecorder(n),console.log("MediaRecorder MIME type:",this.mediaRecorder.mimeType);let r=[];this.mediaRecorder.addEventListener("dataavailable",e=>{r.push(e.data)}),this.mediaRecorder.addEventListener("stop",()=>{this.chunks=r,r.length>0&&console.log("Blob type:",r[0].type)}),this.mediaRecorder.start(1e3)}stop(){var e;null===(e=this.mediaRecorder)||void 0===e||e.stop(),this.mediaRecorder=null}async finalizeVideo(){var e,t;if(!this.audio||!this.chunks)return null;this.ffmpeg||(this.ffmpeg=await this.loader());let n=new ua.A;n.fromScratch(1,this.audio.inputSampleRate,"16",this.audio.input);let r=new ua.A;r.fromScratch(1,this.audio.outputSampleRate,"16",this.audio.output);let i=new Blob([n.toBuffer()],{type:"audio/wav"}),s=new Blob([r.toBuffer()],{type:"audio/wav"}),a=(null===(e=ue().parse(window.navigator.userAgent).browser.name)||void 0===e?void 0:e.toLowerCase())==="firefox",o=(null===(t=ue().parse(window.navigator.userAgent).os.name)||void 0===t?void 0:t.toLowerCase())==="linux",l=a||o,u=l?"webm":"mp4",c="video/".concat(u),d="video.".concat(u),h=new Blob(this.chunks,{type:c});this.ffmpeg.writeFile(d,await (0,cM.t2)(h)),this.ffmpeg.writeFile("audio1.wav",await (0,cM.t2)(i)),this.ffmpeg.writeFile("audio2.wav",await (0,cM.t2)(s));let p=Date.now();await this.ffmpeg.exec(["-i","audio1.wav","-i","audio2.wav","-filter_complex","amix=inputs=2:duration=longest","audio.wav"]),await this.ffmpeg.exec(["-i",d,"-i","audio.wav","-filter:a","loudnorm","-c:v","copy","-c:a",l?"libopus":"aac","-b:a",l?"64k":"128k","-shortest","output.".concat(u)]),console.log("Video encoding time",(Date.now()-p)/1e3);let f=await this.ffmpeg.readFile("output.".concat(u));console.log("Video size:",f.byteLength);let g=new Blob([f.buffer],{type:c});return this.chunks=null,this.audio=null,{blob:g,extension:u}}constructor(e){this.audio=null,this.mediaRecorder=null,this.chunks=null,this.ffmpeg=null,this.loader=e}}function cR(e){let[t,n]=(0,cA.useState)(!1),r=(0,cA.useMemo)(()=>new cO(e),[]),[i,s]=(0,cA.useState)(!1),[a,o]=(0,cA.useState)(!1),[l,u]=(0,cA.useState)(null);return{createVideo:async()=>{if(l)return l;if(!t){console.warn("No recording to convert");return}for(o(!0);;){let e=await r.finalizeVideo();if(e){let{blob:t,extension:n}=e,r="sesame_call_".concat(Date.now(),".").concat(n);return o(!1),u({blob:t,filename:r}),{blob:t,filename:r}}await new Promise(e=>setTimeout(e,200))}},record:function(e,t){s(!0),u(null),o(!1),r.record(e,t)},recording:i,setAudio:function(e){r.setAudio(e)},stopRecord:function(){r.stop(),s(!1),n(!0)},videoDownloadable:t,videoFinalizing:a}}},870:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClientBase=void 0,n(3368);let i=n(3368),s=n(963),a=n(415),o=n(1414),l=n(3858),u=n(9539),c=n(5158),d=n(6435);class h{constructor(e,t,n,r){var l;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};let h=this.$emt.bind(this);(null==r?void 0:r.logLevel)!=null&&(o.Log.level=r.logLevel),(null==r?void 0:r.disableStorage)&&d.Storage._setDisabled(!0),(null==r?void 0:r.initialSessionID)&&c.StatsigSession.overrideInitialSessionID(r.initialSessionID,e),(null==r?void 0:r.storageProvider)&&d.Storage._setProvider(r.storageProvider),this._sdkKey=e,this._options=null!=r?r:{},this._memoCache={},this.overrideAdapter=null!==(l=null==r?void 0:r.overrideAdapter)&&void 0!==l?l:null,this._logger=new a.EventLogger(e,h,n,r),this._errorBoundary=new s.ErrorBoundary(e,r,h),this._errorBoundary.wrap(this),this._errorBoundary.wrap(t),this._errorBoundary.wrap(this._logger),n.setErrorBoundary(this._errorBoundary),this.dataAdapter=t,this.dataAdapter.attach(e,r),this.storageProvider=d.Storage,this._primeReadyRipcord(),function(e,t){var n;if((0,u._isServerEnv)())return;let r=(0,i._getStatsigGlobal)(),s=null!==(n=r.instances)&&void 0!==n?n:{};null!=s[e]&&o.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),s[e]=t,r.firstInstance||(r.firstInstance=t),r.instances=s,__STATSIG__=r}(e,this)}updateRuntimeOptions(e){null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingDisabled(e.disableLogging)),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,d.Storage._setDisabled(e.disableStorage))}flush(){return this._logger.flush()}shutdown(){return r(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){if(this._listeners[e]){let n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}}$on(e,t){t.__isInternal=!0,this.on(e,t)}$emt(e){var t;let n=t=>{try{t(e)}catch(n){if(!0===t.__isInternal){this._errorBoundary.logError(`__emit:${e.name}`,n);return}o.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>n(e)),null===(t=this._listeners["*"])||void 0===t||t.forEach(n)}_setStatus(e,t){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:t})}_enqueueExposure(e,t,n){if((null==n?void 0:n.disableExposureLog)===!0){this._logger.incrementNonExposureCount(e);return}this._logger.enqueue(t)}_memoize(e,t){return(n,r)=>{if(this._options.disableEvaluationMemoization)return t(n,r);let i=(0,l.createMemoKey)(e,n,r);return i?(i in this._memoCache||(Object.keys(this._memoCache).length>=3e3&&(this._memoCache={}),this._memoCache[i]=t(n,r)),this._memoCache[i]):t(n,r)}}}t.StatsigClientBase=h},900:e=>{e.exports={style:{fontFamily:"'season', 'season Fallback'"},className:"__className_be8520",variable:"__variable_be8520"}},905:(e,t,n)=>{"use strict";n.d(t,{WW:()=>a,_m:()=>r,iH:()=>i,wh:()=>o});let r=1024,i=1048576,s=/[^\u0000-\u007F]/;function a(e){return s.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function o(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}},923:(e,t,n)=>{"use strict";var r=n(7178),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=r.useState,a=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=s({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return o(function(){i.value=n,i.getSnapshot=t,u(i)&&c({inst:i})},[e,n,t]),a(function(){return u(i)&&c({inst:i}),e(function(){u(i)&&c({inst:i})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _}});let r=n(7480),i=n(6594),s=r._(n(7178)),a=n(2939),o=n(7235),l=n(5830),u=n(5348),c=n(6201),d=n(9430),h=n(7358),p=n(6555),f=n(9394),g=n(1183),m=new Set;function v(e,t,n,r){if((0,o.isLocalURL)(t)){if(!r.bypassPrefetchedCheck){let i=t+"%"+n+"%"+(void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0);if(m.has(i))return;m.add(i)}e.prefetch(t,n,r).catch(e=>{})}}function y(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}let _=s.default.forwardRef(function(e,t){let n,r;let{href:l,as:m,children:_,prefetch:b=null,passHref:w,replace:S,shallow:k,scroll:E,locale:T,onClick:I,onMouseEnter:C,onTouchStart:x,legacyBehavior:A=!1,...M}=e;n=_,A&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let O=s.default.useContext(d.RouterContext),R=!1!==b,{href:P,as:D}=s.default.useMemo(()=>{if(!O){let e=y(l);return{href:e,as:m?y(m):e}}let[e,t]=(0,a.resolveHref)(O,l,!0);return{href:e,as:m?(0,a.resolveHref)(O,m):t||e}},[O,l,m]),N=s.default.useRef(P),L=s.default.useRef(D);A&&(r=s.default.Children.only(n));let F=A?r&&"object"==typeof r&&r.ref:t,[U,j,B]=(0,h.useIntersection)({rootMargin:"200px"}),z=s.default.useCallback(e=>{(L.current!==D||N.current!==P)&&(B(),L.current=D,N.current=P),U(e)},[D,P,B,U]),$=(0,g.useMergedRef)(z,F);s.default.useEffect(()=>{O&&j&&R&&v(O,P,D,{locale:T})},[D,P,j,T,R,null==O?void 0:O.locale,O]);let V={ref:$,onClick(e){A||"function"!=typeof I||I(e),A&&r.props&&"function"==typeof r.props.onClick&&r.props.onClick(e),O&&!e.defaultPrevented&&!function(e,t,n,r,i,s,a,l){let{nodeName:u}=e.currentTarget;!("A"===u.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!(0,o.isLocalURL)(n)))&&(e.preventDefault(),(()=>{let e=null==a||a;"beforePopState"in t?t[i?"replace":"push"](n,r,{shallow:s,locale:l,scroll:e}):t[i?"replace":"push"](r||n,{scroll:e})})())}(e,O,P,D,S,k,E,T)},onMouseEnter(e){A||"function"!=typeof C||C(e),A&&r.props&&"function"==typeof r.props.onMouseEnter&&r.props.onMouseEnter(e),O&&v(O,P,D,{locale:T,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(e){A||"function"!=typeof x||x(e),A&&r.props&&"function"==typeof r.props.onTouchStart&&r.props.onTouchStart(e),O&&v(O,P,D,{locale:T,priority:!0,bypassPrefetchedCheck:!0})}};if((0,u.isAbsoluteUrl)(D))V.href=D;else if(!A||w||"a"===r.type&&!("href"in r.props)){let e=void 0!==T?T:null==O?void 0:O.locale;V.href=(null==O?void 0:O.isLocaleDomain)&&(0,p.getDomainLocale)(D,e,null==O?void 0:O.locales,null==O?void 0:O.domainLocales)||(0,f.addBasePath)((0,c.addLocale)(D,e,null==O?void 0:O.defaultLocale))}return A?s.default.cloneElement(r,V):(0,i.jsx)("a",{...M,...V,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},957:(e,t,n)=>{"use strict";n.d(t,{NR:()=>o,Yn:()=>a,uC:()=>s});var r=n(3870),i=n(7090);function s(){let e;let t=Error();return(0,r.um)(()=>{let n=(0,i.T)(t);n.stack=n.stack.slice(2),e=a(n)}),e}function a(e){let t=o(e);return e.stack.forEach(e=>{let n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?`(${e.args.join(", ")})`:"",i=e.line?`:${e.line}`:"",s=e.line&&e.column?`:${e.column}`:"";t+=`
  at ${n}${r} @ ${e.url}${i}${s}`}),t}function o(e){return`${e.name||"Error"}: ${e.message}`}},963:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=t.EXCEPTION_ENDPOINT=void 0;let i=n(1414),s=n(9235),a=n(809);t.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";let o="[Statsig] UnknownError";class l{constructor(e,t,n,r){this._sdkKey=e,this._options=t,this._emitter=n,this._lastSeenError=r,this._seen=new Set}wrap(e){try{(function(e){let t=new Set,n=Object.getPrototypeOf(e);for(;n&&n!==Object.prototype;)Object.getOwnPropertyNames(n).filter(e=>"function"==typeof(null==n?void 0:n[e])).forEach(e=>t.add(e)),n=Object.getPrototypeOf(n);return Array.from(t)})(e).forEach(t=>{let n=e[t];!("$EB"in n)&&(e[t]=(...r)=>this._capture(t,()=>n.apply(e,r)),e[t].$EB=!0)})}catch(e){this._onError("eb:wrap",e)}}logError(e,t){this._onError(e,t)}getLastSeenErrorAndReset(){let e=this._lastSeenError;return this._lastSeenError=void 0,null!=e?e:null}attachErrorIfNoneExists(e){!this._lastSeenError&&(this._lastSeenError=u(e))}_capture(e,t){try{let n=t();if(n&&n instanceof Promise)return n.catch(t=>this._onError(e,t));return n}catch(t){return this._onError(e,t),null}}_onError(e,n){try{i.Log.warn(`Caught error in ${e}`,{error:n}),r(this,void 0,void 0,function*(){var r,i,l,c,d,h,p;let f=n||Error(o),g=f instanceof Error,m=g?f.name:"No Name",v=u(f);if(this._lastSeenError=v,this._seen.has(m))return;if(this._seen.add(m),null===(i=null===(r=this._options)||void 0===r?void 0:r.networkConfig)||void 0===i?void 0:i.preventAllNetworkTraffic){null===(l=this._emitter)||void 0===l||l.call(this,{name:"error",error:n,tag:e});return}let y=s.SDKType._get(this._sdkKey),_=a.StatsigMetadataProvider.get(),b=g?f.stack:function(e){try{return JSON.stringify(e)}catch(e){return o}}(f),w=JSON.stringify(Object.assign({tag:e,exception:m,info:b},Object.assign(Object.assign({},_),{sdkType:y}))),S=null!==(h=null===(d=null===(c=this._options)||void 0===c?void 0:c.networkConfig)||void 0===d?void 0:d.networkOverrideFunc)&&void 0!==h?h:fetch;yield S(t.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(y),"STATSIG-SDK-VERSION":String(_.sdkVersion),"Content-Type":"application/json"},body:w}),null===(p=this._emitter)||void 0===p||p.call(this,{name:"error",error:n,tag:e})}).then(()=>{}).catch(()=>{})}catch(e){}}}function u(e){return e instanceof Error?e:"string"==typeof e?Error(e):Error("An unknown error occurred.")}t.ErrorBoundary=l},1080:(e,t,n)=>{"use strict";let r;function i(e){return u(e).segments_count}function s(e){u(e).segments_count+=1}function a(e){u(e).records_count+=1}function o(e,t){u(e).segments_total_raw_size+=t}function l(e){return null==r?void 0:r.get(e)}function u(e){let t;return r||(r=new Map),r.has(e)?t=r.get(e):(t={records_count:0,segments_count:0,segments_total_raw_size:0},r.set(e,t),r.size>1e3&&function(){if(!r)return;let e=r.keys().next().value;e&&r.delete(e)}()),t}n.d(t,{$1:()=>a,H5:()=>s,K_:()=>i,L7:()=>o,lv:()=>l})},1107:(e,t,n)=>{"use strict";n.d(t,{Am:()=>R,FA:()=>x,I9:()=>P,Im:()=>M,Ku:()=>j,T9:()=>m,Tj:()=>g,Uj:()=>u,XA:()=>v,ZQ:()=>_,bD:()=>function e(t,n){if(t===n)return!0;let r=Object.keys(t),i=Object.keys(n);for(let s of r){if(!i.includes(s))return!1;let r=t[s],a=n[s];if(O(r)&&O(a)){if(!e(r,a))return!1}else if(r!==a)return!1}for(let e of i)if(!r.includes(e))return!1;return!0},c1:()=>w,cY:()=>y,eX:()=>I,g:()=>C,gZ:()=>U,hp:()=>D,jZ:()=>b,lT:()=>E,lV:()=>k,sr:()=>S,tD:()=>N,u:()=>c,zW:()=>T});var r=n(6604);let i=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},s=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=e[n++],a=((7&i)<<18|(63&s)<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):s(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,l=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==l)throw new o;let u=i<<2|s>>4;if(r.push(u),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==l){let e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let l=function(e){let t=i(e);return a.encodeByteArray(t,!0)},u=function(e){return l(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},d=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,h=()=>{if(void 0===r||void 0===r.env)return;let e=r.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},p=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&c(e[1]);return t&&JSON.parse(t)},f=()=>{try{return d()||h()||p()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},g=e=>{var t,n;return null===(n=null===(t=f())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},m=()=>{var e;return null===(e=f())||void 0===e?void 0:e.config},v=e=>{var t;return null===(t=f())||void 0===t?void 0:t[`_${e}`]};class y{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function _(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())}function w(){return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function S(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function k(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){let e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){try{return"object"==typeof indexedDB}catch(e){return!1}}function I(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}class C extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,C.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x.prototype.create)}}class x{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?(n=a,r=i,n.replace(A,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new C(s,l,i)}}let A=/\{\$([^}]+)}/g;function M(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function O(e){return null!==e&&"object"==typeof e}function R(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function P(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function D(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function N(e,t){let n=new L(e,t);return n.subscribe.bind(n)}class L{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){!this.finalized&&(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}let U=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})};function j(e){return e&&e._delegate?e._delegate:e}},1183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return i}});let r=n(7178);function i(e,t){let n=(0,r.useRef)(null),i=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=n.current;e&&(n.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(n.current=s(e,r)),t&&(i.current=s(t,r))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1191:(e,t,n)=>{"use strict";n.d(t,{ox:()=>p});var r=n(565),i=n(7927),s=n(7132),a=n(5572),o=n(9589),l=n(7361),u=n(6919);let c=s.iW,d=l.AQ,h=[];function p(e,t,n,l){let p=new r.c,f=new r.c,g=(0,u.oC)(e.sessionStoreStrategyType,e,t,n);h.push(()=>g.stop());let m=(0,i.q)({expireDelay:d});function v(){return{id:g.getSession().id,trackingType:g.getSession()[t],isReplayForced:!!g.getSession().forcedReplay,anonymousId:g.getSession().anonymousId}}return h.push(()=>m.stop()),g.renewObservable.subscribe(()=>{m.add(v(),(0,s.$S)()),p.notify()}),g.expireObservable.subscribe(()=>{f.notify(),m.closeActive((0,s.$S)())}),g.expandOrRenewSession(),m.add(v(),(0,s.Oc)().relative),l.observable.subscribe(()=>{l.isGranted()?g.expandOrRenewSession():g.expire()}),function(e,t){let{stop:n}=(0,a.l)(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});h.push(n)}(e,()=>{l.isGranted()&&g.expandOrRenewSession()}),function(e,t){let n=()=>{"visible"===document.visibilityState&&t()},{stop:r}=(0,a.q)(e,document,"visibilitychange",n);h.push(r);let i=(0,o.yb)(n,c);h.push(()=>{(0,o.vG)(i)})}(e,()=>g.expandSession()),function(e,t){let{stop:n}=(0,a.q)(e,window,"resume",t,{capture:!0});h.push(n)}(e,()=>g.restartSession()),{findSession:(e,t)=>m.find(e,t),renewObservable:p,expireObservable:f,sessionStateUpdateObservable:g.sessionStateUpdateObservable,expire:g.expire,updateSessionState:g.updateSessionState}}},1216:(e,t,n)=>{"use strict";n.d(t,{BB:()=>a});var r=n(9589),i=n(3870),s=n(7132);function a(e,t){if(window.requestIdleCallback&&window.cancelIdleCallback){let n=window.requestIdleCallback((0,i.dm)(e),t);return()=>window.cancelIdleCallback(n)}return function(e){let t=(0,s.x3)(),n=(0,r.wg)(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-((0,s.x3)()-t))})},0);return()=>(0,r.DJ)(n)}(e)}},1224:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1259:(e,t,n)=>{"use strict";n.d(t,{h1:()=>o,uA:()=>i});var r=n(1107);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=s){return this.instances.has(e)}getOptions(e=s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===s?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(e){}return r||null}normalizeInstanceIdentifier(e=s){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},1382:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{apiKey:t,...n}=e,r={...n,key:t},{html:o}=(0,s.GoogleMapsEmbed)(r);return(0,i.jsx)(a.default,{height:r.height||null,width:r.width||null,html:o,dataNtpc:"GoogleMapsEmbed"})};let i=n(6594),s=n(8987),a=r(n(2128))},1414:(e,t)=>{"use strict";function n(e){return e.unshift("[Statsig]"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Log=t.LogLevel=void 0,t.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class r{static info(...e){r.level>=t.LogLevel.Info&&console.info("  INFO ",...n(e))}static debug(...e){r.level>=t.LogLevel.Debug&&console.debug(" DEBUG ",...n(e))}static warn(...e){r.level>=t.LogLevel.Warn&&console.warn("  WARN ",...n(e))}static error(...e){r.level>=t.LogLevel.Error&&console.error(" ERROR ",...n(e))}}t.Log=r,r.level=t.LogLevel.Warn},1512:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18);t.default=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(n),a=Math.max(i,s),o=0,l=e.map([t,n],function(t){var n=a-e.getVersionPrecision(t),r=t+Array(n+1).join(".0");return e.map(r.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(r&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(l[0][a]>l[1][a])return 1;if(l[0][a]===l[1][a]){if(a===o)return 0;a-=1}else if(l[0][a]<l[1][a])return -1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));for(t=0,n=i.length;t<n;t+=1)(function(){var n=i[t];"object"==typeof n&&null!==n&&Object.keys(n).forEach(function(t){e[t]=n[t]})})();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}(),e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);t.default=function(){function e(){}return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}]),e}(),e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(92)),i=l(n(93)),s=l(n(94)),a=l(n(95)),o=l(n(17));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(r.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},s=0;if(Object.keys(e).forEach(function(t){var a=e[t];"string"==typeof a?(i[t]=a,s+=1):"object"==typeof a&&(n[t]=a,r+=1)}),r>0){var a=Object.keys(n),l=o.default.find(a,function(e){return t.isOS(e)});if(l){var u=this.satisfies(n[l]);if(void 0!==u)return u}var c=o.default.find(a,function(e){return t.isPlatform(e)});if(c){var d=this.satisfies(n[c]);if(void 0!==d)return d}}if(s>0){var h=Object.keys(i),p=o.default.find(h,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(o.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}(),e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\/(\d+(\.?_?\d+)+)/i;t.default=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(s,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}],e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18);t.default=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:s.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:s.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:s.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:s.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}],e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18);t.default=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}],e.exports=t.default}})},1514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeTypedGet=t._mergeOverride=t._makeLayer=t._makeExperiment=t._makeDynamicConfig=t._makeFeatureGate=void 0;let r=n(1414),i=n(5231);function s(e,t,n,r){var i;return{name:e,details:t,ruleID:null!==(i=null==n?void 0:n.rule_id)&&void 0!==i?i:"default",__evaluation:n,value:r}}function a(e,t,n){var r;let i=null!==(r=null==n?void 0:n.value)&&void 0!==r?r:{};return Object.assign(Object.assign({},s(e,t,n,i)),{get:o(e,null==n?void 0:n.value)})}function o(e,t,n){return(s,a)=>{var o;let l=null!==(o=null==t?void 0:t[s])&&void 0!==o?o:null;return null==l?null!=a?a:null:null==a||(0,i._isTypeMatch)(l,a)?(null==n||n(s),l):(r.Log.warn(`Parameter type mismatch. '${e}.${s}' was found to be type '${typeof l}' but fallback/return type is '${typeof a}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!=a?a:null)}}t._makeFeatureGate=function(e,t,n){return s(e,t,n,(null==n?void 0:n.value)===!0)},t._makeDynamicConfig=a,t._makeExperiment=function(e,t,n){var r;return Object.assign(Object.assign({},a(e,t,n)),{groupName:null!==(r=null==n?void 0:n.group_name)&&void 0!==r?r:null})},t._makeLayer=function(e,t,n,r){var i,a;return Object.assign(Object.assign({},s(e,t,n,void 0)),{get:o(e,null==n?void 0:n.value,r),groupName:null!==(i=null==n?void 0:n.group_name)&&void 0!==i?i:null,__value:null!==(a=null==n?void 0:n.value)&&void 0!==a?a:{}})},t._mergeOverride=function(e,t,n,r){return Object.assign(Object.assign(Object.assign({},e),t),{get:o(e.name,n,r)})},t._makeTypedGet=o},1568:e=>{"use strict";e.exports=JSON.parse('{"id":"google-maps-embed","description":"Embed a Google Maps embed on your webpage","website":"https://developers.google.com/maps/documentation/embed/get-started","html":{"element":"iframe","attributes":{"loading":"lazy","src":{"url":"https://www.google.com/maps/embed/v1/place","slugParam":"mode","params":["key","q","center","zoom","maptype","language","region"]},"referrerpolicy":"no-referrer-when-downgrade","frameborder":"0","style":"border:0","allowfullscreen":true,"width":null,"height":null}}}')},1579:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getSortedObject=t._DJB2Object=t._DJB2=void 0;let r=n(5231);t._DJB2=e=>{let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return String(t>>>0)},t._DJB2Object=(e,n)=>(0,t._DJB2)(JSON.stringify((0,t._getSortedObject)(e,n))),t._getSortedObject=(e,n)=>{if(null==e)return null;let i=Object.keys(e).sort(),s={};return i.forEach(i=>{let a=e[i];if(0===n||"object"!==(0,r._typeOf)(a)){s[i]=a;return}s[i]=(0,t._getSortedObject)(a,null!=n?n-1:n)}),s}},1604:(e,t,n)=>{"use strict";let r;n.d(t,{G:()=>d});var i=n(2460),s=n(565),a=n(7132),o=n(6692),l=n(3506),u=n(5572);let c=new WeakMap;function d(e){var t;return r||(t=e,r=new s.c(e=>{let{stop:n}=(0,i.H)(XMLHttpRequest.prototype,"open",h),{stop:r}=(0,i.H)(XMLHttpRequest.prototype,"send",n=>{(function({target:e,handlingStack:t},n,r){let s=c.get(e);if(!s)return;s.state="start",s.startClocks=(0,a.M8)(),s.isAborted=!1,s.xhr=e,s.handlingStack=t;let o=!1,{stop:d}=(0,i.H)(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&h()}),h=()=>{p(),d(),!o&&(o=!0,s.state="complete",s.duration=(0,a.vk)(s.startClocks.timeStamp,(0,a.nx)()),s.status=e.status,r.notify((0,l.yG)(s)))},{stop:p}=(0,u.q)(n,e,"loadend",h);r.notify(s)})(n,t,e)},{computeHandlingStack:!0}),{stop:s}=(0,i.H)(XMLHttpRequest.prototype,"abort",p);return()=>{n(),r(),s()}})),r}function h({target:e,parameters:[t,n]}){c.set(e,{state:"open",method:String(t).toUpperCase(),url:(0,o.l2)(String(n))})}function p({target:e}){let t=c.get(e);t&&(t.isAborted=!0)}},1647:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigClient=void 0;let s=n(7211);t.StatsigClient=s.default,i(n(460),t),t.default=__STATSIG__=Object.assign(Object.assign({},null!=__STATSIG__?__STATSIG__:{}),{StatsigClient:s.default})},1686:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleMapsEmbed=void 0;let s=i(n(1568)),a=n(6929);t.GoogleMapsEmbed=e=>{var t=r(e,[]);return(0,a.formatData)(s.default,t)}},1703:(e,t,n)=>{"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Ay=void 0;var i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(i,o,l):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(9095));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}i.GA4,t.Ay=i.default},1724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1742:(e,t,n)=>{"use strict";n.d(t,{Xr:()=>a,gt:()=>s,xv:()=>i});var r=n(2419);function i(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.slice(0,t)}...`}function s(e,t){if(!Array.isArray(e))return"";let n=[];for(let t=0;t<e.length;t++){let i=e[t];try{(0,r.L2)(i)?n.push("[VueViewModel]"):n.push(String(i))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t=[],n=!1){return t.some(t=>(function(e,t,n=!1){return!!(0,r.Kg)(e)&&((0,r.gd)(t)?t.test(e):!!(0,r.Kg)(t)&&(n?e===t:e.includes(t)))})(e,t,n))}},1791:(e,t,n)=>{"use strict";n.d(t,{Kp:()=>l,hL:()=>o,y5:()=>a});var r=n(565),i=n(8410),s=n(5572);let a={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function o(e){return new r.c(t=>{let{stop:n}=(0,s.l)(e,window,["visibilitychange","freeze"],e=>{"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:a.HIDDEN}):"freeze"===e.type&&t.notify({reason:a.FROZEN})},{capture:!0}),r=(0,s.q)(e,window,"beforeunload",()=>{t.notify({reason:a.UNLOADING})}).stop;return()=>{n(),r()}})}function l(e){return(0,i.KQ)(a).includes(e)}},1885:(e,t,n)=>{"use strict";let r,i,s;n.d(t,{li:()=>T,mG:()=>E});var a=n(8032),o=n(2229),l=n(432),u=n(2419),c=n(5587),d=n(4601),h=n(4121),p=n(8530),f=n(3399),g=n(7600),m=n(1742),v=n(9146),y=n(2399),_=n(120),b=n(5903),w=n(9542);function S(e,t){let{extra:n,tags:r,user:i,contexts:s,level:a,sdkProcessingMetadata:o,breadcrumbs:l,fingerprint:u,eventProcessors:c,attachments:d,propagationContext:h,transactionName:p,span:f}=t;k(e,"extra",n),k(e,"tags",r),k(e,"user",i),k(e,"contexts",s),e.sdkProcessingMetadata=(0,b.h)(e.sdkProcessingMetadata,o,2),a&&(e.level=a),p&&(e.transactionName=p),f&&(e.span=f),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),c.length&&(e.eventProcessors=[...e.eventProcessors,...c]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...h}}function k(e,t,n){e[t]=(0,b.h)(e[t],n,1)}function E(e,t,n,b,k,E){var T,I;let{normalizeDepth:C=3,normalizeMaxBreadth:x=1e3}=e,A={...t,event_id:t.event_id||n.event_id||(0,f.eJ)(),timestamp:t.timestamp||(0,v.lu)()},M=n.integrations||e.integrations.map(e=>e.name);(function(e,t){let{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||a.U,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i),e.message&&(e.message=(0,m.xv)(e.message,s));let o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=(0,m.xv)(o.value,s));let l=e.request;l&&l.url&&(l.url=(0,m.xv)(l.url,s))})(A,e),T=A,(I=M).length>0&&(T.sdk=T.sdk||{},T.sdk.integrations=[...T.sdk.integrations||[],...I]),k&&k.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){let n=function(e){let t=p.O._sentryDebugIds;if(!t)return{};let n=Object.keys(t);return s&&n.length===i?s:(i=n.length,s=n.reduce((n,i)=>{r||(r={});let s=r[i];if(s)n[s[0]]=s[1];else{let s=e(i);for(let e=s.length-1;e>=0;e--){let a=s[e],o=a&&a.filename,l=t[i];if(o&&l){n[o]=l,r[i]=[o,l];break}}}return n},{}))}(t);try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{n&&e.filename&&(e.debug_id=n[e.filename])})})}catch(e){}}(A,e.stackParser);let O=function(e,t){if(!t)return e;let n=e?e.clone():new h.H;return n.update(t),n}(b,n.captureContext);n.mechanism&&(0,f.M6)(A,n.mechanism);let R=k?k.getEventProcessors():[],P=(0,o.m6)().getScopeData();E&&S(P,E.getScopeData()),O&&S(P,O.getScopeData());let D=[...n.attachments||[],...P.attachments];return D.length&&(n.attachments=D),function(e,t){var n,r,i,s;let{fingerprint:a,span:o,breadcrumbs:l,sdkProcessingMetadata:u}=t;(function(e,t){let{extra:n,tags:r,user:i,contexts:s,level:a,transactionName:o}=t,l=(0,_.Ce)(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});let u=(0,_.Ce)(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});let c=(0,_.Ce)(i);c&&Object.keys(c).length&&(e.user={...c,...e.user});let d=(0,_.Ce)(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts}),a&&(e.level=a),o&&"transaction"!==e.type&&(e.transaction=o)})(e,t),o&&function(e,t){e.contexts={trace:(0,w.kX)(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,y.k1)(t),...e.sdkProcessingMetadata};let n=(0,w.zU)(t),r=(0,w.et)(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r)}(e,o),n=e,r=a,n.fingerprint=n.fingerprint?Array.isArray(n.fingerprint)?n.fingerprint:[n.fingerprint]:[],r&&(n.fingerprint=n.fingerprint.concat(r)),n.fingerprint&&!n.fingerprint.length&&delete n.fingerprint,function(e,t){let n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,l),i=e,s=u,i.sdkProcessingMetadata={...i.sdkProcessingMetadata,...s}}(A,P),(function e(t,n,r,i=0){return new d.T2((s,a)=>{let o=t[i];if(null===n||"function"!=typeof o)s(n);else{let d=o({...n},r);l.T&&o.id&&null===d&&c.vF.log(`Event processor "${o.id}" dropped event`),(0,u.Qg)(d)?d.then(n=>e(t,n,r,i+1).then(s)).then(null,a):e(t,d,r,i+1).then(s).then(null,a)}})})([...R,...P.eventProcessors],A,n).then(e=>(e&&function(e){let t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)})})}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];let n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t})})}(e),"number"==typeof C&&C>0)?function(e,t,n){if(!e)return null;let r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,g.S8)(e.data,t,n)}}))},...e.user&&{user:(0,g.S8)(e.user,t,n)},...e.contexts&&{contexts:(0,g.S8)(e.contexts,t,n)},...e.extra&&{extra:(0,g.S8)(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,g.S8)(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(e=>({...e,...e.data&&{data:(0,g.S8)(e.data,t,n)}}))),e.contexts&&e.contexts.flags&&r.contexts&&(r.contexts.flags=(0,g.S8)(e.contexts.flags,3,n)),r}(e,C,x):e)}function T(e){var t;return e?(t=e)instanceof h.H||"function"==typeof t||Object.keys(e).some(e=>I.includes(e))?{captureContext:e}:e:void 0}let I=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},1915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._resolveDeltasResponse=void 0;let r=n(460);function i(e,t){null==e||e.forEach(e=>{delete t[e]})}t._resolveDeltasResponse=function(e,t){var n,s,a;let o=(0,r._typedJsonParse)(t,"checksum","DeltasEvaluationResponse");if(!o)return{hadBadDeltaChecksum:!0};let l=(i((a=(n=e,s=o,Object.assign(Object.assign(Object.assign({},n),s),{feature_gates:Object.assign(Object.assign({},n.feature_gates),s.feature_gates),layer_configs:Object.assign(Object.assign({},n.layer_configs),s.layer_configs),dynamic_configs:Object.assign(Object.assign({},n.dynamic_configs),s.dynamic_configs)}))).deleted_gates,a.feature_gates),delete a.deleted_gates,i(a.deleted_configs,a.dynamic_configs),delete a.deleted_configs,i(a.deleted_layers,a.layer_configs),delete a.deleted_layers,a),u=(0,r._DJB2Object)({feature_gates:l.feature_gates,dynamic_configs:l.dynamic_configs,layer_configs:l.layer_configs},2);return u!==o.checksumV2?{hadBadDeltaChecksum:!0,badChecksum:u,badMergedConfigs:l,badFullResponse:o.deltas_full_response}:JSON.stringify(l)}},1920:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(905);function i(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(n,i){let s=(0,r.WW)(n);t+=s,e+=n,i&&i(s)},finish(e){e(this.finishSync())},finishSync(){let n={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,n},estimateEncodedBytesCount:e=>e.length}}},2012:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(6594),i=n(5010),s=n(8942),a=n(3811),o=n(5928),l=n(4045),u=n.n(l),c=n(6060),d=n(7178);let h=e=>{let{children:t,className:n,href:l,style:h,nopush:p,...f}=e,g=(0,c.useRouter)(),m=(0,s.P)(e=>e.setLastPath),v=(0,s.P)(e=>e.lastPath),y=d.useRef(!1),_=d.useRef(!1);return d.useEffect(()=>{y.current&&v!==l&&(_.current=!0)},[v]),(0,r.jsx)(u(),{href:l,style:h,onClick:e=>{e.preventDefault();let t=e.currentTarget.getAttribute("data-anchor-link");if(l!==v&&l.toString().split("#")[0]===v.split("#")[0]||l===v&&t){let e=l.toString().split("#")[1]?(0,i.$)("#".concat(l.toString().split("#")[1])):null,t=e?e.offsetTop:0;window.lenis.scrollTo(t,{duration:1.5}),p||(m(l),g.push(l));return}let n=document.getElementById("transition-overlay");m(l),n?(n.style.pointerEvents="default",y.current=!0,o.Ay.to(n,{opacity:1,duration:.2,onComplete:()=>{window&&window.lenis&&window.lenis.scrollTo(0,{immediate:!0}),l===v?g.reload():_.current||g.push(l),y.current=!1}})):g.push(l)},...f,className:(0,a.A)(n),"data-sentry-element":"NextLink","data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})}},2023:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,n:()=>i});var r=n(9589);function i(e,t,n){let i,s;let a=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing,l=!1;return{throttled:(...n)=>{if(l){i=n;return}a?e(...n):i=n,l=!0,s=(0,r.wg)(()=>{o&&i&&e(...i),l=!1,i=void 0},t)},cancel:()=>{(0,r.DJ)(s),l=!1,i=void 0}}}function s(){}},2051:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(6559),i=n(846),s=n(9112);async function a(e,t){try{var n;let t=await (null===(n=s.n.getState().user)||void 0===n?void 0:n.getIdToken());if(null==t)throw Error("Failed to generate idToken");let i=await fetch("/api/subscribe",{method:"POST",body:JSON.stringify({email:e}),headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json","Client-Name":"RP-Web"}});if(!i.ok)throw Error("Failed to subscribe: ".concat(i.statusText));(0,r.sendGAEvent)("event","sign_up_email",{})}catch(e){t.analyticsManager.track(new i.pM("SIGN_UP_FAILED",e.message),!0)}}},2092:(e,t,n)=>{"use strict";n.d(t,{t2:()=>a,toBlobURL:()=>l});let r=Error("failed to get response body reader"),i=Error("failed to complete download"),s=e=>new Promise((t,n)=>{let r=new FileReader;r.onload=()=>{let{result:e}=r;e instanceof ArrayBuffer?t(new Uint8Array(e)):t(new Uint8Array)},r.onerror=e=>{n(Error(`File could not be read! Code=${e?.target?.error?.code||-1}`))},r.readAsArrayBuffer(e)}),a=async e=>{let t;if("string"==typeof e)t=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e)?atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0)):await (await fetch(e)).arrayBuffer();else if(e instanceof URL)t=await (await fetch(e)).arrayBuffer();else{if(!(e instanceof File||e instanceof Blob))return new Uint8Array;t=await s(e)}return new Uint8Array(t)},o=async(e,t)=>{let n;let s=await fetch(e);try{let a=parseInt(s.headers.get("Content-Length")||"-1"),o=s.body?.getReader();if(!o)throw r;let l=[],u=0;for(;;){let{done:n,value:r}=await o.read(),s=r?r.length:0;if(n){if(-1!=a&&a!==u)throw i;t&&t({url:e,total:a,received:u,delta:s,done:n});break}l.push(r),u+=s,t&&t({url:e,total:a,received:u,delta:s,done:n})}let c=new Uint8Array(u),d=0;for(let e of l)c.set(e,d),d+=e.length;n=c.buffer}catch(r){console.log("failed to send download progress event: ",r),n=await s.arrayBuffer(),t&&t({url:e,total:n.byteLength,received:n.byteLength,delta:0,done:!0})}return n},l=async(e,t,n=!1,r)=>{let i=new Blob([n?await o(e,r):await (await fetch(e)).arrayBuffer()],{type:t});return URL.createObjectURL(i)}},2128:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({html:e,height:t=null,width:n=null,children:s,dataNtpc:a=""}){return(0,i.useEffect)(()=>{a&&performance.mark("mark_feature_usage",{detail:{feature:`next-third-parties-${a}`}})},[a]),(0,r.jsxs)(r.Fragment,{children:[s,e?(0,r.jsx)("div",{style:{height:null!=t?`${t}px`:"auto",width:null!=n?`${n}px`:"auto"},"data-ntpc":a,dangerouslySetInnerHTML:{__html:e}}):null]})};let r=n(6594),i=n(7178)},2168:()=>{},2180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlConfiguration=void 0;let r=n(687),i={[r.Endpoint._initialize]:"i",[r.Endpoint._rgstr]:"e",[r.Endpoint._download_config_specs]:"d"};class s{constructor(e,t,n,s){this.customUrl=null,this.fallbackUrls=null,this.endpoint=e,this.endpointDnsKey=i[e],t&&(this.customUrl=t),!t&&n&&(this.customUrl=n.endsWith("/")?`${n}${e}`:`${n}/${e}`),s&&(this.fallbackUrls=s);let a=r.NetworkDefault[e];this.defaultUrl=`${a}/${e}`}getUrl(){var e;return null!==(e=this.customUrl)&&void 0!==e?e:this.defaultUrl}}t.UrlConfiguration=s},2220:function(e,t){var n,r,i,s,a,o,l,u,c,d,h,p,f,g,m,v,y,_,b,w,S,k,E,T,I,C,x,A,M,O,R,P,D,N,L,F,U,j,B,z,$,V,W,H,q,G,K,Z,J,X,Y,Q,ee,et,en,er,ei,es,ea,eo,el,eu,ec,ed,eh,ep,ef,eg,em,ev,ey,e_,eb,ew,eS,ek,eE,eT,eI,eC,ex,eA,eM,eO,eR,eP,eD,eN,eL,eF,eU,ej,eB,ez,e$,eV,eW,eH,eq,eG,eK,eZ,eJ,eX,eY,eQ,e0,e1,e2,e3,e5,e6,e4,e8,e7,e9,te,tt,tn,tr,ti,ts,ta,to,tl,tu,tc,td,th,tp,tf,tg,tm,tv,ty,t_,tb,tw,tS,tk,tE,tT,tI,tC,tx,tA,tM,tO,tR,tP,tD,tN,tL,tF,tU,tj,tB,tz,t$,tV,tW,tH,tq,tG,tK,tZ,tJ,tX,tY,tQ,t0,t1,t2,t3,t5,t6,t4,t8,t7,t9;n=t,m=function(){return r||"undefined"!=typeof window&&(r=window.gsap)&&r.registerPlugin&&r},v=1,y=[],_=[],b=[],w=Date.now,S=function(e,t){return t},k=function(){var e=d.core,t=e.bridge||{},n=e._scrollers,r=e._proxies;n.push.apply(n,_),r.push.apply(r,b),_=n,b=r,S=function(e,n){return t[e](n)}},E=function(e,t){return~b.indexOf(e)&&b[b.indexOf(e)+1][t]},T=function(e){return!!~h.indexOf(e)},I=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},C=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},x="scrollLeft",A="scrollTop",M=function(){return p&&p.isPressed||_.cache++},P={s:A,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:R={s:x,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:(O=function(e,t){var n=function n(r){if(r||0===r){v&&(s.history.scrollRestoration="manual");var i=p&&p.isPressed;e(r=n.v=Math.round(r)||(p&&p.iOS?1:0)),n.cacheID=_.cache,i&&S("ss",r)}else(t||_.cache!==n.cacheID||S("ref"))&&(n.cacheID=_.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n})(function(e){return arguments.length?s.scrollTo(e,P.sc()):s.pageXOffset||a[x]||o[x]||l[x]||0})},sc:O(function(e){return arguments.length?s.scrollTo(R.sc(),e):s.pageYOffset||a[A]||o[A]||l[A]||0})},D=function(e,t){return(t&&t._ctx&&t._ctx.selector||r.utils.toArray)(e)[0]||("string"==typeof e&&!1!==r.config().nullTargetWarn?console.warn("Element not found:",e):null)},N=function(e,t){var n=t.s,i=t.sc;T(e)&&(e=a.scrollingElement||o);var s=_.indexOf(e),l=i===P.sc?1:2;~s||(s=_.push(e)-1),_[s+l]||I(e,"scroll",M);var u=_[s+l],c=u||(_[s+l]=O(E(e,n),!0)||(T(e)?i:O(function(t){return arguments.length?e[n]=t:e[n]})));return c.target=e,u||(c.smooth="smooth"===r.getProperty(e,"scrollBehavior")),c},L=function(e,t,n){var r=e,i=e,s=w(),a=s,o=t||50,l=Math.max(500,3*o),u=function(e,t){var l=w();t||l-s>o?(i=r,r=e,a=s,s=l):n?r+=e:r=i+(e-i)/(l-a)*(s-a)};return{update:u,reset:function(){i=r=n?0:r,a=s=0},getVelocity:function(e){var t=a,o=i,c=w();return(e||0===e)&&e!==r&&u(e),s===a||c-a>l?0:(r+(n?o:-o))/((n?c:s)-t)*1e3}}},F=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},U=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},j=function(){(d=r.core.globals().ScrollTrigger)&&d.core&&k()},B=function(e){return r=e||m(),!i&&r&&"undefined"!=typeof document&&document.body&&(s=window,o=(a=document).documentElement,l=a.body,h=[s,a,o,l],r.utils.clamp,g=r.core.context||function(){},c="onpointerenter"in l?"pointer":"mouse",u=z.isTouch=s.matchMedia&&s.matchMedia("(hover: none), (pointer: coarse)").matches?1:2*("ontouchstart"in s||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),f=z.eventTypes=("ontouchstart"in o?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in o?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return v=0},500),j(),i=1),i},R.op=P,_.cache=0,(z=function(){function e(e){this.init(e)}return e.prototype.init=function(e){i||B(r)||console.warn("Please gsap.registerPlugin(Observer)"),d||j();var t=e.tolerance,n=e.dragMinimum,h=e.type,m=e.target,v=e.lineHeight,_=e.debounce,b=e.preventDefault,S=e.onStop,k=e.onStopDelay,E=e.ignore,x=e.wheelSpeed,A=e.event,O=e.onDragStart,z=e.onDragEnd,$=e.onDrag,V=e.onPress,W=e.onRelease,H=e.onRight,q=e.onLeft,G=e.onUp,K=e.onDown,Z=e.onChangeX,J=e.onChangeY,X=e.onChange,Y=e.onToggleX,Q=e.onToggleY,ee=e.onHover,et=e.onHoverEnd,en=e.onMove,er=e.ignoreCheck,ei=e.isNormalizer,es=e.onGestureStart,ea=e.onGestureEnd,eo=e.onWheel,el=e.onEnable,eu=e.onDisable,ec=e.onClick,ed=e.scrollSpeed,eh=e.capture,ep=e.allowClicks,ef=e.lockAxis,eg=e.onLockAxis;this.target=m=D(m)||o,this.vars=e,E&&(E=r.utils.toArray(E)),t=t||1e-9,n=n||0,x=x||1,ed=ed||1,h=h||"wheel,touch,pointer",_=!1!==_,v||(v=parseFloat(s.getComputedStyle(l).lineHeight)||22);var em,ev,ey,e_,eb,ew,eS,ek=this,eE=0,eT=0,eI=e.passive||!b&&!1!==e.passive,eC=N(m,R),ex=N(m,P),eA=eC(),eM=ex(),eO=~h.indexOf("touch")&&!~h.indexOf("pointer")&&"pointerdown"===f[0],eR=T(m),eP=m.ownerDocument||a,eD=[0,0,0],eN=[0,0,0],eL=0,eF=function(){return eL=w()},eU=function(e,t){return(ek.event=e)&&E&&~E.indexOf(e.target)||t&&eO&&"touch"!==e.pointerType||er&&er(e,t)},ej=function(){var e=ek.deltaX=U(eD),n=ek.deltaY=U(eN),r=Math.abs(e)>=t,i=Math.abs(n)>=t;X&&(r||i)&&X(ek,e,n,eD,eN),r&&(H&&ek.deltaX>0&&H(ek),q&&ek.deltaX<0&&q(ek),Z&&Z(ek),Y&&ek.deltaX<0!=eE<0&&Y(ek),eE=ek.deltaX,eD[0]=eD[1]=eD[2]=0),i&&(K&&ek.deltaY>0&&K(ek),G&&ek.deltaY<0&&G(ek),J&&J(ek),Q&&ek.deltaY<0!=eT<0&&Q(ek),eT=ek.deltaY,eN[0]=eN[1]=eN[2]=0),(e_||ey)&&(en&&en(ek),ey&&(O&&1===ey&&O(ek),$&&$(ek),ey=0),e_=!1),ew&&(ew=!1,1)&&eg&&eg(ek),eb&&(eo(ek),eb=!1),em=0},eB=function(e,t,n){eD[n]+=e,eN[n]+=t,ek._vx.update(e),ek._vy.update(t),_?em||(em=requestAnimationFrame(ej)):ej()},ez=function(e,t){ef&&!eS&&(ek.axis=eS=Math.abs(e)>Math.abs(t)?"x":"y",ew=!0),"y"!==eS&&(eD[2]+=e,ek._vx.update(e,!0)),"x"!==eS&&(eN[2]+=t,ek._vy.update(t,!0)),_?em||(em=requestAnimationFrame(ej)):ej()},e$=function(e){if(!eU(e,1)){var t=(e=F(e,b)).clientX,r=e.clientY,i=t-ek.x,s=r-ek.y,a=ek.isDragging;ek.x=t,ek.y=r,(a||(i||s)&&(Math.abs(ek.startX-t)>=n||Math.abs(ek.startY-r)>=n))&&(ey=a?2:1,a||(ek.isDragging=!0),ez(i,s))}},eV=ek.onPress=function(e){!eU(e,1)&&(!e||!e.button)&&(ek.axis=eS=null,ev.pause(),ek.isPressed=!0,e=F(e),eE=eT=0,ek.startX=ek.x=e.clientX,ek.startY=ek.y=e.clientY,ek._vx.reset(),ek._vy.reset(),I(ei?m:eP,f[1],e$,eI,!0),ek.deltaX=ek.deltaY=0,V&&V(ek))},eW=ek.onRelease=function(e){if(!eU(e,1)){C(ei?m:eP,f[1],e$,!0);var t=!isNaN(ek.y-ek.startY),n=ek.isDragging,i=n&&(Math.abs(ek.x-ek.startX)>3||Math.abs(ek.y-ek.startY)>3),a=F(e);!i&&t&&(ek._vx.reset(),ek._vy.reset(),b&&ep&&r.delayedCall(.08,function(){if(w()-eL>300&&!e.defaultPrevented){if(e.target.click)e.target.click();else if(eP.createEvent){var t=eP.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,s,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}}})),ek.isDragging=ek.isGesturing=ek.isPressed=!1,S&&n&&!ei&&ev.restart(!0),ey&&ej(),z&&n&&z(ek),W&&W(ek,i)}},eH=function(e){return e.touches&&e.touches.length>1&&(ek.isGesturing=!0)&&es(e,ek.isDragging)},eq=function(){return ek.isGesturing=!1,ea(ek)},eG=function(e){if(!eU(e)){var t=eC(),n=ex();eB((t-eA)*ed,(n-eM)*ed,1),eA=t,eM=n,S&&ev.restart(!0)}},eK=function(e){if(!eU(e)){e=F(e,b),eo&&(eb=!0);var t=(1===e.deltaMode?v:2===e.deltaMode?s.innerHeight:1)*x;eB(e.deltaX*t,e.deltaY*t,0),S&&!ei&&ev.restart(!0)}},eZ=function(e){if(!eU(e)){var t=e.clientX,n=e.clientY,r=t-ek.x,i=n-ek.y;ek.x=t,ek.y=n,e_=!0,S&&ev.restart(!0),(r||i)&&ez(r,i)}},eJ=function(e){ek.event=e,ee(ek)},eX=function(e){ek.event=e,et(ek)},eY=function(e){return eU(e)||F(e,b)&&ec(ek)};ev=ek._dc=r.delayedCall(k||.25,function(){ek._vx.reset(),ek._vy.reset(),ev.pause(),S&&S(ek)}).pause(),ek.deltaX=ek.deltaY=0,ek._vx=L(0,50,!0),ek._vy=L(0,50,!0),ek.scrollX=eC,ek.scrollY=ex,ek.isDragging=ek.isGesturing=ek.isPressed=!1,g(this),ek.enable=function(e){return!ek.isEnabled&&(I(eR?eP:m,"scroll",M),h.indexOf("scroll")>=0&&I(eR?eP:m,"scroll",eG,eI,eh),h.indexOf("wheel")>=0&&I(m,"wheel",eK,eI,eh),(h.indexOf("touch")>=0&&u||h.indexOf("pointer")>=0)&&(I(m,f[0],eV,eI,eh),I(eP,f[2],eW),I(eP,f[3],eW),ep&&I(m,"click",eF,!0,!0),ec&&I(m,"click",eY),es&&I(eP,"gesturestart",eH),ea&&I(eP,"gestureend",eq),ee&&I(m,c+"enter",eJ),et&&I(m,c+"leave",eX),en&&I(m,c+"move",eZ)),ek.isEnabled=!0,ek.isDragging=ek.isGesturing=ek.isPressed=e_=ey=!1,ek._vx.reset(),ek._vy.reset(),eA=eC(),eM=ex(),e&&e.type&&eV(e),el&&el(ek)),ek},ek.disable=function(){ek.isEnabled&&(y.filter(function(e){return e!==ek&&T(e.target)}).length||C(eR?eP:m,"scroll",M),ek.isPressed&&(ek._vx.reset(),ek._vy.reset(),C(ei?m:eP,f[1],e$,!0)),C(eR?eP:m,"scroll",eG,eh),C(m,"wheel",eK,eh),C(m,f[0],eV,eh),C(eP,f[2],eW),C(eP,f[3],eW),C(m,"click",eF,!0),C(m,"click",eY),C(eP,"gesturestart",eH),C(eP,"gestureend",eq),C(m,c+"enter",eJ),C(m,c+"leave",eX),C(m,c+"move",eZ),ek.isEnabled=ek.isPressed=ek.isDragging=!1,eu&&eu(ek))},ek.kill=ek.revert=function(){ek.disable();var e=y.indexOf(ek);e>=0&&y.splice(e,1),p===ek&&(p=0)},y.push(ek),ei&&T(m)&&(p=ek),ek.enable(A)},function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}()).version="3.12.7",z.create=function(e){return new z(e)},z.register=B,z.getAll=function(){return y.slice()},z.getById=function(e){return y.filter(function(t){return t.vars.id===e})[0]},m()&&r.registerPlugin(z),eI=1,ex=(eC=Date.now)(),eA=0,eM=0,eO=function(e,t,n){var r=eH(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},eR=function(e,t){return t&&(!eH(e)||"clamp("!==e.substr(0,6))?"clamp("+e+")":e},eP=function(){return et=1},eD=function(){return et=0},eN=function(e){return e},eL=function(e){return Math.round(1e5*e)/1e5||0},eF=function(){return"undefined"!=typeof window},eU=function(){return $||eF()&&($=window.gsap)&&$.registerPlugin&&$},ej=function(e){return!!~K.indexOf(e)},eB=function(e){return("Height"===e?ey:W["inner"+e])||q["client"+e]||G["client"+e]},ez=function(e){return E(e,"getBoundingClientRect")||(ej(e)?function(){return tG.width=W.innerWidth,tG.height=ey,tG}:function(){return tr(e)})},e$=function(e,t,n){var r=n.d,i=n.d2,s=n.a;return(s=E(e,"getBoundingClientRect"))?function(){return s()[r]}:function(){return(t?eB(i):e["client"+i])||0}},eV=function(e,t){var n=t.s,r=t.d2,i=t.d,s=t.a;return Math.max(0,(s=E(e,n="scroll"+r))?s()-ez(e)()[i]:ej(e)?(q[n]||G[n])-eB(r):e[n]-e["offset"+r])},eW=function(e,t){for(var n=0;n<ea.length;n+=3)(!t||~t.indexOf(ea[n+1]))&&e(ea[n],ea[n+1],ea[n+2])},eH=function(e){return"string"==typeof e},eq=function(e){return"function"==typeof e},eG=function(e){return"number"==typeof e},eK=function(e){return"object"==typeof e},eZ=function(e,t,n){return e&&e.progress(+!t)&&n&&e.pause()},eJ=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},eX=Math.abs,eY="left",eQ="right",e0="bottom",e1="width",e2="height",e3="Right",e5="Left",e6="Bottom",e4="padding",e8="margin",e7="Width",e9="Height",te=function(e){return W.getComputedStyle(e)},tt=function(e){var t=te(e).position;e.style.position="absolute"===t||"fixed"===t?t:"relative"},tn=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},tr=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==te(e)[en]&&$.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},ti=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},ts=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},ta=function(e){var t=$.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var s;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,s=0;s<n.length;s++)if(n[s]>=e)return n[s];return n[s-1]}for(s=n.length,e+=i;s--;)if(n[s]<=e)return n[s];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var s=t(n);return!r||Math.abs(s-n)<i||s-n<0==r<0?s:t(r<0?n-e:n+e)}},to=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},tl=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},tu=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},tc=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},td={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},th={toggleActions:"play",anticipatePin:0},tp={top:0,left:0,center:.5,bottom:1,right:1},tf=function(e,t){if(eH(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in tp?tp[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},tg=function(e,t,n,r,i,s,a,o){var l=i.startColor,u=i.endColor,c=i.fontSize,d=i.indent,h=i.fontWeight,p=H.createElement("div"),f=ej(n)||"fixed"===E(n,"pinType"),g=-1!==e.indexOf("scroller"),m=f?G:n,v=-1!==e.indexOf("start"),y=v?l:u,_="border-color:"+y+";font-size:"+c+";color:"+y+";font-weight:"+h+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((g||o)&&f?"fixed;":"absolute;"),(g||o||!f)&&(_+=(r===P?eQ:e0)+":"+(s+parseFloat(d))+"px;"),a&&(_+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),p._isStart=v,p.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),p.style.cssText=_,p.innerText=t||0===t?e+"-"+t:e,m.children[0]?m.insertBefore(p,m.children[0]):m.appendChild(p),p._offset=p["offset"+r.op.d2],tm(p,0,r,v),p},tm=function(e,t,n,r){var i={display:"block"},s=n[r?"os2":"p2"],a=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+s+e7]=1,i["border"+a+e7]=0,i[n.p]=t+"px",$.set(e,i)},tv=[],ty={},t_=function(){return eC()-eA>34&&(eS||(eS=requestAnimationFrame(tU)))},tb=function(){ec&&ec.isPressed&&!(ec.startX>G.clientWidth)||(_.cache++,ec?eS||(eS=requestAnimationFrame(tU)):tU(),eA||tI("scrollStart"),eA=eC())},tw=function(){ep=W.innerWidth,eh=W.innerHeight},tS=function(e){_.cache++,(!0===e||!ee&&!eu&&!H.fullscreenElement&&!H.webkitFullscreenElement&&(!ed||ep!==W.innerWidth||Math.abs(W.innerHeight-eh)>.25*W.innerHeight))&&Z.restart(!0)},tk={},tE=[],tT=function e(){return tu(t0,"scrollEnd",e)||tN(!0)},tI=function(e){return tk[e]&&tk[e].map(function(e){return e()})||tE},tC=[],tx=function(e){for(var t=0;t<tC.length;t+=5)(!e||tC[t+4]&&tC[t+4].query===e)&&(tC[t].style.cssText=tC[t+1],tC[t].getBBox&&tC[t].setAttribute("transform",tC[t+2]||""),tC[t+3].uncache=1)},tA=function(e,t){var n;for(er=0;er<tv.length;er++)(n=tv[er])&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));e_=!0,t&&tx(t),t||tI("revert")},tM=function(e,t){_.cache++,(t||!ek)&&_.forEach(function(e){return eq(e)&&e.cacheID++&&(e.rec=0)}),eH(e)&&(W.history.scrollRestoration=em=e)},tO=0,tR=function(){if(eE!==tO){var e=eE=tO;requestAnimationFrame(function(){return e===tO&&tN(!0)})}},tP=function(){G.appendChild(ev),ey=!ec&&ev.offsetHeight||W.innerHeight,G.removeChild(ev)},tD=function(e){return J(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},tN=function(e,t){if(q=H.documentElement,G=H.body,K=[W,H,q,G],eA&&!e&&!e_){tl(t0,"scrollEnd",tT);return}tP(),ek=t0.isRefreshing=!0,_.forEach(function(e){return eq(e)&&++e.cacheID&&(e.rec=e())});var n=tI("refreshInit");eo&&t0.sort(),t||tA(),_.forEach(function(e){eq(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),tv.slice(0).forEach(function(e){return e.refresh()}),e_=!1,tv.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),eb=1,tD(!0),tv.forEach(function(e){var t=eV(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),tD(!1),eb=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),_.forEach(function(e){eq(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),tM(em,1),Z.pause(),tO++,ek=2,tU(2),tv.forEach(function(e){return eq(e.vars.onRefresh)&&e.vars.onRefresh(e)}),ek=t0.isRefreshing=!1,tI("refresh")},tL=0,tF=1,tU=function(e){if(2===e||!ek&&!e_){t0.isUpdating=!0,eT&&eT.update(0);var t=tv.length,n=eC(),r=n-ex>=50,i=t&&tv[0].scroll();if(tF=tL>i?-1:1,ek||(tL=i),r&&(eA&&!et&&n-eA>200&&(eA=0,tI("scrollEnd")),Y=ex,ex=n),tF<0){for(er=t;er-- >0;)tv[er]&&tv[er].update(0,r);tF=1}else for(er=0;er<t;er++)tv[er]&&tv[er].update(0,r);t0.isUpdating=!1}eS=0},tB=(tj=[eY,"top",e0,eQ,e8+e6,e8+e3,e8+"Top",e8+e5,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"]).concat([e1,e2,"boxSizing","max"+e7,"max"+e9,"position",e8,e4,e4+"Top",e4+e3,e4+e6,e4+e5]),tz=function(e,t,n){tW(n);var r=e._gsap;if(r.spacerIsNative)tW(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1},t$=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,s=tj.length,a=t.style,o=e.style;s--;)a[i=tj[s]]=n[i];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),o[e0]=o[eQ]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[e1]=ti(e,R)+"px",a[e2]=ti(e,P)+"px",a[e4]=o[e8]=o.top=o[eY]="0",tW(r),o[e1]=o["max"+e7]=n[e1],o[e2]=o["max"+e9]=n[e2],o[e4]=n[e4],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},tV=/([A-Z])/g,tW=function(e){if(e){var t,n,r=e.t.style,i=e.length,s=0;for((e.t._gsap||$.core.getCache(e.t)).uncache=1;s<i;s+=2)n=e[s+1],t=e[s],n?r[t]=n:r[t]&&r.removeProperty(t.replace(tV,"-$1").toLowerCase())}},tH=function(e){for(var t=tB.length,n=e.style,r=[],i=0;i<t;i++)r.push(tB[i],n[tB[i]]);return r.t=e,r},tq=function(e,t,n){for(var r,i=[],s=e.length,a=8*!!n;a<s;a+=2)r=e[a],i.push(r,r in t?t[r]:e[a+1]);return i.t=e.t,i},tG={left:0,top:0},tK=function(e,t,n,r,i,s,a,o,l,u,c,d,h,p){eq(e)&&(e=e(o)),eH(e)&&"max"===e.substr(0,3)&&(e=d+("="===e.charAt(4)?tf("0"+e.substr(3),n):0));var f,g,m,v=h?h.time():0;if(h&&h.seek(0),isNaN(e)||(e*=1),eG(e))h&&(e=$.utils.mapRange(h.scrollTrigger.start,h.scrollTrigger.end,0,d,e)),a&&tm(a,n,r,!0);else{eq(t)&&(t=t(o));var y,_,b,w,S=(e||"0").split(" ");(y=tr(m=D(t,o)||G)||{}).left||y.top||"none"!==te(m).display||(w=m.style.display,m.style.display="block",y=tr(m),w?m.style.display=w:m.style.removeProperty("display")),_=tf(S[0],y[r.d]),b=tf(S[1]||"0",n),e=y[r.p]-l[r.p]-u+_+i-b,a&&tm(a,b,r,n-b<20||a._isStart&&b>20),n-=n-b}if(p&&(o[p]=e||-.001,e<0&&(e=0)),s){var k=e+n,E=s._isStart;f="scroll"+r.d2,tm(s,k,r,E&&k>20||!E&&(c?Math.max(G[f],q[f]):s.parentNode[f])<=k+1),c&&(l=tr(a),c&&(s.style[r.op.p]=l[r.op.p]-r.op.m-s._offset+"px"))}return h&&m&&(f=tr(m),h.seek(d),g=tr(m),h._caScrollDist=f[r.p]-g[r.p],e=e/h._caScrollDist*d),h&&h.seek(v),h?e:Math.round(e)},tZ=/(webkit|moz|length|cssText|inset)/i,tJ=function(e,t,n,r){if(e.parentNode!==t){var i,s,a=e.style;if(t===G){for(i in e._stOrig=a.cssText,s=te(e))+i||tZ.test(i)||!s[i]||"string"!=typeof a[i]||"0"===i||(a[i]=s[i]);a.top=n,a.left=r}else a.cssText=e._stOrig;$.core.getCache(e).uncache=1,t.appendChild(e)}},tX=function(e,t,n){var r=t,i=r;return function(t){var s=Math.round(e());return s!==r&&s!==i&&Math.abs(s-r)>3&&Math.abs(s-i)>3&&(t=s,n&&n()),i=r,r=Math.round(t)}},tY=function(e,t,n){var r={};r[t.p]="+="+n,$.set(e,r)},tQ=function(e,t){var n=N(e,t),r="_scroll"+t.p2,i=function t(i,s,a,o,l){var u=t.tween,c=s.onComplete,d={};a=a||n();var h=tX(n,a,function(){u.kill(),t.tween=0});return l=o&&l||0,o=o||i-a,u&&u.kill(),s[r]=i,s.inherit=!1,s.modifiers=d,d[r]=function(){return h(a+o*u.ratio+l*u.ratio*u.ratio)},s.onUpdate=function(){_.cache++,t.tween&&tU()},s.onComplete=function(){t.tween=0,c&&c.call(u)},u=t.tween=$.to(e,s)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},tl(e,"wheel",n.wheelHandler),t0.isTouch&&tl(e,"touchmove",n.wheelHandler),i},(t0=function(){function e(t,n){V||e.register($)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),eg(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!eM){this.update=this.refresh=this.kill=eN;return}var r,i,s,a,o,l,u,c,d,h,p,f,g,m,v,y,w,S,k,T,I,C,x,A,M,O,L,F,U,j,B,z,V,K,Z,Q,en,ei,es,ea,eu,ec=t=tn(eH(t)||eG(t)||t.nodeType?{trigger:t}:t,th),ed=ec.onUpdate,eh=ec.toggleClass,ep=ec.id,ef=ec.onToggle,eg=ec.onRefresh,em=ec.scrub,ev=ec.trigger,ey=ec.pin,e_=ec.pinSpacing,eS=ec.invalidateOnRefresh,eE=ec.anticipatePin,ex=ec.onScrubComplete,eP=ec.onSnapComplete,eD=ec.once,eF=ec.snap,eU=ec.pinReparent,eB=ec.pinSpacer,eW=ec.containerAnimation,eY=ec.fastScrollEnd,eQ=ec.preventOverlaps,e0=t.horizontal||t.containerAnimation&&!1!==t.horizontal?R:P,to=!em&&0!==em,tc=D(t.scroller||W),tp=$.core.getCache(tc),tm=ej(tc),t_=("pinType"in t?t.pinType:E(tc,"pinType")||tm&&"fixed")==="fixed",tw=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],tk=to&&t.toggleActions.split(" "),tE="markers"in t?t.markers:th.markers,tI=tm?0:parseFloat(te(tc)["border"+e0.p2+e7])||0,tC=this,tx=t.onRefreshInit&&function(){return t.onRefreshInit(tC)},tA=e$(tc,tm,e0),tM=!tm||~b.indexOf(tc)?ez(tc):function(){return tG},tO=0,tP=0,tD=0,tN=N(tc,e0);if(tC._startClamp=tC._endClamp=!1,tC._dir=e0,eE*=45,tC.scroller=tc,tC.scroll=eW?eW.time.bind(eW):tN,l=tN(),tC.vars=t,n=n||t.animation,"refreshPriority"in t&&(eo=1,-9999===t.refreshPriority&&(eT=tC)),tp.tweenScroll=tp.tweenScroll||{top:tQ(tc,P),left:tQ(tc,R)},tC.tweenTo=s=tp.tweenScroll[e0.p],tC.scrubDuration=function(e){(Z=eG(e)&&e)?K?K.duration(e):K=$.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:Z,paused:!0,onComplete:function(){return ex&&ex(tC)}}):(K&&K.progress(1).kill(),K=0)},n&&(n.vars.lazy=!1,n._initted&&!tC.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),tC.animation=n.pause(),n.scrollTrigger=tC,tC.scrubDuration(em),z=0,ep||(ep=n.vars.id)),eF&&((!eK(eF)||eF.push)&&(eF={snapTo:eF}),"scrollBehavior"in G.style&&$.set(tm?[G,q]:tc,{scrollBehavior:"auto"}),_.forEach(function(e){return eq(e)&&e.target===(tm?H.scrollingElement||q:tc)&&(e.smooth=!1)}),o=eq(eF.snapTo)?eF.snapTo:"labels"===eF.snapTo?(r=n,function(e){return $.utils.snap(ts(r),e)}):"labelsDirectional"===eF.snapTo?(i=n,function(e,t){return ta(ts(i))(e,t.direction)}):!1!==eF.directional?function(e,t){return ta(eF.snapTo)(e,eC()-tP<500?0:t.direction)}:$.utils.snap(eF.snapTo),Q=eK(Q=eF.duration||{min:.1,max:2})?X(Q.min,Q.max):X(Q,Q),en=$.delayedCall(eF.delay||Z/2||.1,function(){var e=tN(),t=eC()-tP<500,r=s.tween;if((t||10>Math.abs(tC.getVelocity()))&&!r&&!et&&tO!==e){var i,a,l=(e-c)/y,u=n&&!to?n.totalProgress():l,h=t?0:(u-V)/(eC()-Y)*1e3||0,p=$.utils.clamp(-l,1-l,eX(h/2)*h/.185),f=l+(!1===eF.inertia?0:p),g=eF,m=g.onStart,v=g.onInterrupt,_=g.onComplete;if(eG(i=o(f,tC))||(i=f),a=Math.max(0,Math.round(c+i*y)),e<=d&&e>=c&&a!==e){if(r&&!r._initted&&r.data<=eX(a-e))return;!1===eF.inertia&&(p=i-l),s(a,{duration:Q(eX(.185*Math.max(eX(f-u),eX(i-u))/h/.05||0)),ease:eF.ease||"power3",data:eX(a-e),onInterrupt:function(){return en.restart(!0)&&v&&v(tC)},onComplete:function(){tC.update(),tO=tN(),n&&!to&&(K?K.resetTo("totalProgress",i,n._tTime/n._tDur):n.progress(i)),z=V=n&&!to?n.totalProgress():tC.progress,eP&&eP(tC),_&&_(tC)}},e,p*y,a-e-p*y),m&&m(tC,s.tween)}}else tC.isActive&&tO!==e&&en.restart(!0)}).pause()),ep&&(ty[ep]=tC),(eu=(ev=tC.trigger=D(ev||!0!==ey&&ey))&&ev._gsap&&ev._gsap.stRevert)&&(eu=eu(tC)),ey=!0===ey?ev:D(ey),eH(eh)&&(eh={targets:ev,className:eh}),ey&&(!1===e_||e_===e8||(e_=(!!e_||!ey.parentNode||!ey.parentNode.style||"flex"!==te(ey.parentNode).display)&&e4),tC.pin=ey,(a=$.core.getCache(ey)).spacer?w=a.pinState:(eB&&((eB=D(eB))&&!eB.nodeType&&(eB=eB.current||eB.nativeElement),a.spacerIsNative=!!eB,eB&&(a.spacerState=tH(eB))),a.spacer=T=eB||H.createElement("div"),T.classList.add("pin-spacer"),ep&&T.classList.add("pin-spacer-"+ep),a.pinState=w=tH(ey)),!1!==t.force3D&&$.set(ey,{force3D:!0}),tC.spacer=T=a.spacer,O=(B=te(ey))[e_+e0.os2],C=$.getProperty(ey),x=$.quickSetter(ey,e0.a,"px"),t$(ey,T,B),k=tH(ey)),tE){m=eK(tE)?tn(tE,td):td,f=tg("scroller-start",ep,tc,e0,m,0),g=tg("scroller-end",ep,tc,e0,m,0,f),I=f["offset"+e0.op.d2];var tL=D(E(tc,"content")||tc);h=this.markerStart=tg("start",ep,tL,e0,m,I,0,eW),p=this.markerEnd=tg("end",ep,tL,e0,m,I,0,eW),eW&&(ea=$.quickSetter([h,p],e0.a,"px")),t_||b.length&&!0===E(tc,"fixedMarkers")||(tt(tm?G:tc),$.set([f,g],{force3D:!0}),F=$.quickSetter(f,e0.a,"px"),j=$.quickSetter(g,e0.a,"px"))}if(eW){var tU=eW.vars.onUpdate,tj=eW.vars.onUpdateParams;eW.eventCallback("onUpdate",function(){tC.update(0,0,1),tU&&tU.apply(eW,tj||[])})}if(tC.previous=function(){return tv[tv.indexOf(tC)-1]},tC.next=function(){return tv[tv.indexOf(tC)+1]},tC.revert=function(e,t){if(!t)return tC.kill(!0);var r=!1!==e||!tC.enabled,i=ee;r!==tC.isReverted&&(r&&(ei=Math.max(tN(),tC.scroll.rec||0),tD=tC.progress,es=n&&n.progress()),h&&[h,p,f,g].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(ee=tC,tC.update(r)),!ey||eU&&tC.isActive||(r?tz(ey,T,w):t$(ey,T,te(ey),L)),r||tC.update(r),ee=i,tC.isReverted=r)},tC.refresh=function(r,i,a,o){if(!ee&&tC.enabled||i){if(ey&&r&&eA){tl(e,"scrollEnd",tT);return}!ek&&tx&&tx(tC),ee=tC,s.tween&&!a&&(s.tween.kill(),s.tween=0),K&&K.pause(),eS&&n&&n.revert({kill:!1}).invalidate(),tC.isReverted||tC.revert(!0,!0),tC._subPinOffset=!1;var m,_,b,E,I,x,O,F,j,B,z,V,W,Z=tA(),J=tM(),X=eW?eW.duration():eV(tc,e0),Y=y<=.01,Q=0,et=o||0,er=eK(a)?a.end:t.end,ea=t.endTrigger||ev,eo=eK(a)?a.start:t.start||(0!==t.start&&ev?ey?"0 0":"0 100%":0),eu=tC.pinnedContainer=t.pinnedContainer&&D(t.pinnedContainer,tC),ec=ev&&Math.max(0,tv.indexOf(tC))||0,ed=ec;for(tE&&eK(a)&&(V=$.getProperty(f,e0.p),W=$.getProperty(g,e0.p));ed-- >0;)(x=tv[ed]).end||x.refresh(0,1)||(ee=tC),(O=x.pin)&&(O===ev||O===ey||O===eu)&&!x.isReverted&&(B||(B=[]),B.unshift(x),x.revert(!0,!0)),x!==tv[ed]&&(ec--,ed--);for(eq(eo)&&(eo=eo(tC)),c=tK(eo=eO(eo,"start",tC),ev,Z,e0,tN(),h,f,tC,J,tI,t_,X,eW,tC._startClamp&&"_startClamp")||(ey?-.001:0),eq(er)&&(er=er(tC)),eH(er)&&!er.indexOf("+=")&&(~er.indexOf(" ")?er=(eH(eo)?eo.split(" ")[0]:"")+er:(Q=tf(er.substr(2),Z),er=eH(eo)?eo:(eW?$.utils.mapRange(0,eW.duration(),eW.scrollTrigger.start,eW.scrollTrigger.end,c):c)+Q,ea=ev)),er=eO(er,"end",tC),d=Math.max(c,tK(er||(ea?"100% 0":X),ea,Z,e0,tN()+Q,p,g,tC,J,tI,t_,X,eW,tC._endClamp&&"_endClamp"))||-.001,Q=0,ed=ec;ed--;)(O=(x=tv[ed]).pin)&&x.start-x._pinPush<=c&&!eW&&x.end>0&&(m=x.end-(tC._startClamp?Math.max(0,x.start):x.start),(O===ev&&x.start-x._pinPush<c||O===eu)&&isNaN(eo)&&(Q+=m*(1-x.progress)),O===ey&&(et+=m));if(c+=Q,d+=Q,tC._startClamp&&(tC._startClamp+=Q),tC._endClamp&&!ek&&(tC._endClamp=d||-.001,d=Math.min(d,eV(tc,e0))),y=d-c||(c-=.01)&&.001,Y&&(tD=$.utils.clamp(0,1,$.utils.normalize(c,d,ei))),tC._pinPush=et,h&&Q&&((m={})[e0.a]="+="+Q,eu&&(m[e0.p]="-="+tN()),$.set([h,p],m)),ey&&!(eb&&tC.end>=eV(tc,e0)))m=te(ey),E=e0===P,b=tN(),A=parseFloat(C(e0.a))+et,!X&&d>1&&(z={style:z=(tm?H.scrollingElement||q:tc).style,value:z["overflow"+e0.a.toUpperCase()]},tm&&"scroll"!==te(G)["overflow"+e0.a.toUpperCase()]&&(z.style["overflow"+e0.a.toUpperCase()]="scroll")),t$(ey,T,m),k=tH(ey),_=tr(ey,!0),F=t_&&N(tc,E?R:P)(),e_?((L=[e_+e0.os2,y+et+"px"]).t=T,(ed=e_===e4?ti(ey,e0)+y+et:0)&&(L.push(e0.d,ed+"px"),"auto"!==T.style.flexBasis&&(T.style.flexBasis=ed+"px")),tW(L),eu&&tv.forEach(function(e){e.pin===eu&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),t_&&tN(ei)):(ed=ti(ey,e0))&&"auto"!==T.style.flexBasis&&(T.style.flexBasis=ed+"px"),t_&&((I={top:_.top+(E?b-c:F)+"px",left:_.left+(E?F:b-c)+"px",boxSizing:"border-box",position:"fixed"})[e1]=I["max"+e7]=Math.ceil(_.width)+"px",I[e2]=I["max"+e9]=Math.ceil(_.height)+"px",I[e8]=I[e8+"Top"]=I[e8+e3]=I[e8+e6]=I[e8+e5]="0",I[e4]=m[e4],I[e4+"Top"]=m[e4+"Top"],I[e4+e3]=m[e4+e3],I[e4+e6]=m[e4+e6],I[e4+e5]=m[e4+e5],S=tq(w,I,eU),ek&&tN(0)),n?(j=n._initted,el(1),n.render(n.duration(),!0,!0),M=C(e0.a)-A+y+et,U=Math.abs(y-M)>1,t_&&U&&S.splice(S.length-2,2),n.render(0,!0,!0),j||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),el(0)):M=y,z&&(z.value?z.style["overflow"+e0.a.toUpperCase()]=z.value:z.style.removeProperty("overflow-"+e0.a));else if(ev&&tN()&&!eW)for(_=ev.parentNode;_&&_!==G;)_._pinOffset&&(c-=_._pinOffset,d-=_._pinOffset),_=_.parentNode;B&&B.forEach(function(e){return e.revert(!1,!0)}),tC.start=c,tC.end=d,l=u=ek?ei:tN(),eW||ek||(l<ei&&tN(ei),tC.scroll.rec=0),tC.revert(!1,!0),tP=eC(),en&&(tO=-1,en.restart(!0)),ee=0,n&&to&&(n._initted||es)&&n.progress()!==es&&n.progress(es||0,!0).render(n.time(),!0,!0),(Y||tD!==tC.progress||eW||eS||n&&!n._initted)&&(n&&!to&&n.totalProgress(eW&&c<-.001&&!tD?$.utils.normalize(c,d,0):tD,!0),tC.progress=Y||(l-c)/y===tD?0:tD),ey&&e_&&(T._pinOffset=Math.round(tC.progress*M)),K&&K.invalidate(),isNaN(V)||(V-=$.getProperty(f,e0.p),W-=$.getProperty(g,e0.p),tY(f,e0,V),tY(h,e0,V-(o||0)),tY(g,e0,W),tY(p,e0,W-(o||0))),Y&&!ek&&tC.update(),!eg||ek||v||(v=!0,eg(tC),v=!1)}},tC.getVelocity=function(){return(tN()-u)/(eC()-Y)*1e3||0},tC.endAnimation=function(){eZ(tC.callbackAnimation),n&&(K?K.progress(1):n.paused()?to||eZ(n,tC.direction<0,1):eZ(n,n.reversed()))},tC.labelToScroll=function(e){return n&&n.labels&&(c||tC.refresh()||c)+n.labels[e]/n.duration()*y||0},tC.getTrailing=function(e){var t=tv.indexOf(tC),n=tC.direction>0?tv.slice(0,t).reverse():tv.slice(t+1);return(eH(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return tC.direction>0?e.end<=c:e.start>=d})},tC.update=function(e,t,r){if(!eW||r||e){var i,a,o,h,p,g,m,v=!0===ek?ei:tC.scroll(),_=e?0:(v-c)/y,b=_<0?0:_>1?1:_||0,w=tC.progress;if(t&&(u=l,l=eW?tN():v,eF&&(V=z,z=n&&!to?n.totalProgress():b)),eE&&ey&&!ee&&!eI&&eA&&(!b&&c<v+(v-u)/(eC()-Y)*eE?b=1e-4:1===b&&d>v+(v-u)/(eC()-Y)*eE&&(b=.9999)),b!==w&&tC.enabled){if(h=(p=(i=tC.isActive=!!b&&b<1)!=(!!w&&w<1))||!!b!=!!w,tC.direction=b>w?1:-1,tC.progress=b,h&&!ee&&(a=b&&!w?0:1===b?1:1===w?2:3,to&&(o=!p&&"none"!==tk[a+1]&&tk[a+1]||tk[a],m=n&&("complete"===o||"reset"===o||o in n))),eQ&&(p||m)&&(m||em||!n)&&(eq(eQ)?eQ(tC):tC.getTrailing(eQ).forEach(function(e){return e.endAnimation()})),!to&&(!K||ee||eI?n&&n.totalProgress(b,!!(ee&&(tP||e))):(K._dp._time-K._start!==K._time&&K.render(K._dp._time-K._start),K.resetTo?K.resetTo("totalProgress",b,n._tTime/n._tDur):(K.vars.totalProgress=b,K.invalidate().restart()))),ey){if(e&&e_&&(T.style[e_+e0.os2]=O),t_){if(h){if(g=!e&&b>w&&d+1>v&&v+1>=eV(tc,e0),eU){if(!e&&(i||g)){var E=tr(ey,!0),I=v-c;tJ(ey,G,E.top+(e0===P?I:0)+"px",E.left+(e0===P?0:I)+"px")}else tJ(ey,T)}tW(i||g?S:k),U&&b<1&&i||x(A+(1!==b||g?0:M))}}else x(eL(A+M*b))}!eF||s.tween||ee||eI||en.restart(!0),eh&&(p||eD&&b&&(b<1||!ew))&&J(eh.targets).forEach(function(e){return e.classList[i||eD?"add":"remove"](eh.className)}),!ed||to||e||ed(tC),h&&!ee?(to&&(m&&("complete"===o?n.pause().totalProgress(1):"reset"===o?n.restart(!0).pause():"restart"===o?n.restart(!0):n[o]()),ed&&ed(tC)),(p||!ew)&&(ef&&p&&eJ(tC,ef),tw[a]&&eJ(tC,tw[a]),eD&&(1===b?tC.kill(!1,1):tw[a]=0),!p&&tw[a=1===b?1:3]&&eJ(tC,tw[a])),eY&&!i&&Math.abs(tC.getVelocity())>(eG(eY)?eY:2500)&&(eZ(tC.callbackAnimation),K?K.progress(1):eZ(n,"reverse"===o?1:!b,1))):to&&ed&&!ee&&ed(tC)}if(j){var C=eW?v/eW.duration()*(eW._caScrollDist||0):v;F(C+ +!!f._isFlipped),j(C)}ea&&ea(-v/eW.duration()*(eW._caScrollDist||0))}},tC.enable=function(t,n){tC.enabled||(tC.enabled=!0,tl(tc,"resize",tS),tm||tl(tc,"scroll",tb),tx&&tl(e,"refreshInit",tx),!1!==t&&(tC.progress=tD=0,l=u=tO=tN()),!1!==n&&tC.refresh())},tC.getTween=function(e){return e&&s?s.tween:K},tC.setPositions=function(e,t,n,r){if(eW){var i=eW.scrollTrigger,s=eW.duration(),a=i.end-i.start;e=i.start+a*e/s,t=i.start+a*t/s}tC.refresh(!1,!1,{start:eR(e,n&&!!tC._startClamp),end:eR(t,n&&!!tC._endClamp)},r),tC.update()},tC.adjustPinSpacing=function(e){if(L&&e){var t=L.indexOf(e0.d)+1;L[t]=parseFloat(L[t])+e+"px",L[1]=parseFloat(L[1])+e+"px",tW(L)}},tC.disable=function(t,n){if(tC.enabled&&(!1!==t&&tC.revert(!0,!0),tC.enabled=tC.isActive=!1,n||K&&K.pause(),ei=0,a&&(a.uncache=1),tx&&tu(e,"refreshInit",tx),en&&(en.pause(),s.tween&&s.tween.kill()&&(s.tween=0)),!tm)){for(var r=tv.length;r--;)if(tv[r].scroller===tc&&tv[r]!==tC)return;tu(tc,"resize",tS),tm||tu(tc,"scroll",tb)}},tC.kill=function(e,r){tC.disable(e,r),K&&!r&&K.kill(),ep&&delete ty[ep];var i=tv.indexOf(tC);i>=0&&tv.splice(i,1),i===er&&tF>0&&er--,i=0,tv.forEach(function(e){return e.scroller===tC.scroller&&(i=1)}),i||ek||(tC.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),h&&[h,p,f,g].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),eT===tC&&(eT=0),ey&&(a&&(a.uncache=1),i=0,tv.forEach(function(e){return e.pin===ey&&i++}),i||(a.spacer=0)),t.onKill&&t.onKill(tC)},tv.push(tC),tC.enable(!1,!1),eu&&eu(tC),n&&n.add&&!y){var tB=tC.update;tC.update=function(){tC.update=tB,_.cache++,c||d||tC.refresh()},$.delayedCall(.01,tC.update),y=.01,c=d=0}else tC.refresh();ey&&tR()},e.register=function(t){return V||($=t||eU(),eF()&&window.document&&e.enable(),V=eM),V},e.defaults=function(e){if(e)for(var t in e)th[t]=e[t];return th},e.disable=function(e,t){eM=0,tv.forEach(function(n){return n[t?"kill":"disable"](e)}),tu(W,"wheel",tb),tu(H,"scroll",tb),clearInterval(Q),tu(H,"touchcancel",eN),tu(G,"touchstart",eN),to(tu,H,"pointerdown,touchstart,mousedown",eP),to(tu,H,"pointerup,touchend,mouseup",eD),Z.kill(),eW(tu);for(var n=0;n<_.length;n+=3)tc(tu,_[n],_[n+1]),tc(tu,_[n],_[n+2])},e.enable=function(){if(W=window,q=(H=document).documentElement,G=H.body,$&&(J=$.utils.toArray,X=$.utils.clamp,eg=$.core.context||eN,el=$.core.suppressOverwrites||eN,em=W.history.scrollRestoration||"auto",tL=W.pageYOffset||0,$.core.globals("ScrollTrigger",e),G)){eM=1,(ev=document.createElement("div")).style.height="100vh",ev.style.position="absolute",tP(),function e(){return eM&&requestAnimationFrame(e)}(),z.register($),e.isTouch=z.isTouch,ef=z.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),ed=1===z.isTouch,tl(W,"wheel",tb),K=[W,H,q,G],$.matchMedia?(e.matchMedia=function(e){var t,n=$.matchMedia();for(t in e)n.add(t,e[t]);return n},$.addEventListener("matchMediaInit",function(){return tA()}),$.addEventListener("matchMediaRevert",function(){return tx()}),$.addEventListener("matchMedia",function(){tN(0,1),tI("matchMedia")}),$.matchMedia().add("(orientation: portrait)",function(){return tw(),tw})):console.warn("Requires GSAP 3.11.0 or later"),tw(),tl(H,"scroll",tb);var t,n,r=G.hasAttribute("style"),i=G.style,s=i.borderTopStyle,a=$.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",P.m=Math.round((t=tr(G)).top+P.sc())||0,R.m=Math.round(t.left+R.sc())||0,s?i.borderTopStyle=s:i.removeProperty("border-top-style"),r||(G.setAttribute("style",""),G.removeAttribute("style")),Q=setInterval(t_,250),$.delayedCall(.5,function(){return eI=0}),tl(H,"touchcancel",eN),tl(G,"touchstart",eN),to(tl,H,"pointerdown,touchstart,mousedown",eP),to(tl,H,"pointerup,touchend,mouseup",eD),en=$.utils.checkPrefix("transform"),tB.push(en),V=eC(),Z=$.delayedCall(.2,tN).pause(),ea=[H,"visibilitychange",function(){var e=W.innerWidth,t=W.innerHeight;H.hidden?(ei=e,es=t):(ei!==e||es!==t)&&tS()},H,"DOMContentLoaded",tN,W,"load",tN,W,"resize",tS],eW(tl),tv.forEach(function(e){return e.enable(0,1)}),n=0;n<_.length;n+=3)tc(tu,_[n],_[n+1]),tc(tu,_[n],_[n+2])}},e.config=function(t){"limitCallbacks"in t&&(ew=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(Q)||(Q=n)&&setInterval(t_,n),"ignoreMobileResize"in t&&(ed=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(eW(tu)||eW(tl,t.autoRefreshEvents||"none"),eu=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=D(e),r=_.indexOf(n),i=ej(n);~r&&_.splice(r,i?6:2),t&&(i?b.unshift(W,t,G,t,q,t):b.unshift(n,t))},e.clearMatchMedia=function(e){tv.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(eH(e)?D(e):e).getBoundingClientRect(),i=r[n?e1:e2]*t||0;return n?r.right-i>0&&r.left+i<W.innerWidth:r.bottom-i>0&&r.top+i<W.innerHeight},e.positionInViewport=function(e,t,n){eH(e)&&(e=D(e));var r=e.getBoundingClientRect(),i=r[n?e1:e2],s=null==t?i/2:t in tp?tp[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+s)/W.innerWidth:(r.top+s)/W.innerHeight},e.killAll=function(e){if(tv.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=tk.killAll||[];tk={},t.forEach(function(e){return e()})}},e}()).version="3.12.7",t0.saveStyles=function(e){return e?J(e).forEach(function(e){if(e&&e.style){var t=tC.indexOf(e);t>=0&&tC.splice(t,5),tC.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$.core.getCache(e),eg())}}):tC},t0.revert=function(e,t){return tA(!e,t)},t0.create=function(e,t){return new t0(e,t)},t0.refresh=function(e){return e?tS(!0):(V||t0.register())&&tN(!0)},t0.update=function(e){return++_.cache&&tU(2*(!0===e))},t0.clearScrollMemory=tM,t0.maxScroll=function(e,t){return eV(e,t?R:P)},t0.getScrollFunc=function(e,t){return N(D(e),t?R:P)},t0.getById=function(e){return ty[e]},t0.getAll=function(){return tv.filter(function(e){return"ScrollSmoother"!==e.vars.id})},t0.isScrolling=function(){return!!eA},t0.snapDirectional=ta,t0.addEventListener=function(e,t){var n=tk[e]||(tk[e]=[]);~n.indexOf(t)||n.push(t)},t0.removeEventListener=function(e,t){var n=tk[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},t0.batch=function(e,t){var n,r=[],i={},s=t.interval||.016,a=t.batchMax||1e9,o=function(e,t){var n=[],r=[],i=$.delayedCall(s,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),a<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&eq(t[n])&&"onRefreshInit"!==n?o(n,t[n]):t[n];return eq(a)&&(a=a(),tl(t0,"refresh",function(){return a=t.batchMax()})),J(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(t0.create(t))}),r},t2=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},t3=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(z.isTouch?" pinch-zoom":""):"none",t===q&&e(G,n)},t5={auto:1,scroll:1},t6=function(e){var t,n=e.event,r=e.target,i=e.axis,s=(n.changedTouches?n.changedTouches[0]:n).target,a=s._gsap||$.core.getCache(s),o=eC();if(!a._isScrollT||o-a._isScrollT>2e3){for(;s&&s!==G&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(t5[(t=te(s)).overflowY]||t5[t.overflowX]));)s=s.parentNode;a._isScroll=s&&s!==r&&!ej(s)&&(t5[(t=te(s)).overflowY]||t5[t.overflowX]),a._isScrollT=o}(a._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},t4=function(e,t,n,r){return z.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&t6,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&tl(H,z.eventTypes[0],t7,!1,!0)},onDisable:function(){return tu(H,z.eventTypes[0],t7,!0)}})},t8=/(input|label|select|textarea)/i,t7=function(e){var t=t8.test(e.target.tagName);(t||t1)&&(e._gsapAllow=!0,t1=t)},t9=function(e){eK(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,s,a,o,l,u=e,c=u.normalizeScrollX,d=u.momentum,h=u.allowNestedScroll,p=u.onRelease,f=D(e.target)||q,g=$.core.globals().ScrollSmoother,m=g&&g.get(),v=ef&&(e.content&&D(e.content)||m&&!1!==e.content&&!m.smooth()&&m.content()),y=N(f,P),b=N(f,R),w=1,S=(z.isTouch&&W.visualViewport?W.visualViewport.scale*W.visualViewport.width:W.outerWidth)/W.innerWidth,k=0,E=eq(d)?function(){return d(t)}:function(){return d||2.8},T=t4(f,e.type,!0,h),I=function(){return i=!1},C=eN,x=eN,A=function(){n=eV(f,P),x=X(+!!ef,n),c&&(C=X(0,eV(f,R))),r=tO},M=function(){v._gsap.y=eL(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},O=function(){if(i){requestAnimationFrame(I);var e=eL(t.deltaY/2),n=x(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=eL((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=_.cache,tU()}return!0}y.offset&&M(),i=!0},L=function(){A(),s.isActive()&&s.vars.scrollY>n&&(y()>n?s.progress(1)&&y(n):s.resetTo("scrollY",n))};return v&&$.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return ef&&"touchmove"===e.type&&O()||w>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=w;w=eL((W.visualViewport&&W.visualViewport.scale||1)/S),s.pause(),e!==w&&t3(f,w>1.01||!c&&"x"),a=b(),o=y(),A(),r=tO},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&M(),t){_.cache++;var r,i,a=E();c&&(i=(r=b())+-(.05*a*e.velocityX)/.227,a*=t2(b,r,i,eV(f,R)),s.vars.scrollX=C(i)),i=(r=y())+-(.05*a*e.velocityY)/.227,a*=t2(y,r,i,eV(f,P)),s.vars.scrollY=x(i),s.invalidate().duration(a).play(.01),(ef&&s.vars.scrollY>=n||r>=n-1)&&$.to({},{onUpdate:L,duration:a})}else l.restart(!0);p&&p(e)},e.onWheel=function(){s._ts&&s.pause(),eC()-k>1e3&&(r=0,k=eC())},e.onChange=function(e,t,n,i,s){if(tO!==r&&A(),t&&c&&b(C(i[2]===t?a+(e.startX-e.x):b()+t-i[1])),n){y.offset&&M();var l=s[2]===n,u=l?o+e.startY-e.y:y()+n-s[1],d=x(u);l&&u!==d&&(o+=d-u),y(d)}(n||t)&&tU()},e.onEnable=function(){t3(f,!c&&"x"),t0.addEventListener("refresh",L),tl(W,"resize",L),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=b.smooth=!1),T.enable()},e.onDisable=function(){t3(f,!0),tu(W,"resize",L),t0.removeEventListener("refresh",L),T.kill()},e.lockAxis=!1!==e.lockAxis,(t=new z(e)).iOS=ef,ef&&!y()&&y(1),ef&&$.ticker.add(eN),l=t._dc,s=$.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:c?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:tX(y,y(),function(){return s.pause()})},onUpdate:tU,onComplete:l.vars.onComplete}),t},t0.sort=function(e){if(eq(e))return tv.sort(e);var t=W.pageYOffset||0;return t0.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+W.innerHeight}),tv.sort(e||function(e,t){return -1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},t0.observe=function(e){return new z(e)},t0.normalizeScroll=function(e){if(void 0===e)return ec;if(!0===e&&ec)return ec.enable();if(!1===e){ec&&ec.kill(),ec=e;return}var t=e instanceof z?e:t9(e);return ec&&ec.target===t.target&&ec.kill(),ej(t.target)&&(ec=t),t},t0.core={_getVelocityProp:L,_inputObserver:t4,_scrollers:_,_proxies:b,bridge:{ss:function(){eA||tI("scrollStart"),eA=eC()},ref:function(){return ee}}},eU()&&$.registerPlugin(t0),n.ScrollTrigger=t0,n.default=t0,"undefined"==typeof window||window!==n?Object.defineProperty(n,"__esModule",{value:!0}):delete window.default},2229:(e,t,n)=>{"use strict";n.d(t,{KU:()=>h,m6:()=>c,o5:()=>l,rm:()=>u,v4:()=>d,vn:()=>p});var r=n(4788),i=n(7509),s=n(4121),a=n(120),o=n(8530);function l(){let e=(0,i.E)();return(0,r.h)(e).getCurrentScope()}function u(){let e=(0,i.E)();return(0,r.h)(e).getIsolationScope()}function c(){return(0,o.B)("globalScope",()=>new s.H)}function d(...e){let t=(0,i.E)(),n=(0,r.h)(t);if(2===e.length){let[t,r]=e;return t?n.withSetScope(t,r):n.withScope(r)}return n.withScope(e[0])}function h(){return l().getClient()}function p(e){let{traceId:t,spanId:n,parentSpanId:r}=e.getPropagationContext();return(0,a.Ce)({trace_id:t,span_id:n,parent_span_id:r})}},2356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._typedJsonParse=void 0;let r=n(1414);t._typedJsonParse=function(e,t,n){try{let n=JSON.parse(e);if(n&&"object"==typeof n&&t in n)return n}catch(e){}return r.Log.error(`Failed to parse ${n}`),null}},2367:(e,t,n)=>{e.exports=n(6633)},2399:(e,t,n)=>{"use strict";n.d(t,{LZ:()=>d,ao:()=>p,k1:()=>f});var r=n(8032),i=n(2229),s=n(5838),a=n(9915),o=n(120),l=n(4724),u=n(9542);let c="_frozenDsc";function d(e,t){(0,o.my)(e,c,t)}function h(e,t){let n=t.getOptions(),{publicKey:i}=t.getDsn()||{},s=(0,o.Ce)({environment:n.environment||r.U,release:n.release,public_key:i,trace_id:e});return t.emit("createDsc",s),s}function p(e,t){let n=t.getPropagationContext();return n.dsc||h(n.traceId,e)}function f(e){let t=(0,i.KU)();if(!t)return{};let n=(0,u.zU)(e),r=n[c];if(r)return r;let o=n.spanContext().traceState,d=o&&o.get("sentry.dsc"),p=d&&(0,a.yD)(d);if(p)return p;let f=h(e.spanContext().traceId,t),g=(0,u.et)(n),m=g.data||{},v=m[s.sy];null!=v&&(f.sample_rate=`${v}`);let y=m[s.i_],_=g.description;return"url"!==y&&_&&(f.transaction=_),(0,l.w)()&&(f.sampled=String((0,u.pK)(n))),t.emit("createDsc",f,n),f}},2402:(e,t,n)=>{"use strict";n.d(t,{RV:()=>d,gd:()=>a,qQ:()=>c,vk:()=>o,yF:()=>r});let r="?",i=/\(error: (.*)\)/,s=/captureMessage|captureException/;function a(...e){let t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,a=0)=>{let o=[],u=e.split("\n");for(let e=n;e<u.length;e++){let n=u[e];if(n.length>1024)continue;let r=i.test(n)?n.replace(i,"$1"):n;if(!r.match(/\S*Error: /)){for(let e of t){let t=e(r);if(t){o.push(t);break}}if(o.length>=50+a)break}}return function(e){if(!e.length)return[];let t=Array.from(e);return/sentryWrapped/.test(l(t).function||"")&&t.pop(),t.reverse(),s.test(l(t).function||"")&&(t.pop(),s.test(l(t).function||"")&&t.pop()),t.slice(0,50).map(e=>({...e,filename:e.filename||l(t).filename,function:e.function||r}))}(o.slice(a))}}function o(e){return Array.isArray(e)?a(...e):e}function l(e){return e[e.length-1]||{}}let u="<anonymous>";function c(e){try{if(!e||"function"!=typeof e)return u;return e.name||u}catch(e){return u}}function d(e){let t=e.exception;if(t){let e=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&e.push(...t.stacktrace.frames)}),e}catch(e){}}}},2419:(e,t,n)=>{"use strict";n.d(t,{BD:()=>o,Kg:()=>u,L2:()=>_,NF:()=>c,Qd:()=>h,Qg:()=>m,T2:()=>a,W6:()=>l,bJ:()=>i,gd:()=>g,mE:()=>v,sO:()=>d,tH:()=>y,vq:()=>f,xH:()=>p});let r=Object.prototype.toString;function i(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return y(e,Error)}}function s(e,t){return r.call(e)===`[object ${t}]`}function a(e){return s(e,"ErrorEvent")}function o(e){return s(e,"DOMError")}function l(e){return s(e,"DOMException")}function u(e){return s(e,"String")}function c(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||c(e)||"object"!=typeof e&&"function"!=typeof e}function h(e){return s(e,"Object")}function p(e){return"undefined"!=typeof Event&&y(e,Event)}function f(e){return"undefined"!=typeof Element&&y(e,Element)}function g(e){return s(e,"RegExp")}function m(e){return!!(e&&e.then&&"function"==typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function _(e){return!!("object"==typeof e&&null!==e&&(e.__isVue||e._isVue))}},2460:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,t:()=>l});var r=n(9589),i=n(3870),s=n(2023),a=n(957);function o(e,t,n,{computeHandlingStack:r}={}){let l=e[t];if("function"!=typeof l){if(!(t in e&&t.startsWith("on")))return{stop:s.l};l=s.l}let u=!1,c=function(){let e;if(u)return l.apply(this,arguments);let t=Array.from(arguments);(0,i.um)(n,null,[{target:this,parameters:t,onPostCall:t=>{e=t},handlingStack:r?(0,a.uC)():void 0}]);let s=l.apply(this,t);return e&&(0,i.um)(e,null,[s]),s};return e[t]=c,{stop:()=>{u=!0,e[t]===c&&(e[t]=l)}}}function l(e,t,n){let i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i.set||!i.configurable)return{stop:s.l};let a=s.l,o=(e,t)=>{(0,r.wg)(()=>{o!==a&&n(e,t)},0)},l=function(e){i.set.call(this,e),o(this,e)};return Object.defineProperty(e,t,{set:l}),{stop:()=>{var n;(null===(n=Object.getOwnPropertyDescriptor(e,t))||void 0===n?void 0:n.set)===l&&Object.defineProperty(e,t,i),o=a}}}},2510:(e,t,n)=>{"use strict";let r;n.d(t,{i:()=>u});var i=n(2460),s=n(3870),a=n(565),o=n(7132),l=n(6692);function u(){return r||(r=new a.c(e=>{if(!window.fetch)return;let{stop:t}=(0,i.H)(window,"fetch",t=>(function({parameters:e,onPostCall:t,handlingStack:n},r){let[i,a]=e,u=a&&a.method;void 0===u&&i instanceof Request&&(u=i.method);let c=void 0!==u?String(u).toUpperCase():"GET",d=i instanceof Request?i.url:(0,l.l2)(String(i)),h={state:"start",init:a,input:i,method:c,startClocks:(0,o.M8)(),url:d,handlingStack:n};r.notify(h),e[0]=h.input,e[1]=h.init,t(e=>(function(e,t,n){function r(t){n.state="resolve",Object.assign(n,t),e.notify(n)}t.then((0,s.dm)(e=>{r({response:e,responseType:e.type,status:e.status,isAborted:!1})}),(0,s.dm)(e=>{var t,i;r({status:0,isAborted:(null===(i=null===(t=n.init)||void 0===t?void 0:t.signal)||void 0===i?void 0:i.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))})(r,e,h))})(t,e),{computeHandlingStack:!0});return t})),r}},2529:(e,t,n)=>{"use strict";let r,i;n.d(t,{MF:()=>L,j6:()=>R,xZ:()=>P,om:()=>O,Sx:()=>U,Dk:()=>j,Wp:()=>F,KO:()=>z});var s=n(1259),a=n(227),o=n(1107);let l=(e,t)=>t.some(t=>e instanceof t),u=new WeakMap,c=new WeakMap,d=new WeakMap,h=new WeakMap,p=new WeakMap,f={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return g(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){if(e instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(g(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&u.set(t,e)}).catch(()=>{}),p.set(t,e),t}(e);if(h.has(e))return h.get(e);let t=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),g(u.get(this))}:function(...t){return g(e.apply(m(this),t))}:function(t,...n){let r=e.call(m(this),t,...n);return d.set(r,t.sort?t.sort():[t]),g(r)};return(e instanceof IDBTransaction&&function(e){if(c.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});c.set(e,t)}(e),l(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,f):e}(e);return t!==e&&(h.set(e,t),p.set(t,e)),t}let m=e=>p.get(e),v=["get","getKey","getAll","getAllKeys","count"],y=["put","add","delete","clear"],_=new Map;function b(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(_.get(t))return _.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=y.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return _.set(t,s),s}f=(e=>({...e,get:(t,n,r)=>b(t,n)||e.get(t,n,r),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(f);class w{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let S="@firebase/app",k="0.10.17",E=new a.Vy("@firebase/app"),T="[DEFAULT]",I={[S]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},C=new Map,x=new Map,A=new Map;function M(e,t){try{e.container.addComponent(t)}catch(n){E.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function O(e){let t=e.name;if(A.has(t))return E.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(A.set(t,e),C.values()))M(n,e);for(let t of x.values())M(t,e);return!0}function R(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function P(e){return void 0!==e.settings}let D=new o.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class N{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw D.create("app-deleted",{appName:this._name})}}let L="11.1.0";function F(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:T,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw D.create("bad-app-name",{appName:String(i)});if(n||(n=(0,o.T9)()),!n)throw D.create("no-options");let a=C.get(i);if(a){if((0,o.bD)(n,a.options)&&(0,o.bD)(r,a.config))return a;throw D.create("duplicate-app",{appName:i})}let l=new s.h1(i);for(let e of A.values())l.addComponent(e);let u=new N(n,r,l);return C.set(i,u),u}function U(e=T){let t=C.get(e);if(!t&&e===T&&(0,o.T9)())return F();if(!t)throw D.create("no-app",{appName:e});return t}function j(){return Array.from(C.values())}async function B(e){let t=!1,n=e.name;C.has(n)?(t=!0,C.delete(n)):x.has(n)&&0>=e.decRefCount()&&(x.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function z(e,t,n){var r;let i=null!==(r=I[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){let e=[`Unable to register library "${i}" with version "${t}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),E.warn(e.join(" "));return}O(new s.uA(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}let $="firebase-heartbeat-store",V=null;function W(){return V||(V=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=g(a);return r&&a.addEventListener("upgradeneeded",e=>{r(g(a.result),e.oldVersion,e.newVersion,g(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($)}catch(e){console.warn(e)}}}).catch(e=>{throw D.create("idb-open",{originalErrorMessage:e.message})})),V}async function H(e){try{let t=(await W()).transaction($),n=await t.objectStore($).get(G(e));return await t.done,n}catch(e){if(e instanceof o.g)E.warn(e.message);else{let t=D.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}async function q(e,t){try{let n=(await W()).transaction($,"readwrite"),r=n.objectStore($);await r.put(t,G(e)),await n.done}catch(e){if(e instanceof o.g)E.warn(e.message);else{let t=D.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});E.warn(t.message)}}}function G(e){return`${e.name}!${e.options.appId}`}class K{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new J(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Z();if((null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(e){E.warn(e)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=Z(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),X(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),X(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,o.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return E.warn(e),""}}}function Z(){return new Date().toISOString().substring(0,10)}class J{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.zW)()&&(0,o.eX)().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await H(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return q(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return q(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function X(e){return(0,o.Uj)(JSON.stringify({version:2,heartbeats:e})).length}O(new s.uA("platform-logger",e=>new w(e),"PRIVATE")),O(new s.uA("heartbeat",e=>new K(e),"PRIVATE")),z(S,k,""),z(S,k,"esm2017"),z("fire-js","")},2541:function(e,t,n){"use strict";let r;var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalytics=function(e){let{gaId:t,debugMode:n,dataLayerName:i="dataLayer",nonce:l}=e;return void 0===r&&(r=i),(0,a.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:`
          window['${i}'] = window['${i}'] || [];
          function gtag(){window['${i}'].push(arguments);}
          gtag('js', new Date());

          gtag('config', '${t}' ${n?",{ 'debug_mode': true }":""});`},nonce:l}),(0,s.jsx)(o.default,{id:"_next-ga",src:`https://www.googletagmanager.com/gtag/js?id=${t}`,nonce:l})]})},t.sendGAEvent=function(...e){if(void 0===r){console.warn("@next/third-parties: GA has not been initialized");return}window[r]?window[r].push(arguments):console.warn(`@next/third-parties: GA dataLayer ${r} does not exist`)};let s=n(6594),a=n(7178),o=i(n(3490))},2584:(e,t,n)=>{"use strict";n.d(t,{AD:()=>u,SB:()=>a,hH:()=>o});var r=n(8051),i=n(5587);let s=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function a(e,t=!1){let{host:n,path:r,pass:i,port:s,projectId:o,protocol:l,publicKey:u}=e;return`${l}://${u}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${o}`}function o(e){let t=s.exec(e);if(!t){(0,i.pq)(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}let[n,r,a="",o="",u="",c=""]=t.slice(1),d="",h=c,p=h.split("/");if(p.length>1&&(d=p.slice(0,-1).join("/"),h=p.pop()),h){let e=h.match(/^\d+/);e&&(h=e[0])}return l({host:o,pass:a,path:d,projectId:h,port:u,protocol:n,publicKey:r})}function l(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function u(e){let t="string"==typeof e?o(e):l(e);if(t&&function(e){if(!r.T)return!0;let{port:t,projectId:n,protocol:s}=e;return!["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(i.vF.error(`Invalid Sentry Dsn: ${t} missing`),!0))&&(n.match(/^\d+$/)?"http"!==s&&"https"!==s?(i.vF.error(`Invalid Sentry Dsn: Invalid protocol ${s}`),!1):!(t&&isNaN(parseInt(t,10)))||(i.vF.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(i.vF.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},2621:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7178),i=n(9555);function s(){let e=(0,i.R)(),[t,n]=r.useState(void 0);return r.useEffect(()=>{null!=e&&n(e.isEnabled("sesame_com_login"))},[e]),t}},2649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._makeParamStoreGetter=void 0;let r=n(460),i={disableExposureLog:!0};function s(e){return null==e||!1===e.disableExposureLog}function a(e,t){return null!=t&&!(0,r._isTypeMatch)(e,t)}t._makeParamStoreGetter=function(e,t,n){return(o,l)=>{if(null==t)return l;let u=t[o];if(null==u||null!=l&&(0,r._typeOf)(l)!==u.param_type)return l;switch(u.ref_type){case"static":return u.value;case"gate":return e.getFeatureGate(u.gate_name,s(n)?void 0:i).value?u.pass_value:u.fail_value;case"dynamic_config":return function(e,t,n,r){let o=e.getDynamicConfig(t.config_name,i).get(t.param_name);return a(o,n)?n:(s(r)&&e.getDynamicConfig(t.config_name),o)}(e,u,l,n);case"experiment":return function(e,t,n,r){let o=e.getExperiment(t.experiment_name,i).get(t.param_name);return a(o,n)?n:(s(r)&&e.getExperiment(t.experiment_name),o)}(e,u,l,n);case"layer":return function(e,t,n,r){let o=e.getLayer(t.layer_name,i).get(t.param_name);return a(o,n)?n:(s(r)&&e.getLayer(t.layer_name).get(t.param_name),o)}(e,u,l,n);default:return l}}}},2670:(e,t,n)=>{"use strict";n.d(t,{ZF:()=>s,el:()=>i});var r=n(3399);function i(){return(0,r.eJ)()}function s(){return(0,r.eJ)().substring(16)}},2677:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2732:(e,t,n)=>{"use strict";var r=n(7178),i=n(9388),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=r.useRef,l=r.useEffect,u=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;var p=a(e,(d=u(function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,s(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?(a=e,t):(a=e,o=n)}var a,o,l=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,i]))[0],d[1]);return l(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},2845:(e,t,n)=>{"use strict";n.d(t,{$N:()=>a,Hd:()=>s,NX:()=>o,xE:()=>l});var r=n(2419);let i=n(8530).O;function s(e,t={}){if(!e)return"<unknown>";try{let n,s=e,a=[],o=0,l=0,u=Array.isArray(t)?t:t.keyAttrs,c=!Array.isArray(t)&&t.maxStringLength||80;for(;s&&o++<5&&(n=function(e,t){let n=[];if(!e||!e.tagName)return"";if(i.HTMLElement&&e instanceof HTMLElement&&e.dataset){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}n.push(e.tagName.toLowerCase());let s=t&&t.length?t.filter(t=>e.getAttribute(t)).map(t=>[t,e.getAttribute(t)]):null;if(s&&s.length)s.forEach(e=>{n.push(`[${e[0]}="${e[1]}"]`)});else{e.id&&n.push(`#${e.id}`);let t=e.className;if(t&&(0,r.Kg)(t))for(let e of t.split(/\s+/))n.push(`.${e}`)}for(let t of["aria-label","type","name","title","alt"]){let r=e.getAttribute(t);r&&n.push(`[${t}="${r}"]`)}return n.join("")}(s,u),"html"!==n&&(!(o>1)||!(l+3*a.length+n.length>=c)));)a.push(n),l+=n.length,s=s.parentNode;return a.reverse().join(" > ")}catch(e){return"<unknown>"}}function a(){try{return i.document.location.href}catch(e){return""}}function o(e){return i.document&&i.document.querySelector?i.document.querySelector(e):null}function l(e){if(!i.HTMLElement)return null;let t=e;for(let e=0;e<5&&t;e++){if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},3091:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(8976);function i(){let e=[];return{add:t=>{e.push(t)>500&&e.splice(0,1)},remove:t=>{(0,r.A)(e,t)},drain:t=>{e.forEach(e=>e(t)),e.length=0}}}},3096:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._notifyVisibilityChanged=t._subscribeToVisiblityChanged=t._isUnloading=t._isCurrentlyVisible=void 0;let r=n(9539),i="foreground",s="background",a=[],o=i,l=!1;t._isCurrentlyVisible=()=>o===i,t._isUnloading=()=>l,t._subscribeToVisiblityChanged=e=>{a.unshift(e)},t._notifyVisibilityChanged=e=>{e!==o&&(o=e,a.forEach(t=>t(e)))},(0,r._addWindowEventListenerSafe)("focus",()=>{l=!1,(0,t._notifyVisibilityChanged)(i)}),(0,r._addWindowEventListenerSafe)("blur",()=>(0,t._notifyVisibilityChanged)(s)),(0,r._addWindowEventListenerSafe)("beforeunload",()=>{l=!0,(0,t._notifyVisibilityChanged)(s)}),(0,r._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,t._notifyVisibilityChanged)("visible"===document.visibilityState?i:s)})},3220:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3228:()=>{},3291:(e,t,n)=>{"use strict";let r,i,s,a,o,l,u,c,d;n.d(t,{eT:()=>e5,o:()=>e3,$m:()=>e0,NT:()=>e1,Wd:()=>e2,yF:()=>tf,wI:()=>eY,W3:()=>eo,PJ:()=>e4,dT:()=>e7,$4:()=>eQ,Gn:()=>t7,zL:()=>t9,dx:()=>nC,rf:()=>tn,pB:()=>nt,wR:()=>eX,g1:()=>ne,YR:()=>eN,XS:()=>eZ,p_:()=>eJ,AB:()=>en,jR:()=>e8,jK:()=>eL,Ie:()=>e9,rJ:()=>nT});var h,p=n(4347),f=n(7627),g=n(9294),m=n(4864),v=n(1920),y=n(3870),_=n(16),b=n(3539),w=n(7982),S=n(957),k=n(8453),E=n(7132),T=n(4912),I=n(3703),C=n(5004);function x({vitalsByName:e,vitalsByReference:t},n,r={}){let i={name:n,startClocks:(0,E.M8)(),context:r.context,description:r.description},s={__dd_vital_reference:!0};return e.set(n,i),t.set(s,i),s}function A(e,{vitalsByName:t,vitalsByReference:n},r,i={}){let s="string"==typeof r?t.get(r):n.get(r);if(s){var a,o,l,u,c;e((a=s,o=s.startClocks,l=i,u=(0,E.M8)(),{name:a.name,type:"duration",startClocks:o,duration:(0,E.vk)(o.timeStamp,u.timeStamp),context:(0,w.kg)(a.context,l.context),description:null!==(c=l.description)&&void 0!==c?c:a.description})),"string"==typeof r?t.delete(r):n.delete(r)}}function M(e,t,n){if(e)for(let r of e){let e=r[t];e&&e(n)}}var O=n(3091),R=n(115),P=n(8778),D=n(2023),N=n(2510),L=n(4185),F=n(9986),U=n(3804),j=n(6924),B=n(3506),z=n(3511);function $(e){let t=(0,z.P)(e);return"string"===t||"function"===t||e instanceof RegExp}function V(e,t,n=!1){return e.some(e=>{try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return n?t.startsWith(e):e===t}catch(e){P.Vy.error(e)}return!1})}var W=n(8410);function H(){return window.crypto||window.msCrypto}function q(e){return r||(r=(0,L.sr)(L.R9.CONSISTENT_TRACE_SAMPLING)&&function(){try{return crypto.getRandomValues(new BigUint64Array(1)),!0}catch(e){return!1}}()?G:K),r(e)}function G(e){let t=crypto.getRandomValues(new BigUint64Array(1))[0];return 63===e&&(t>>=BigInt("1")),t}function K(e){let t=H().getRandomValues(new Uint32Array(2));return 63===e&&(t[t.length-1]>>>=1),{toString(e=10){let n=t[1],r=t[0],i="";do{let t=n%e*0x100000000+r;n=Math.floor(n/e),r=Math.floor(t/e),i=(t%e).toString(e)+i}while(n||r);return i}}}function Z(e){let t=e.toString(16);return Array(17-t.length).join("0")+t}function J(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function X(e,t,n,r){if(void 0===H()||!n.findTrackedSession())return;let i=e.allowedTracingUrls.find(e=>V([e.match],t.url,!0));if(!i)return;let s=q(64);t.traceSampled=function(e,t){if(100===t)return!0;if(0===t)return!1;if("bigint"!=typeof e)return(0,j.ic)(t);let n=BigInt("1111111111111111111"),r=BigInt("0x10000000000000000");return Number(e*n%r)<=t/100*Number(r)}(s,e.traceSampleRate),(t.traceSampled||e.traceContextInjection===U.uT.ALL)&&(t.traceId=s,t.spanId=q(63),r(function(e,t,n,r){let i={};return r.forEach(r=>{switch(r){case"datadog":Object.assign(i,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":n?"1":"0","x-datadog-trace-id":e.toString()});break;case"tracecontext":Object.assign(i,{traceparent:`00-0000000000000000${Z(e)}-${Z(t)}-0${n?"1":"0"}`,tracestate:`dd=s:${n?"1":"0"};o:rum`});break;case"b3":Object.assign(i,{b3:`${Z(e)}-${Z(t)}-${n?"1":"0"}`});break;case"b3multi":Object.assign(i,{"X-B3-TraceId":Z(e),"X-B3-SpanId":Z(t),"X-B3-Sampled":n?"1":"0"})}}),i}(t.traceId,t.spanId,t.traceSampled,i.propagatorTypes)))}let Y=["tracecontext","datadog"];var Q=n(5572),ee=n(4166);function et(){P.Vy.error("Error fetching the remote configuration.")}function en(e,t,n={}){let r=(0,p.qR)(0),i=(0,f.D)(r.getOrCreateTracker(2)),s=(0,f.D)(r.getOrCreateTracker(1)),a=(0,g.D)(),o={vitalsByName:new Map,vitalsByReference:new WeakMap};function l(){return{context:i.getContext(),user:s.getContext(),hasReplay:!!t.isRecording()||void 0}}let u=function({ignoreInitIfSyntheticsWillInjectRum:e,startDeflateWorker:t},n,r,i,s){let a,o,l,u;let c=(0,O.O)(),d=r.observable.subscribe(p),h={};function p(){let e;if(!l||!u||!r.isGranted())return;if(d.unsubscribe(),u.trackViewsManually){if(!a)return;c.remove(a.callback),e=a.options}let t=s(u,o,e);c.drain(t)}function f(e){var n,i,s;let a=(0,R.d0)();if(a&&(e={...n=e,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!==(i=n.defaultPrivacyLevel)&&void 0!==i?i:null===(s=(0,R.Y9)())||void 0===s?void 0:s.getPrivacyLevel()}),l=e,(0,_.Rr)(function(e){var t;let n=(0,U.hO)(e);return{session_replay_sample_rate:e.sessionReplaySampleRate,start_session_replay_recording_manually:e.startSessionReplayRecordingManually,trace_sample_rate:e.traceSampleRate,trace_context_injection:e.traceContextInjection,action_name_attribute:e.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0,selected_tracing_propagators:function(e){let t=new Set;return Array.isArray(e.allowedTracingUrls)&&e.allowedTracingUrls.length>0&&e.allowedTracingUrls.forEach(e=>{$(e)?Y.forEach(e=>t.add(e)):"object"===(0,z.P)(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(e=>t.add(e))}),Array.from(t)}(e),default_privacy_level:e.defaultPrivacyLevel,enable_privacy_for_action_name:e.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(e.excludedActivityUrls)&&e.excludedActivityUrls.length>0,use_worker_url:!!e.workerUrl,compress_intake_requests:e.compressIntakeRequests,track_views_manually:e.trackViewsManually,track_user_interactions:e.trackUserInteractions,track_resources:e.trackResources,track_long_task:e.trackLongTasks,plugins:null===(t=e.plugins)||void 0===t?void 0:t.map(e=>{var t;return{name:e.name,...null===(t=e.getConfigurationTelemetry)||void 0===t?void 0:t.call(e)}}),track_feature_flags_for_events:e.trackFeatureFlagsForEvents,...n}}(e)),u){(0,I.$)("DD_RUM",e);return}let c=function(e){var t,n,r,i,s,a;if(void 0===e.trackFeatureFlagsForEvents||Array.isArray(e.trackFeatureFlagsForEvents)||P.Vy.warn("trackFeatureFlagsForEvents should be an array"),!e.applicationId){P.Vy.error("Application ID is not configured, no RUM data will be collected.");return}if(!(0,U.bX)(e.sessionReplaySampleRate,"Session Replay")||!(0,U.bX)(e.traceSampleRate,"Trace"))return;if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls)){P.Vy.error("Excluded Activity Urls should be an array");return}let o=function(e){if(void 0===e.allowedTracingUrls)return[];if(!Array.isArray(e.allowedTracingUrls)){P.Vy.error("Allowed Tracing URLs should be an array");return}if(0!==e.allowedTracingUrls.length&&void 0===e.service){P.Vy.error("Service needs to be configured when tracing is enabled");return}let t=[];return e.allowedTracingUrls.forEach(e=>{if($(e))t.push({match:e,propagatorTypes:Y});else"object"===(0,z.P)(e)&&$(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):P.Vy.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}(e);if(!o)return;let l=(0,U.Sz)(e);if(!l)return;let u=null!==(t=e.sessionReplaySampleRate)&&void 0!==t?t:0;return{applicationId:e.applicationId,version:e.version||void 0,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:u,startSessionReplayRecordingManually:void 0!==e.startSessionReplayRecordingManually?!!e.startSessionReplayRecordingManually:0===u,traceSampleRate:null!==(n=e.traceSampleRate)&&void 0!==n?n:100,rulePsr:(0,j.Et)(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:o,excludedActivityUrls:null!==(r=e.excludedActivityUrls)&&void 0!==r?r:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!(null===(i=e.trackUserInteractions)||void 0===i||i),trackViewsManually:!!e.trackViewsManually,trackResources:!!(null===(s=e.trackResources)||void 0===s||s),trackLongTasks:!!(null===(a=e.trackLongTasks)||void 0===a||a),subdomain:e.subdomain,defaultPrivacyLevel:(0,B.Rj)(U.WA,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:U.WA.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:(0,B.Rj)(U.uT,e.traceContextInjection)?e.traceContextInjection:U.uT.SAMPLED,plugins:e.plugins||[],trackFeatureFlagsForEvents:e.trackFeatureFlagsForEvents||[],...l}}(e);if(c){if(!a&&!c.sessionStoreStrategyType){P.Vy.warn("No storage available for session. We will not send any data.");return}(!c.compressIntakeRequests||a||!t||(o=t(c,"Datadog RUM",D.l)))&&(u=c,(0,N.i)().subscribe(D.l),r.tryToInit(c.trackingConsent),p())}}let g=e=>{c.add(t=>t.addDurationVital(e))};return{init(t,n){if(!t){P.Vy.error("Missing configuration");return}if((0,L.Aq)(t.enableExperimentalFeatures),l=t,!(e&&(0,F.ao)())){if(M(t.plugins,"onInit",{initConfiguration:t,publicApi:n}),t.remoteConfigurationId&&(0,L.sr)(L.R9.REMOTE_CONFIGURATION))(function(e,t){var n;let r=new XMLHttpRequest;(0,Q.q)(e,r,"load",function(){200===r.status?t(JSON.parse(r.responseText).rum):et()}),(0,Q.q)(e,r,"error",function(){et()}),r.open("GET",(n=e,`https://sdk-configuration.${(0,ee.G)("rum",n)}/v1/${encodeURIComponent(n.remoteConfigurationId)}.json`)),r.send()})(t,e=>{var n,r;f((n=t,r=e,{...n,...r}))});else f(t)}},get initConfiguration(){return l},getInternalContext:D.l,stopSession:D.l,addTiming(e,t=(0,E.nx)()){c.add(n=>n.addTiming(e,t))},startView(e,t=(0,E.M8)()){let n=n=>{n.startView(e,t)};c.add(n),a||(a={options:e,callback:n},p())},setViewName(e){c.add(t=>t.setViewName(e))},setViewContext(e){c.add(t=>t.setViewContext(e))},setViewContextProperty(e,t){c.add(n=>n.setViewContextProperty(e,t))},getViewContext:()=>h,addAction(e,t=n()){c.add(n=>n.addAction(e,t))},addError(e,t=n()){c.add(n=>n.addError(e,t))},addFeatureFlagEvaluation(e,t){c.add(n=>n.addFeatureFlagEvaluation(e,t))},startDurationVital:(e,t)=>x(i,e,t),stopDurationVital(e,t){A(g,i,e,t)},addDurationVital:g}}(n,l,a,o,(c,d,h)=>{var p,f;c.storeContextsAcrossPages&&((0,m.Ck)(c,i,"rum",2),(0,m.Ck)(c,s,"rum",1)),r.setCompressionStatus(d?1:2);let g=e(c,t,r,l,h,d&&n.createDeflateEncoder?e=>n.createDeflateEncoder(c,d,e):v.N,a,o);return t.onRumStart(g.lifeCycle,c,g.session,g.viewHistory,d),p=u,f=g,u={init:e=>{(0,I.$)("DD_RUM",e)},initConfiguration:p.initConfiguration,...f},M(c.plugins,"onRumStart",{strategy:u}),g}),c=(0,y.dm)(e=>{let t="object"==typeof e?e:{name:e};t.context&&r.getOrCreateTracker(3).updateCustomerData(t.context),u.startView(t),(0,_.Q6)({feature:"start-view"})}),d=(0,b.m)({init:(0,y.dm)(e=>{u.init(e,d)}),setTrackingConsent:(0,y.dm)(e=>{a.update(e),(0,_.Q6)({feature:"set-tracking-consent",tracking_consent:e})}),setViewName:(0,y.dm)(e=>{u.setViewName(e),(0,_.Q6)({feature:"set-view-name"})}),setViewContext:(0,y.dm)(e=>{u.setViewContext(e),(0,_.Q6)({feature:"set-view-context"})}),setViewContextProperty:(0,y.dm)((e,t)=>{u.setViewContextProperty(e,t),(0,_.Q6)({feature:"set-view-context-property"})}),getViewContext:(0,y.dm)(()=>((0,_.Q6)({feature:"set-view-context-property"}),u.getViewContext())),setGlobalContext:(0,y.dm)(e=>{i.setContext(e),(0,_.Q6)({feature:"set-global-context"})}),getGlobalContext:(0,y.dm)(()=>i.getContext()),setGlobalContextProperty:(0,y.dm)((e,t)=>{i.setContextProperty(e,t),(0,_.Q6)({feature:"set-global-context"})}),removeGlobalContextProperty:(0,y.dm)(e=>i.removeContextProperty(e)),clearGlobalContext:(0,y.dm)(()=>i.clearContext()),getInternalContext:(0,y.dm)(e=>u.getInternalContext(e)),getInitConfiguration:(0,y.dm)(()=>(0,w.Go)(u.initConfiguration)),addAction:(e,t)=>{let n=(0,S.uC)();(0,y.um)(()=>{u.addAction({name:(0,k.a)(e),context:(0,k.a)(t),startClocks:(0,E.M8)(),type:"custom",handlingStack:n}),(0,_.Q6)({feature:"add-action"})})},addError:(e,t)=>{let n=(0,S.uC)();(0,y.um)(()=>{u.addError({error:e,handlingStack:n,context:(0,k.a)(t),startClocks:(0,E.M8)()}),(0,_.Q6)({feature:"add-error"})})},addTiming:(0,y.dm)((e,t)=>{u.addTiming((0,k.a)(e),t)}),setUser:(0,y.dm)(e=>{(0,T.Og)(e)&&s.setContext((0,T.x8)(e)),(0,_.Q6)({feature:"set-user"})}),getUser:(0,y.dm)(()=>s.getContext()),setUserProperty:(0,y.dm)((e,t)=>{let n=(0,T.x8)({[e]:t})[e];s.setContextProperty(e,n),(0,_.Q6)({feature:"set-user"})}),removeUserProperty:(0,y.dm)(e=>s.removeContextProperty(e)),clearUser:(0,y.dm)(()=>s.clearContext()),startView:c,stopSession:(0,y.dm)(()=>{u.stopSession(),(0,_.Q6)({feature:"stop-session"})}),addFeatureFlagEvaluation:(0,y.dm)((e,t)=>{u.addFeatureFlagEvaluation((0,k.a)(e),(0,k.a)(t)),(0,_.Q6)({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:(0,y.dm)(()=>t.getSessionReplayLink()),startSessionReplayRecording:(0,y.dm)(e=>{t.start(e),(0,_.Q6)({feature:"start-session-replay-recording",force:e&&e.force})}),stopSessionReplayRecording:(0,y.dm)(()=>t.stop()),addDurationVital:(0,y.dm)((e,t)=>{(0,_.Q6)({feature:"add-duration-vital"}),u.addDurationVital({name:(0,k.a)(e),type:"duration",startClocks:(0,E.jR)(t.startTime),duration:t.duration,context:(0,k.a)(t&&t.context),description:(0,k.a)(t&&t.description)})}),startDurationVital:(0,y.dm)((e,t)=>((0,_.Q6)({feature:"start-duration-vital"}),u.startDurationVital((0,k.a)(e),{context:(0,k.a)(t&&t.context),description:(0,k.a)(t&&t.description)}))),stopDurationVital:(0,y.dm)((e,t)=>{(0,_.Q6)({feature:"stop-duration-vital"}),u.stopDurationVital("string"==typeof e?(0,k.a)(e):e,{context:(0,k.a)(t&&t.context),description:(0,k.a)(t&&t.description)})})});return d}var er=n(6168),ei=n(1791),es=n(565),ea=n(4343);function eo(){let e;let t=window;if(t.Zone&&(e=(0,ea.W)(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){let n=new t.MutationObserver(D.l),r=(0,ea.W)(n,"originalInstance");e=r&&r.constructor}return e||(e=t.MutationObserver),e}var el=n(2460),eu=n(5294),ec=n(7664);function ed(e,t,n){let r=e,i=t.split(".");for(let e=0;e<i.length;e+=1){let t=i[e];if(!eh(r))return;e!==i.length-1?r=r[t]:r[t]=n}}function eh(e){return"object"===(0,z.P)(e)}let ep={"view.name":"string","view.url":"string","view.referrer":"string"},ef={context:"object"},eg={service:"string",version:"string"},em=n(6990).D;var ev=n(7361),ey=n(7927);let e_=ev.AQ;var eb=n(1604),ew=n(4786),eS=n(5715),ek=n(6692),eE=n(5067);let eT="initial_document",eI=[["document",e=>eT===e],["xhr",e=>"xmlhttprequest"===e],["fetch",e=>"fetch"===e],["beacon",e=>"beacon"===e],["css",(e,t)=>/\.css$/i.test(t)],["js",(e,t)=>/\.js$/i.test(t)],["image",(e,t)=>["image","img","icon"].includes(e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)],["font",(e,t)=>null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)],["media",(e,t)=>["audio","video"].includes(e)||null!==/\.(mp3|mp4)$/i.exec(t)]];function eC(...e){for(let t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function ex(e){return e.duration>=0}function eA(e){var t;let n=eC(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),r=!((t=e).redirectEnd>t.startTime)||eC(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return n&&r}function eM(e,t,n){if(e<=t&&t<=n)return{duration:(0,E.Zj)((0,E.vk)(t,n)),start:(0,E.Zj)((0,E.vk)(e,t))}}function eO(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}function eR(e){return""===e.deliveryType?"other":e.deliveryType}function eP(e){return e&&!(0,eE.w)(e)}let eD=/data:(.+)?(;base64)?,/g;function eN(e){if(e.length<=24e3);else if("data:"===e.substring(0,5))return e=e.substring(0,24e3),!0;return!1}function eL(e){return`${e.match(eD)[0]}[...]`}let eF=1;function eU(){let e=eF;return eF+=1,e}function ej(e){return(0,j.Et)(e)&&e<0?void 0:e}function eB({lifeCycle:e,isChildEvent:t,onChange:n=D.l}){let r={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},i=e.subscribe(13,e=>{var i;if("view"!==e.type&&"vital"!==e.type&&t(e))switch(e.type){case"error":r.errorCount+=1,n();break;case"action":r.actionCount+=1,e.action.frustration&&(r.frustrationCount+=e.action.frustration.type.length),n();break;case"long_task":r.longTaskCount+=1,n();break;case"resource":(null===(i=e._dd)||void 0===i?void 0:i.discarded)||(r.resourceCount+=1,n())}});return{stop:()=>{i.unsubscribe()},eventCounts:r}}var ez=n(9589);function e$(e,t){return new es.c(n=>{var r;let i,a;if(!window.PerformanceObserver)return;let o=e=>{let t=e.filter(e=>{var t;return!((t=e).entryType===h.RESOURCE&&(!eP(t.name)||!ex(t)))});t.length>0&&n.notify(t)},l=!0,u=new PerformanceObserver((0,y.dm)(e=>{l?i=(0,ez.wg)(()=>o(e.getEntries())):o(e.getEntries())}));try{u.observe(t)}catch(e){if([h.RESOURCE,h.NAVIGATION,h.LONG_TASK,h.PAINT].includes(t.type)){t.buffered&&(i=(0,ez.wg)(()=>o(performance.getEntriesByType(t.type))));try{u.observe({entryTypes:[t.type]})}catch(e){return}}}return l=!1,r=e,!s&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(s=(0,Q.q)(r,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),eV(h.FIRST_INPUT)||t.type!==h.FIRST_INPUT||({stop:a}=function(e,t){let n=(0,E.x3)(),r=!1,{stop:i}=(0,Q.l)(e,window,["click","mousedown","keydown","touchstart","pointerdown"],t=>{var n,r;if(!t.cancelable)return;let i={entryType:"first-input",processingStart:(0,E.$S)(),processingEnd:(0,E.$S)(),startTime:t.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};"pointerdown"===t.type?(n=e,r=i,(0,Q.l)(n,window,["pointerup","pointercancel"],e=>{"pointerup"===e.type&&s(r)},{once:!0})):s(i)},{passive:!0,capture:!0});return{stop:i};function s(e){if(!r){r=!0,i();let s=e.processingStart-e.startTime;s>=0&&s<(0,E.x3)()-n&&t(e)}}}(e,e=>{o([e])})),()=>{u.disconnect(),a&&a(),(0,ez.DJ)(i)}})}function eV(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}!function(e){e.EVENT="event",e.FIRST_INPUT="first-input",e.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",e.LAYOUT_SHIFT="layout-shift",e.LONG_TASK="longtask",e.LONG_ANIMATION_FRAME="long-animation-frame",e.NAVIGATION="navigation",e.PAINT="paint",e.RESOURCE="resource"}(h||(h={}));function eW(e,t,n){let r;let i=!1,s=(0,ez.wg)((0,y.dm)(()=>u({hadActivity:!1})),100),a=void 0!==n?(0,ez.wg)((0,y.dm)(()=>u({hadActivity:!0,end:(0,E.nx)()})),n):void 0,o=e.subscribe(({isBusy:e})=>{(0,ez.DJ)(s),(0,ez.DJ)(r);let t=(0,E.nx)();e||(r=(0,ez.wg)((0,y.dm)(()=>u({hadActivity:!0,end:t})),100))}),l=()=>{i=!0,(0,ez.DJ)(s),(0,ez.DJ)(r),(0,ez.DJ)(a),o.unsubscribe()};function u(e){!i&&(l(),t(e))}return{stop:l}}function eH(e,t,n,r){return new es.c(i=>{let s;let a=[],o=0;return a.push(t.subscribe(l),n.subscribe(l),e$(r,{type:h.RESOURCE}).subscribe(e=>{e.some(e=>!eq(r,e.name))&&l()}),e.subscribe(7,e=>{!eq(r,e.url)&&(void 0===s&&(s=e.requestIndex),o+=1,l())}),e.subscribe(8,e=>{!eq(r,e.url)&&void 0!==s&&!(e.requestIndex<s)&&(o-=1,l())})),()=>{a.forEach(e=>e.unsubscribe())};function l(){i.notify({isBusy:o>0})}})}function eq(e,t){return V(e.excludedActivityUrls,t)}function eG(e){return e.nodeType===Node.TEXT_NODE}function eK(e){return e.nodeType===Node.ELEMENT_NODE}function eZ(e){return eK(e)&&!!e.shadowRoot}function eJ(e){return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&eK(e.host)}function eX(e){return e.childNodes.length>0||eZ(e)}function eY(e,t){let n=e.firstChild;for(;n;)t(n),n=n.nextSibling;eZ(e)&&t(e.shadowRoot)}function eQ(e){return eJ(e)?e.host:e.parentNode}let e0={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:U.WA.ALLOW,MASK:U.WA.MASK,MASK_USER_INPUT:U.WA.MASK_USER_INPUT},e1="data-dd-privacy",e2="hidden",e3="***",e5="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",e6={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function e4(e,t,n){if(n&&n.has(e))return n.get(e);let r=eQ(e),i=r?e4(r,t,n):t,s=e8(e7(e),i);return n&&n.set(e,s),s}function e8(e,t){switch(t){case e0.HIDDEN:case e0.IGNORE:return t}switch(e){case e0.ALLOW:case e0.MASK:case e0.MASK_USER_INPUT:case e0.HIDDEN:case e0.IGNORE:return e;default:return t}}function e7(e){if(eK(e)){if("BASE"===e.tagName)return e0.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return e0.MASK;let t=e.getAttribute("autocomplete");if(t&&(t.startsWith("cc-")||t.endsWith("-password")))return e0.MASK}return e.matches(tr(e0.HIDDEN))?e0.HIDDEN:e.matches(tr(e0.MASK))?e0.MASK:e.matches(tr(e0.MASK_USER_INPUT))?e0.MASK_USER_INPUT:e.matches(tr(e0.ALLOW))?e0.ALLOW:!function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){let e=t("rel");return/preload|prefetch/i.test(e)&&"script"===t("as")||"shortcut icon"===e||"icon"===e}if("META"===e.nodeName){let n=t("name"),r=t("rel"),i=t("property");return/^msapplication-tile(image|color)$/.test(n)||"application-name"===n||"icon"===r||"apple-touch-icon"===r||"shortcut icon"===r||"keywords"===n||"description"===n||/^(og|twitter|fb):/.test(i)||/^(og|twitter):/.test(n)||"pinterest"===n||"robots"===n||"googlebot"===n||"bingbot"===n||e.hasAttribute("http-equiv")||"author"===n||"generator"===n||"framework"===n||"publisher"===n||"progid"===n||/^article:/.test(i)||/^product:/.test(i)||"google-site-verification"===n||"yandex-verification"===n||"csrf-token"===n||"p:domain_verify"===n||"verify-v1"===n||"verification"===n||"shopify-checkout-api-token"===n}function t(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e)?void 0:e0.IGNORE}}function e9(e,t){switch(t){case e0.MASK:case e0.HIDDEN:case e0.IGNORE:return!0;case e0.MASK_USER_INPUT:return eG(e)?te(e.parentNode):te(e);default:return!1}}function te(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!e6[e.tagName]}let tt=e=>e.replace(/\S/g,"x");function tn(e,t,n){var r;let i=null===(r=e.parentElement)||void 0===r?void 0:r.tagName,s=e.textContent||"";if(!t||s.trim()){if("SCRIPT"===i)s=e3;else if(n===e0.HIDDEN)s=e3;else if(e9(e,n)){if("DATALIST"===i||"SELECT"===i||"OPTGROUP"===i){if(!s.trim())return}else s="OPTION"===i?e3:tt(s)}return s}}function tr(e){return`[${e1}="${e}"], .dd-privacy-${e}`}let ti="data-dd-action-name";function ts(e,t){let n=e.closest(`[${t}]`);if(n)return tc(tu(n.getAttribute(t).trim()))}let ta=[(e,t)=>{if("labels"in e&&e.labels&&e.labels.length>0)return th(e.labels[0],t)},e=>{if("INPUT"===e.nodeName){let t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return{name:e.value,nameSource:"text_content"}}},(e,t,n)=>{if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return th(e,t,n)},e=>td(e,"aria-label"),(e,t,n)=>{let r=e.getAttribute("aria-labelledby");if(r)return{name:r.split(/\s+/).map(t=>(function(e,t){return e.ownerDocument?e.ownerDocument.getElementById(t):null})(e,t)).filter(e=>!!e).map(e=>tp(e,t,n)).join(" "),nameSource:"text_content"}},e=>td(e,"alt"),e=>td(e,"name"),e=>td(e,"title"),e=>td(e,"placeholder"),(e,t)=>{if("options"in e&&e.options.length>0)return th(e.options[0],t)}],to=[(e,t,n)=>th(e,t,n)];function tl(e,t,n,r){let i=e,s=0;for(;s<=10&&i&&"BODY"!==i.nodeName&&"HTML"!==i.nodeName&&"HEAD"!==i.nodeName;){for(let e of n){let n=e(i,t,r);if(n){let{name:e,nameSource:t}=n,r=e&&e.trim();if(r)return{name:tc(tu(r)),nameSource:t}}}if("FORM"===i.nodeName)break;i=i.parentElement,s+=1}}function tu(e){return e.replace(/\s+/g," ")}function tc(e){return e.length>100?`${(0,C._R)(e,100)} [...]`:e}function td(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function th(e,t,n){return{name:tp(e,t,n)||"",nameSource:"text_content"}}function tp(e,t,n){if(!e.isContentEditable){if("innerText"in e){let r=e.innerText,i=t=>{let n=e.querySelectorAll(t);for(let e=0;e<n.length;e+=1){let t=n[e];if("innerText"in t){let e=t.innerText;e&&e.trim().length>0&&(r=r.replace(e,""))}}};return i(`[${ti}]`),t&&i(`[${t}]`),n&&i(`${tr(e0.HIDDEN)}, ${tr(e0.MASK)}`),r}return e.textContent}}let tf=[ti,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],tg=[t_,function(e){if(e.id&&!ty(e.id))return`#${CSS.escape(e.id)}`}],tm=[t_,function(e){if("BODY"===e.tagName)return;let t=e.classList;for(let n=0;n<t.length;n+=1){let r=t[n];if(!ty(r))return`${CSS.escape(e.tagName)}.${CSS.escape(r)}`}},function(e){return CSS.escape(e.tagName)}];function tv(e,t){var n;let r;if(!("isConnected"in(n=e)?n.isConnected:n.ownerDocument.documentElement.contains(n)))return;let i=e;for(;i&&"HTML"!==i.nodeName;){let e=tb(i,tg,tw,t,r);if(e)return e;r=tb(i,tm,tS,t,r)||tk(function(e){let t=e.parentElement.firstElementChild,n=1;for(;t&&t!==e;)t.tagName===e.tagName&&(n+=1),t=t.nextElementSibling;return`${CSS.escape(e.tagName)}:nth-of-type(${n})`}(i),r),i=i.parentElement}return r}function ty(e){return/[0-9]/.test(e)}function t_(e,t){if(t){let e=n(t);if(e)return e}for(let e of tf){let t=n(e);if(t)return t}function n(t){if(e.hasAttribute(t))return`${CSS.escape(e.tagName)}[${t}="${CSS.escape(e.getAttribute(t))}"]`}}function tb(e,t,n,r,i){for(let s of t){let t=s(e,r);if(t&&n(e,t,i))return tk(t,i)}}function tw(e,t,n){return 1===e.ownerDocument.querySelectorAll(tk(t,n)).length}function tS(e,t,n){let r;if(void 0===n)r=e=>e.matches(t);else{let e=!function(){if(void 0===a)try{document.querySelector(":scope"),a=!0}catch(e){a=!1}return a}()?tk(t,n):tk(`${t}:scope`,n);r=t=>null!==t.querySelector(e)}let i=e.parentElement.firstElementChild;for(;i;){if(i!==e&&r(i))return!1;i=i.nextElementSibling}return!0}function tk(e,t){return t?`${e}>${t}`:e}let tE=E.OY;function tT(){let e=window.getSelection();return!e||e.isCollapsed}function tI(e){return e.target instanceof Element&&!1!==e.isPrimary}function tC(e){return!e.hasPageActivity&&!e.getUserActivity().input&&!e.getUserActivity().scroll&&!e.event.target.matches('input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}let tx=10*E.OY,tA=new Map;function tM(e,t){tA.set(e,t),tA.forEach((e,t)=>{(0,E.vk)(t,(0,E.$S)())>tx&&tA.delete(t)})}let tO=5*E.iW;function tR(e,t){let n=tP(e)?{action:{id:e.id,loading_time:ej((0,E.Zj)(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:(0,L.sr)(L.R9.ACTION_NAME_MASKING)?e.nameSource:void 0}}}:void 0,r=tP(e)?void 0:e.context,i=(0,w.kg)({action:{id:(0,C.lk)(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:"action",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},n),s=tP(e)?{events:e.events}:{};return!tP(e)&&e.handlingStack&&(s.handlingStack=e.handlingStack),{customerContext:r,rawRumEvent:i,startTime:e.startClocks.relative,domainContext:s}}function tP(e){return"custom"!==e.type}var tD=n(8615),tN=n(144),tL=n(7090),tF=n(5659),tU=n(3865),tj=n(8403),tB=n(1216);let tz=E.OY,t$=new WeakSet;function tV(e){return(0,E.Gw)(e.startTime,e.duration)}var tW=n(3687);let tH=2*E.iW;function tq(e,t){let n=t&&Number(t);if(e&&n)return{traceId:e,traceTime:n}}function tG(e){if(e&&e.nodeType===Node.COMMENT_NODE){let t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function tK(){if(eV(h.NAVIGATION)){let e=performance.getEntriesByType(h.NAVIGATION)[0];if(e)return e}let e=function(){let e={},t=performance.timing;for(let n in t)if((0,j.Et)(t[n])){let r=t[n];e[n]=0===r?0:(0,E.gs)(r)}return e}(),t={entryType:h.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:e.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...t,toJSON:void 0}),...e};return t}function tZ(e,t){var n;let r=(0,E.FR)(e.startTime),i=function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:q(63).toString(),rule_psr:t.rulePsr}}}(e,t);if(!t.trackResources&&!i)return;let s=function(e){let t=e.name;if(!(0,ek.AY)(t))return(0,_.A2)(`Failed to construct URL for "${e.name}"`),"other";let n=(0,ek.L2)(t);for(let[t,r]of eI)if(r(e.initiatorType,n))return t;return"other"}(e),a=tJ(e),o=(0,w.kg)({date:r.timeStamp,resource:{id:(0,C.lk)(),type:s,url:e.name,status_code:0===(n=e.responseStatus)?void 0:n,protocol:eO(e),delivery_type:eR(e)},type:"resource",_dd:{discarded:!t.trackResources}},i,a);return{startTime:r.relative,rawRumEvent:o,domainContext:{performanceEntry:e}}}function tJ(e){let{renderBlockingStatus:t}=e;return{resource:{duration:function(e){let{duration:t,startTime:n,responseEnd:r}=e;return 0===t&&n<r?(0,E.Zj)((0,E.vk)(n,r)):(0,E.Zj)(t)}(e),render_blocking_status:t,...function(e){if(e.startTime<e.responseStart){let{encodedBodySize:t,decodedBodySize:n,transferSize:r}=e;return{size:n,encoded_body_size:t,decoded_body_size:n,transfer_size:r}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}(e),...function(e){if(!eA(e))return;let{startTime:t,fetchStart:n,workerStart:r,redirectStart:i,redirectEnd:s,domainLookupStart:a,domainLookupEnd:o,connectStart:l,secureConnectionStart:u,connectEnd:c,requestStart:d,responseStart:h,responseEnd:p}=e,f={download:eM(t,h,p),first_byte:eM(t,d,h)};return 0<r&&r<n&&(f.worker=eM(t,r,n)),n<c&&(f.connect=eM(t,l,c),l<=u&&u<=c&&(f.ssl=eM(t,u,c))),n<o&&(f.dns=eM(t,a,o)),t<s&&(f.redirect=eM(t,i,s)),f}(e)}}}let tX=10*E.iW,tY=10*E.iW;function tQ(e,t=window){let n,r;return"hidden"===document.visibilityState?n=0:(n=1/0,{stop:r}=(0,Q.l)(e,t,["pagehide","visibilitychange"],e=>{("pagehide"===e.type||"hidden"===document.visibilityState)&&(n=e.timeStamp,r())},{capture:!0})),{get timeStamp(){return n},stop(){null==r||r()}}}function t0({x:e,y:t,width:n,height:r}){return{x:e,y:t,width:n,height:r}}let t1=5*E.OY,t2=E.OY,t3=0,t5=1/0,t6=0,t4=()=>o?t3:window.performance.interactionCount||0,t8=+E.iW;function t7(){let e;let t=window.visualViewport;return Math.round(t?t.pageLeft-t.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0)}function t9(){let e;let t=window.visualViewport;return Math.round(t?t.pageTop-t.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0)}function ne(e){var t;return l||(t=e,l=new es.c(e=>{let{throttled:n}=(0,D.n)(()=>{e.notify(nt())},200);return(0,Q.q)(t,window,"resize",n,{capture:!0,passive:!0}).stop})),l}function nt(){let e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}let nn=E.OY,nr=5*E.iW,ni=5*E.iW;function ns(e){let t=e.indexOf("?");return t<0?e:e.slice(0,t)}var na=n(1191);function no(e){return"2"===e||"1"===e}var nl=n(6699);let nu=ev.AQ;function nc(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}let nd=ev.AQ,nh=10*E.OY;function np(){0!==u.batchCount&&((0,_.A2)("Customer data measures",u),nv())}function nf(){return{min:1/0,max:0,sum:0}}function ng(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function nm(e,t){e.sum+=t.sum,e.min=Math.min(e.min,t.min),e.max=Math.max(e.max,t.max)}function nv(){u={batchCount:0,batchBytesCount:nf(),batchMessagesCount:nf(),globalContextBytes:nf(),userContextBytes:nf(),featureFlagBytes:nf()}}function ny(){d=!1,c={globalContextBytes:nf(),userContextBytes:nf(),featureFlagBytes:nf()}}let n_=ev.AQ;function nb(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}var nw=n(5955);let nS=E.OY;function nk(e,t){let n=(0,C.rx)(document.cookie,e),r=(0,ez.yb)(()=>{let r=(0,C.rx)(document.cookie,e);r!==n&&t(r)},nS);return()=>{(0,ez.vG)(r)}}let nE="datadog-ci-visibility-test-execution-id";function nT(e,t,n,r,s,a,l,p){var g,m,v,b,S,T,I,M,O;let U;let $=[],V=new em;V.subscribe(13,e=>(0,er.b)("rum",e));let H=function(e){let t=(0,_.a5)("browser-rum-sdk",e);if((0,R.d0)()){let e=(0,R.Y9)();t.observable.subscribe(t=>e.send("internal_telemetry",t))}return t}(e);H.setContextProvider(()=>{var t,n;return{application:{id:e.applicationId},session:{id:null===(t=Y.findTrackedSession())||void 0===t?void 0:t.id},view:{id:null===(n=ek.findView())||void 0===n?void 0:n.id},action:{id:eI.findActionId()}}});let q=e=>{V.notify(14,{error:e}),(0,_.A2)("Error reported to customer",{"error.message":e.message})},G=function(e,t){let n=(0,ey.q)({expireDelay:nd});return e.subscribe(1,({startClocks:e})=>{n.add({},e.relative),t.resetCustomerData()}),e.subscribe(6,({endClocks:e})=>{n.closeActive(e.relative)}),{findFeatureFlagEvaluations:e=>n.find(e),addFeatureFlagEvaluation:(e,r)=>{let i=n.find();i&&(i[e]=r,t.updateCustomerData(i))},stop:()=>t.stop()}}(V,n.getOrCreateTracker(0)),K=(0,ei.hL)(e),Z=K.subscribe(e=>{V.notify(11,e)});$.push(()=>Z.unsubscribe());let Y=(0,R.d0)()?function(){let e={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:+!!(0,R.Ww)("records")};return{findTrackedSession:()=>e,expire:D.l,expireObservable:new es.c,setForcedReplay:D.l}}():function(e,t,n){let r=(0,na.ox)(e,"rum",t=>{var n,r,i;let s;return n=e,{trackingType:s="0"===(i=r=t)||"1"===i||"2"===i?r:(0,j.ic)(n.sessionSampleRate)?(0,j.ic)(n.sessionReplaySampleRate)?"1":"2":"0",isTracked:no(s)}},n);return r.expireObservable.subscribe(()=>{t.notify(9)}),r.renewObservable.subscribe(()=>{t.notify(10)}),r.sessionStateUpdateObservable.subscribe(({previousState:e,newState:t})=>{if(!e.forcedReplay&&t.forcedReplay){let e=r.findSession();e&&(e.isReplayForced=!0)}}),{findTrackedSession:e=>{let t=r.findSession(e);if(t&&no(t.trackingType))return{id:t.id,sessionReplay:"1"===t.trackingType?1:2*!!t.isReplayForced,anonymousId:t.anonymousId}},expire:r.expire,expireObservable:r.expireObservable,setForcedReplay:()=>r.updateSessionState({forcedReplay:"1"})}}(e,V,l);if((0,R.d0)())!function(e){let t=(0,R.Y9)();e.subscribe(13,e=>{t.send("rum",e)})}(V);else{let t=function(e,t,n,r,i,s,a){let o=e.replica,l=(0,nl.Z)(e,{endpoint:e.rumEndpointBuilder,encoder:a(2)},o&&{endpoint:o.rumEndpointBuilder,transformMessage:e=>(0,w.kg)(e,{application:{id:o.applicationId}}),encoder:a(3)},r,i,s);return t.subscribe(13,e=>{"view"===e.type?l.upsert(e,e.view.id):l.add(e)}),n.subscribe(t=>l.add(t,(0,_.Wb)(e))),l}(e,V,H.observable,q,K,Y.expireObservable,a);$.push(()=>t.stop()),S=e,T=H,I=V,M=n,O=t.flushObservable,!(T.enabled&&(0,j.ic)(S.customerDataTelemetrySampleRate))||(nv(),ny(),I.subscribe(13,e=>{d=!0,ng(c.globalContextBytes,M.getOrCreateTracker(2).getBytesCount()),ng(c.userContextBytes,M.getOrCreateTracker(1).getBytesCount()),ng(c.featureFlagBytes,["view","error"].includes(e.type)?M.getOrCreateTracker(0).getBytesCount():0)}),O.subscribe(({bytesCount:e,messagesCount:t})=>{d&&(u.batchCount+=1,ng(u.batchBytesCount,e),ng(u.batchMessagesCount,t),nm(u.globalContextBytes,c.globalContextBytes),nm(u.userContextBytes,c.userContextBytes),nm(u.featureFlagBytes,c.featureFlagBytes),ny())}),(0,ez.yb)(np,nh))}let ee=function(){let e=eo();return new es.c(t=>{if(!e)return;let n=new e((0,y.dm)(()=>t.notify()));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>n.disconnect()})}(),et=(m=location,U=(0,B.yG)(m),new es.c(t=>{var n,r;let{stop:i}=function(e,t){let{stop:n}=(0,el.H)(nc("pushState"),"pushState",({onPostCall:e})=>{e(t)}),{stop:r}=(0,el.H)(nc("replaceState"),"replaceState",({onPostCall:e})=>{e(t)}),{stop:i}=(0,Q.q)(e,window,"popstate",t);return{stop:()=>{n(),r(),i()}}}(e,a),{stop:s}=(n=e,r=a,(0,Q.q)(n,window,"hashchange",r));function a(){if(U.href===m.href)return;let e=(0,B.yG)(m);t.notify({newLocation:e,oldLocation:U}),U=e}return()=>{i(),s()}})),en=function(e,t=500){let n;let r=(0,ey.q)({expireDelay:n_,maxEntries:4e3});s(nb(),(0,E.$S)());let{stop:i}=(0,Q.l)(e,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],e=>{var t;s("freeze"===(t=e).type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":nb(),e.timeStamp)},{capture:!0});function s(e,t=(0,E.$S)()){e!==n&&(n=e,r.closeActive(t),r.add({state:n,startTime:t},t))}let a={findAll:(e,n)=>{let i=r.findAll(e,n);if(0===i.length)return;let s=[],a=Math.max(0,i.length-t);for(let t=i.length-1;t>=a;t--){let n=i[t],r=(0,E.vk)(e,n.startTime);s.push({state:n.state,start:(0,E.Zj)(r)})}return s},wasInPageStateAt:(e,t)=>a.wasInPageStateDuringPeriod(e,t,0),wasInPageStateDuringPeriod:(e,t,n)=>r.findAll(t,n).some(t=>t.state===e),addPageState:s,stop:()=>{i(),r.stop()}};return a}(e),{observable:ea,stop:ev}=function(){let e=new es.c,{stop:t}=(0,el.H)(window,"open",()=>e.notify());return{observable:e,stop:t}}();$.push(ev);let{viewHistory:ek,urlContexts:eE,actionContexts:eI,addAction:eC,stop:eM}=function(e,t,n,r,s,a,o,l,u,c,d){let h=function(e){let t=(0,ey.q)({expireDelay:e_});return e.subscribe(1,e=>{var n;t.add({service:(n=e).service,version:n.version,context:n.context,id:n.id,name:n.name,startClocks:n.startClocks},e.startClocks.relative)}),e.subscribe(6,({endClocks:e})=>{t.closeActive(e.relative)}),e.subscribe(3,e=>{let n=t.find(e.startClocks.relative);n&&e.name&&(n.name=e.name),n&&e.context&&(n.context=e.context)}),e.subscribe(10,()=>{t.reset()}),{findView:e=>t.find(e),getAllEntries:()=>t.getAllEntries(),getDeletedEntries:()=>t.getDeletedEntries(),stop:()=>{t.stop()}}}(e),p=function(e,t,n){let r;let i=(0,ey.q)({expireDelay:nu});e.subscribe(1,({startClocks:e})=>{let t=n.href;i.add(a({url:t,referrer:r||document.referrer}),e.relative),r=t}),e.subscribe(6,({endClocks:e})=>{i.closeActive(e.relative)});let s=t.subscribe(({newLocation:e})=>{let t=i.find();if(t){let n=(0,E.$S)();i.closeActive(n),i.add(a({url:e.href,referrer:t.referrer}),n)}});function a({url:e,referrer:t}){return{url:e,referrer:t}}return{findUrl:e=>i.find(e),getAllEntries:()=>i.getAllEntries(),getDeletedEntries:()=>i.getDeletedEntries(),stop:()=>{s.unsubscribe(),i.stop()}}}(e,a,n),f=function(e,t,n,r,i){e.subscribe(0,t=>e.notify(12,tR(t,i)));let s={findActionId:D.l},a=D.l;return r.trackUserInteractions&&({actionContexts:s,stop:a}=function(e,t,n,r){let i;let s=(0,ey.q)({expireDelay:tO}),a=new es.c;e.subscribe(10,()=>{s.reset()}),e.subscribe(5,u);let{stop:o}=function(e,{onPointerDown:t,onPointerUp:n}){let r,i;let s={selection:!1,input:!1,scroll:!1},a=[(0,Q.q)(e,window,"pointerdown",e=>{tI(e)&&(r=tT(),s={selection:!1,input:!1,scroll:!1},i=t(e))},{capture:!0}),(0,Q.q)(e,window,"selectionchange",()=>{r&&tT()||(s.selection=!0)},{capture:!0}),(0,Q.q)(e,window,"scroll",()=>{s.scroll=!0},{capture:!0,passive:!0}),(0,Q.q)(e,window,"pointerup",e=>{if(tI(e)&&i){let t=s;n(i,e,()=>t),i=void 0}},{capture:!0}),(0,Q.q)(e,window,"input",()=>{s.input=!0},{capture:!0})];return{stop:()=>{a.forEach(e=>e.stop())}}}(r,{onPointerDown:i=>(function(e,t,n,r,i){let s=e.enablePrivacyForActionName?e4(r.target,e.defaultPrivacyLevel):e0.ALLOW;if(s===e0.HIDDEN)return;let a=function(e,t,n){let r=e.target.getBoundingClientRect(),i=tv(e.target,n.actionNameAttribute);i&&tM(e.timeStamp,i);let s=function(e,{enablePrivacyForActionName:t,actionNameAttribute:n},r){let i=ts(e,ti)||n&&ts(e,n);return i?{name:i,nameSource:"custom_attribute"}:r===e0.MASK?{name:"Masked Element",nameSource:"mask_placeholder"}:tl(e,n,ta,t)||tl(e,n,to,t)||{name:"",nameSource:"blank"}}(e.target,n,t);return{type:"click",target:{width:Math.round(r.width),height:Math.round(r.height),selector:i},position:{x:Math.round(e.clientX-r.left),y:Math.round(e.clientY-r.top)},name:s.name,nameSource:s.nameSource}}(r,s,e),o=!1;return eW(eH(t,n,i,e),e=>{o=e.hadActivity},100),{clickActionBase:a,hadActivityOnPointerDown:()=>o}})(r,e,t,i,n),onPointerUp:({clickActionBase:i,hadActivityOnPointerDown:o},u,c)=>{(function(e,t,n,r,i,s,a,o,l,u,c){var d;let h=function e(t,n,r,i,s){let a;let o=(0,C.lk)(),l=(0,E.M8)(),u=n.add(o,l.relative),c=eB({lifeCycle:t,isChildEvent:e=>void 0!==e.action&&(Array.isArray(e.action.id)?e.action.id.includes(o):e.action.id===o)}),d=0,h=[],p=new es.c;function f(e){0===d&&(d=1,(a=e)?u.close((0,E.gs)(a)):u.remove(),c.stop(),p.notify())}return{event:s,stop:f,stopObservable:p,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:r,addFrustration:e=>{h.push(e)},startClocks:l,isStopped:()=>1===d||2===d,clone:()=>e(t,n,r,i,s),validate:e=>{if(f(),1!==d)return;let{resourceCount:n,errorCount:r,longTaskCount:u}=c.eventCounts,p={duration:a&&(0,E.vk)(l.timeStamp,a),startClocks:l,id:o,frustrationTypes:h,counts:{resourceCount:n,errorCount:r,longTaskCount:u},events:null!=e?e:[s],event:s,...i};t.notify(0,p),d=2},discard:()=>{f(),d=2}}}(t,i,u,o,l);a(h);let p=null===(d=null==o?void 0:o.target)||void 0===d?void 0:d.selector;p&&tM(l.timeStamp,p);let{stop:f}=eW(eH(t,n,r,e),e=>{e.hadActivity&&e.end<h.startClocks.timeStamp?h.discard():e.hadActivity?h.stop(e.end):c()?h.stop(h.startClocks.timeStamp):h.stop()},tx),g=t.subscribe(5,({endClocks:e})=>{h.stop(e.timeStamp)}),m=s.subscribe(()=>{h.stop()});h.stopObservable.subscribe(()=>{g.unsubscribe(),f(),m.unsubscribe()})})(r,e,t,n,s,a,l,i,u,c,o)}});return{stop:()=>{u(),a.notify(),o()},actionContexts:{findActionId:e=>s.findAll(e)}};function l(e){if(!i||!i.tryAppend(e)){let t=e.clone();i=function(e,t){let n;let r=[],i=0;function s(e){e.stopObservable.subscribe(a),r.push(e),(0,ez.DJ)(n),n=(0,ez.wg)(o,tE)}function a(){1===i&&r.every(e=>e.isStopped())&&(i=2,t(r))}function o(){(0,ez.DJ)(n),0===i&&(i=1,a())}return s(e),{tryAppend:e=>{var t,n,a,l;return 0===i&&(!(r.length>0)||(t=r[r.length-1].event,n=e.event,t.target===n.target&&100>=(a=t,l=n,Math.sqrt(Math.pow(a.clientX-l.clientX,2)+Math.pow(a.clientY-l.clientY,2)))&&t.timeStamp-n.timeStamp<=tE)?(s(e),!0):(o(),!1))},stop:()=>{o()}}}(e,e=>{(function(e,t){let{isRage:n}=function(e,t){if(function(e){if(e.some(e=>e.getUserActivity().selection||e.getUserActivity().scroll))return!1;for(let t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=E.OY)return!0;return!1}(e))return t.addFrustration("rage_click"),e.some(tC)&&t.addFrustration("dead_click"),t.hasError&&t.addFrustration("error_click"),{isRage:!0};let n=e.some(e=>e.getUserActivity().selection);return e.forEach(e=>{e.hasError&&e.addFrustration("error_click"),tC(e)&&!n&&e.addFrustration("dead_click")}),{isRage:!1}}(e,t);n?(e.forEach(e=>e.discard()),t.stop((0,E.nx)()),t.validate(e.map(e=>e.event))):(t.discard(),e.forEach(e=>e.validate()))})(e,t)})}}function u(){i&&i.stop()}}(e,t,n,r)),{addAction:(t,n)=>{e.notify(12,{savedCommonContext:n,...tR(t,i)})},actionContexts:s,stop:a}}(e,o,u,t,s),g=function(e){let t;let n=requestAnimationFrame((0,y.dm)(()=>{t=nt()})),r=ne(e).subscribe(e=>{t=e}).unsubscribe;return{get:()=>t?{viewport:t}:void 0,stop:()=>{r(),n&&cancelAnimationFrame(n)}}}(t),m=function(e,t=function(e,t){let n=window.cookieStore?function(e){return(t,n)=>(0,Q.q)(e,window.cookieStore,"change",e=>{let r=e.changed.find(e=>e.name===t)||e.deleted.find(e=>e.name===t);r&&n(r.value)}).stop}(e):nk;return new es.c(e=>n(t,t=>e.notify(t)))}(e,nE)){var n;let r=(0,nw.B9)(nE)||(null===(n=window.Cypress)||void 0===n?void 0:n.env("traceId")),i=t.subscribe(e=>{r=e});return{get:()=>{if("string"==typeof r)return{test_execution_id:r}},stop:()=>i.unsubscribe()}}(t);return function(e,t,n,r,s,a,o,l,u,c,d){i={view:{...ef,...ep},error:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...ef,...ep,...eg},resource:{"resource.url":"string",...(0,L.sr)(L.R9.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},...ef,...ep,...eg},action:{"action.target.name":"string",...ef,...ep,...eg},long_task:{...ef,...ep},vital:{...ef,...ep}};let h={error:(0,eu.$)("error",e.eventRateLimiterThreshold,d),action:(0,eu.$)("action",e.eventRateLimiterThreshold,d),vital:(0,eu.$)("vital",e.eventRateLimiterThreshold,d)},p=function(){let e=(0,F.aj)(),t=(0,F.X6)();if(e&&t)return{test_id:e,result_id:t,injected:(0,F.ao)()}}();t.subscribe(12,({startTime:d,rawRumEvent:f,domainContext:g,savedCommonContext:m,customerContext:v})=>{let y=r.findView(d),b=s.findUrl(d),S=n.findTrackedSession(d);if(S&&y&&!b&&(0,L.sr)(L.R9.MISSING_URL_CONTEXT_TELEMETRY)&&(0,_.A2)("Missing URL entry",{debug:{eventType:f.type,startTime:d,urlEntries:s.getAllEntries(),urlDeletedEntries:s.getDeletedEntries(),viewEntries:r.getAllEntries(),viewDeletedEntries:r.getDeletedEntries()}}),S&&y&&b){let n=m||c(),r=a.findActionId(d),s={_dd:{format_version:2,drift:(0,E.TP)(),configuration:{session_sample_rate:(0,j.LI)(e.sessionSampleRate,3),session_replay_sample_rate:(0,j.LI)(e.sessionReplaySampleRate,3)},browser_sdk_version:(0,R.d0)()?"6.2.1":void 0},application:{id:e.applicationId},date:(0,E.nx)(),service:y.service||e.service,version:y.version||e.version,source:"browser",session:{id:S.id,type:p?"synthetics":l.get()?"ci_test":"user"},view:{id:y.id,name:y.name,url:b.url,referrer:b.referrer},feature_flags:function(e,t,n,r){let i="view"===e.type||"error"===e.type,s=n.includes(e.type);if(i||s){let e=r.findFeatureFlagEvaluations(t);if(e&&!(0,B.RI)(e))return e}}(f,d,e.trackFeatureFlagsForEvents,u),action:-1!==["error","resource","long_task"].indexOf(f.type)&&r?{id:r}:void 0,synthetics:p,ci_test:l.get(),display:o.get(),connectivity:(0,ec.q)()},_=(0,w.kg)(s,f);_.context=(0,w.kg)(n.context,y.context,v),"has_replay"in _.session||(_.session.has_replay=n.hasReplay),"view"===_.type&&(_.session.sampled_for_replay=1===S.sessionReplay),S.anonymousId&&!n.user.anonymous_id&&e.trackAnonymousUser&&(n.user.anonymous_id=S.anonymousId),(0,B.RI)(n.user)||(_.usr=n.user),function(e,t,n,r){var s;if(t){let r=function(e,t,n){let r=(0,w.Go)(e),i=n(r);return(0,W.WP)(t).forEach(([t,n])=>{let i=function(e,t){let n=e;for(let e of t.split(".")){var r,i;if(r=n,i=e,!(eh(r)&&Object.prototype.hasOwnProperty.call(r,i)))return;n=n[e]}return n}(r,t),s=(0,z.P)(i);s===n?ed(e,t,(0,k.a)(i)):"object"===n&&("undefined"===s||"null"===s)&&ed(e,t,{})}),i}(e,i[e.type],e=>t(e,n));if(!1===r&&"view"!==e.type)return!1;!1===r&&P.Vy.warn("Can't dismiss view events using beforeSend!")}return!(null===(s=r[e.type])||void 0===s?void 0:s.isLimitReached())}(_,e.beforeSend,g,h)&&((0,B.RI)(_.context)&&delete _.context,t.notify(13,_))}})}(t,e,r,h,p,f.actionContexts,g,m,l,c,d),{viewHistory:h,pageStateHistory:s,urlContexts:p,addAction:f.addAction,actionContexts:f.actionContexts,stop:()=>{f.stop(),m.stop(),g.stop(),p.stop(),h.stop(),s.stop()}}}(V,e,location,Y,en,et,ee,G,ea,r,q);$.push(eM),(0,_.JK)();let{addTiming:eD,startView:eF,setViewName:eq,setViewContext:eZ,setViewContextProperty:eJ,getViewContext:eX,stop:eY}=(v=location,V.subscribe(4,n=>V.notify(12,function(e,t,n,r){var i,s,a,o,l,u,c,d,h,p,f,g,m,v,y,_;let b=n.getReplayStats(e.id),w=r.findAll(e.startClocks.relative,e.duration),S={_dd:{document_version:e.documentVersion,replay_stats:b,page_states:w,configuration:{start_session_replay_recording_manually:t.startSessionReplayRecordingManually}},date:e.startClocks.timeStamp,type:"view",view:{action:{count:e.eventCounts.actionCount},frustration:{count:e.eventCounts.frustrationCount},cumulative_layout_shift:null===(i=e.commonViewMetrics.cumulativeLayoutShift)||void 0===i?void 0:i.value,cumulative_layout_shift_time:(0,E.Zj)(null===(s=e.commonViewMetrics.cumulativeLayoutShift)||void 0===s?void 0:s.time),cumulative_layout_shift_target_selector:null===(a=e.commonViewMetrics.cumulativeLayoutShift)||void 0===a?void 0:a.targetSelector,first_byte:(0,E.Zj)(null===(o=e.initialViewMetrics.navigationTimings)||void 0===o?void 0:o.firstByte),dom_complete:(0,E.Zj)(null===(l=e.initialViewMetrics.navigationTimings)||void 0===l?void 0:l.domComplete),dom_content_loaded:(0,E.Zj)(null===(u=e.initialViewMetrics.navigationTimings)||void 0===u?void 0:u.domContentLoaded),dom_interactive:(0,E.Zj)(null===(c=e.initialViewMetrics.navigationTimings)||void 0===c?void 0:c.domInteractive),error:{count:e.eventCounts.errorCount},first_contentful_paint:(0,E.Zj)(e.initialViewMetrics.firstContentfulPaint),first_input_delay:(0,E.Zj)(null===(d=e.initialViewMetrics.firstInput)||void 0===d?void 0:d.delay),first_input_time:(0,E.Zj)(null===(h=e.initialViewMetrics.firstInput)||void 0===h?void 0:h.time),first_input_target_selector:null===(p=e.initialViewMetrics.firstInput)||void 0===p?void 0:p.targetSelector,interaction_to_next_paint:(0,E.Zj)(null===(f=e.commonViewMetrics.interactionToNextPaint)||void 0===f?void 0:f.value),interaction_to_next_paint_time:(0,E.Zj)(null===(g=e.commonViewMetrics.interactionToNextPaint)||void 0===g?void 0:g.time),interaction_to_next_paint_target_selector:null===(m=e.commonViewMetrics.interactionToNextPaint)||void 0===m?void 0:m.targetSelector,is_active:e.isActive,name:e.name,largest_contentful_paint:(0,E.Zj)(null===(v=e.initialViewMetrics.largestContentfulPaint)||void 0===v?void 0:v.value),largest_contentful_paint_target_selector:null===(y=e.initialViewMetrics.largestContentfulPaint)||void 0===y?void 0:y.targetSelector,load_event:(0,E.Zj)(null===(_=e.initialViewMetrics.navigationTimings)||void 0===_?void 0:_.loadEvent),loading_time:ej((0,E.Zj)(e.commonViewMetrics.loadingTime)),loading_type:e.loadingType,long_task:{count:e.eventCounts.longTaskCount},performance:function({cumulativeLayoutShift:e,interactionToNextPaint:t},{firstContentfulPaint:n,firstInput:r,largestContentfulPaint:i}){return{cls:e&&{score:e.value,timestamp:(0,E.Zj)(e.time),target_selector:e.targetSelector,previous_rect:e.previousRect,current_rect:e.currentRect},fcp:n&&{timestamp:(0,E.Zj)(n)},fid:r&&{duration:(0,E.Zj)(r.delay),timestamp:(0,E.Zj)(r.time),target_selector:r.targetSelector},inp:t&&{duration:(0,E.Zj)(t.value),timestamp:(0,E.Zj)(t.time),target_selector:t.targetSelector},lcp:i&&{timestamp:(0,E.Zj)(i.value),target_selector:i.targetSelector,resource_url:i.resourceUrl}}}(e.commonViewMetrics,e.initialViewMetrics),resource:{count:e.eventCounts.resourceCount},time_spent:(0,E.Zj)(e.duration)},display:e.commonViewMetrics.scroll?{scroll:{max_depth:e.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:e.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:e.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:(0,E.Zj)(e.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:!!b||void 0,is_active:!!e.sessionIsActive&&void 0},privacy:{replay_level:t.defaultPrivacyLevel}};return(0,B.RI)(e.customTimings)||(S.view.custom_timings=(0,B.LG)(e.customTimings,E.Zj)),{rawRumEvent:S,startTime:e.startClocks.relative,domainContext:{location:e.location}}}(n,e,t,en))),function(e,t,n,r,i,s,a,l){let u;let c=new Set,d=p("initial_load",(0,E.Oc)(),l);function p(s,a,l){let u=function(e,t,n,r,i,s,a=(0,E.M8)(),l){let u,c,d,p,g;let m=(0,C.lk)(),v=new es.c,_={},b=0,w=(0,B.yG)(i),S=(0,f.D)(),k=!0;l&&(c=l.name,d=l.service||void 0,p=l.version||void 0,l.context&&(g=l.context,S.setContext(g)));let T={id:m,name:c,startClocks:a,service:d,version:p,context:g};e.notify(1,T),e.notify(2,T);let{throttled:I,cancel:x}=(0,D.n)(q,3e3,{leading:!1}),{setLoadEvent:A,setViewEnd:M,stop:O,stopINPTracking:R,getCommonViewMetrics:N}=function(e,t,n,r,i,s,a){let l={},{stop:u,setLoadEvent:c}=function(e,t,n,r,i,s,a){let o="initial_load"===i,l=!0,u=[],c=tQ(r);function d(){if(!l&&!o&&u.length>0){let e=Math.max(...u);e<c.timeStamp&&a(e)}}let{stop:h}=eW(eH(e,t,n,r),e=>{l&&(l=!1,e.hadActivity&&u.push((0,E.vk)(s.timeStamp,e.end)),d())},void 0);return{stop:()=>{h(),c.stop()},setLoadEvent:e=>{o&&(o=!1,u.push(e),d())}}}(e,t,n,r,s,a,e=>{l.loadingTime=e,i()}),{stop:d}=function(e,t,n,r=function(e,t=nn){return new es.c(n=>{if(window.ResizeObserver){let r=(0,D.n)(function(){n.notify(function(){let e=t9(),{height:t}=nt();return{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(t+e),scrollTop:e}}())},t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,s=new ResizeObserver((0,y.dm)(r.throttled));i&&s.observe(i);let a=(0,Q.q)(e,window,"scroll",r.throttled,{passive:!0});return()=>{r.cancel(),s.disconnect(),a.stop()}}})}(e)){let i=0,s=0,a=0,o=r.subscribe(({scrollDepth:e,scrollTop:r,scrollHeight:o})=>{let l=!1;if(e>i&&(i=e,l=!0),o>s){s=o;let e=(0,E.$S)();a=(0,E.vk)(t.relative,e),l=!0}l&&n({maxDepth:Math.min(i,s),maxDepthScrollTop:r,maxScrollHeight:s,maxScrollHeightTime:a})});return{stop:()=>o.unsubscribe()}}(r,a,e=>{l.scroll=e}),{stop:p}=function(e,t,n){let r,i,s,a,o;if(!(eV(h.LAYOUT_SHIFT)&&"WeakRef"in window))return{stop:D.l};let l=0;n({value:0});let u=(a=0,o=0,{update:e=>{let t;return void 0===i||e.startTime-s>=t2||e.startTime-i>=t1?(i=s=e.startTime,o=a=e.value,t=!0):(a+=e.value,s=e.startTime,(t=e.value>o)&&(o=e.value)),{cumulatedValue:a,isMaxValue:t}}}),c=e$(e,{type:h.LAYOUT_SHIFT,buffered:!0}).subscribe(i=>{var s;for(let a of i){if(a.hadRecentInput||a.startTime<t)continue;let{cumulatedValue:i,isMaxValue:o}=u.update(a);if(o){let e=a.sources.find(e=>!!e.node&&eK(e.node));r={target:(null==e?void 0:e.node)?new WeakRef(e.node):void 0,time:(0,E.vk)(t,a.startTime),previousRect:null==e?void 0:e.previousRect,currentRect:null==e?void 0:e.currentRect}}if(i>l){l=i;let t=null===(s=null==r?void 0:r.target)||void 0===s?void 0:s.deref();n({value:(0,j.LI)(l,4),targetSelector:t&&tv(t,e.actionNameAttribute),time:null==r?void 0:r.time,previousRect:(null==r?void 0:r.previousRect)?t0(r.previousRect):void 0,currentRect:(null==r?void 0:r.currentRect)?t0(r.currentRect):void 0})}}});return{stop:()=>{c.unsubscribe()}}}(r,a.relative,e=>{l.cumulativeLayoutShift=e,i()}),{stop:f,getInteractionToNextPaint:g,setViewEnd:m}=function(e,t,n){let r,i;if(!(eV(h.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:()=>void 0,setViewEnd:D.l,stop:D.l};let{getViewInteractionCount:s,stopViewInteractionCount:a}=function(e){"interactionCount"in performance||o||(o=new window.PerformanceObserver((0,y.dm)(e=>{e.getEntries().forEach(e=>{e.interactionId&&(t5=Math.min(t5,e.interactionId),t3=((t6=Math.max(t6,e.interactionId))-t5)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0});let t="initial_load"===e?0:t4(),n={stopped:!1};return{getViewInteractionCount:()=>n.stopped?n.interactionCount:t4()-t,stopViewInteractionCount:()=>{n={stopped:!0,interactionCount:t4()-t}}}}(n),l=1/0,u=function(e){let t=[];function n(){t.sort((e,t)=>t.duration-e.duration).splice(10)}return{process(e){let r=t.findIndex(t=>e.interactionId===t.interactionId),i=t[t.length-1];-1!==r?e.duration>t[r].duration&&(t[r]=e,n()):(t.length<10||e.duration>i.duration)&&(t.push(e),n())},estimateP98Interaction(){let n=Math.min(t.length-1,Math.floor(e()/50));return t[n]}}}(s),c=-1;function d(n){for(let e of n)e.interactionId&&e.startTime>=t&&e.startTime<=l&&u.process(e);let s=u.estimateP98Interaction();s&&s.duration!==c&&(c=s.duration,i=(0,E.vk)(t,s.startTime),!(r=function(e){let t=tA.get(e);return tA.delete(e),t}(s.startTime))&&s.target&&eK(s.target)&&(r=tv(s.target,e.actionNameAttribute)))}let p=e$(e,{type:h.FIRST_INPUT,buffered:!0}).subscribe(d),f=e$(e,{type:h.EVENT,durationThreshold:40,buffered:!0}).subscribe(d);return{getInteractionToNextPaint:()=>c>=0?{value:Math.min(c,t8),targetSelector:r,time:i}:s()?{value:0}:void 0,setViewEnd:e=>{l=e,a()},stop:()=>{f.unsubscribe(),p.unsubscribe()}}}(r,a.relative,s);return{stop:()=>{u(),p(),d()},stopINPTracking:f,setLoadEvent:c,setViewEnd:m,getCommonViewMetrics:()=>(l.interactionToNextPaint=g(),l)}}(e,t,n,r,H,s,a),{stop:L,initialViewMetrics:F}="initial_load"===s?function(e,t,n){var r;let i={},{stop:s}=function(e,t,n=tK){return function(e,t){let n;let{stop:r}=(0,tW.H)(e,"complete",()=>{n=(0,ez.wg)(()=>t())});return{stop:()=>{r(),(0,ez.DJ)(n)}}}(e,()=>{var e;let r=n();r.loadEventEnd<=0||t({domComplete:(e=r).domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=(0,E.$S)()?e.responseStart:void 0})})}(e,e=>{t(e.loadEvent),i.navigationTimings=e,n()}),a=tQ(e),{stop:o}=(r=e=>{i.firstContentfulPaint=e,n()},{stop:e$(e,{type:h.PAINT,buffered:!0}).subscribe(e=>{let t=e.find(e=>"first-contentful-paint"===e.name&&e.startTime<a.timeStamp&&e.startTime<tX);t&&r(t.startTime)}).unsubscribe}),{stop:l}=function(e,t,n,r){let i=1/0,{stop:s}=(0,Q.l)(e,n,["pointerdown","keydown"],e=>{i=e.timeStamp},{capture:!0,once:!0}),a=0,o=e$(e,{type:h.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(n=>{let s=(0,W.Uk)(n,e=>e.entryType===h.LARGEST_CONTENTFUL_PAINT&&e.startTime<i&&e.startTime<t.timeStamp&&e.startTime<tY&&e.size>a);if(s){let t;s.element&&(t=tv(s.element,e.actionNameAttribute)),r({value:s.startTime,targetSelector:t,resourceUrl:s.url}),a=s.size}});return{stop:()=>{s(),o.unsubscribe()}}}(e,a,window,e=>{i.largestContentfulPaint=e,n()}),{stop:u}=function(e,t,n){let r=e$(e,{type:h.FIRST_INPUT,buffered:!0}).subscribe(r=>{let i=r.find(e=>e.startTime<t.timeStamp);if(i){let t;let r=(0,E.vk)(i.startTime,i.processingStart);i.target&&eK(i.target)&&(t=tv(i.target,e.actionNameAttribute)),n({delay:r>=0?r:0,time:i.startTime,targetSelector:t})}});return{stop:()=>{r.unsubscribe()}}}(e,a,e=>{i.firstInput=e,n()});return{stop:function(){s(),o(),l(),u(),a.stop()},initialViewMetrics:i}}(r,A,H):{stop:D.l,initialViewMetrics:{}},{stop:U,eventCounts:z}=function(e,t,n){let{stop:r,eventCounts:i}=eB({lifeCycle:e,isChildEvent:e=>e.view.id===t,onChange:n});return{stop:r,eventCounts:i}}(e,m,H),$=(0,ez.yb)(q,nr);function V(){e.notify(3,{id:m,name:c,context:S.getContext(),startClocks:a})}function H(){V(),I()}function q(){x(),V(),b+=1;let t=void 0===u?(0,E.nx)():u.timeStamp;e.notify(4,{customTimings:_,documentVersion:b,id:m,name:c,service:d,version:p,context:S.getContext(),loadingType:s,location:w,startClocks:a,commonViewMetrics:N(),initialViewMetrics:F,duration:(0,E.vk)(a.timeStamp,t),isActive:void 0===u,sessionIsActive:k,eventCounts:z})}return q(),S.changeObservable.subscribe(H),{get name(){return c},service:d,version:p,contextManager:S,stopObservable:v,end(t={}){var n,r;!u&&(u=null!==(n=t.endClocks)&&void 0!==n?n:(0,E.M8)(),k=null===(r=t.sessionIsActive)||void 0===r||r,e.notify(5,{endClocks:u}),e.notify(6,{endClocks:u}),(0,ez.vG)($),M(u.relative),O(),q(),(0,ez.wg)(()=>{this.stop()},ni))},stop(){L(),U(),R(),v.notify()},addTiming(e,t){if(u)return;let n=(0,E.pu)(t)?t:(0,E.vk)(a.timeStamp,t);_[function(e){let t=e.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return t!==e&&P.Vy.warn(`Invalid timing name: ${e}, sanitized to: ${t}`),t}(e)]=n,H()},setViewName(e){c=e,q()}}}(t,n,r,i,e,s,a,l);return c.add(u),u.stopObservable.subscribe(()=>{c.delete(u)}),u}return t.subscribe(10,()=>{d=p("route_change",void 0,{name:d.name,service:d.service,version:d.version,context:d.contextManager.getContext()})}),t.subscribe(9,()=>{d.end({sessionIsActive:!1})}),t.subscribe(11,e=>{e.reason===ei.y5.UNLOADING&&d.end()}),a&&(u=s.subscribe(({oldLocation:e,newLocation:t})=>{var n,r;n=e,r=t,(n.pathname!==r.pathname||!function(e){let t=e.substring(1);return""!==t&&!!document.getElementById(t)}(r.hash)&&ns(r.hash)!==ns(n.hash))&&(d.end(),d=p("route_change"))})),{addTiming:(e,t=(0,E.nx)())=>{d.addTiming(e,t)},startView:(e,t)=>{d.end({endClocks:t}),d=p("route_change",t,e)},setViewContext:e=>{d.contextManager.setContext(e)},setViewContextProperty:(e,t)=>{d.contextManager.setContextProperty(e,t)},setViewName:e=>{d.setViewName(e)},getViewContext:()=>d.contextManager.getContext(),stop:()=>{u&&u.unsubscribe(),d.end(),c.forEach(e=>e.stop())}}}(v,V,ee,ea,e,et,!e.trackViewsManually,s));$.push(eY);let{stop:eQ}=function(e,t,n,r=function(){let e=[];function t(t){let r;if(t.didTimeout){let e=performance.now();r=()=>30-(performance.now()-e)}else r=t.timeRemaining.bind(t);for(;r()>0&&e.length;)e.shift()();e.length&&n()}function n(){(0,tB.BB)(t,{timeout:tz})}return{push(t){1===e.push(t)&&n()}}}(),i=function(e,t,n=tK){(0,tW.H)(e,"interactive",()=>{let e=n(),r=Object.assign(e.toJSON(),{entryType:h.RESOURCE,initiatorType:eT,duration:e.responseEnd,traceId:function(e){let t=function(e){let t=e.querySelector("meta[name=dd-trace-id]"),n=e.querySelector("meta[name=dd-trace-time]");return tq(t&&t.content,n&&n.content)}(e)||function(e){let t=function(e){for(let t=0;t<e.childNodes.length;t+=1){let n=tG(e.childNodes[t]);if(n)return n}if(e.body)for(let t=e.body.childNodes.length-1;t>=0;t-=1){let n=e.body.childNodes[t],r=tG(n);if(r)return r;if(!eG(n))break}}(e);if(t)return tq((0,C.rx)(t,"trace-id"),(0,C.rx)(t,"trace-time"))}(e);if(!(!t||t.traceTime<=(0,E.x3)()-tH))return t.traceId}(document),toJSON:()=>({...r,toJSON:void 0})});t(r)})}){e.subscribe(8,e=>{a(()=>(function(e,t,n){var r,i,s;let a=function(e){if(!performance||!("getEntriesByName"in performance))return;let t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;let n=t.filter(e=>!t$.has(e)).filter(e=>ex(e)&&eA(e)).filter(t=>{var n,r,i;return n=t,r=e.startClocks.relative,i=tV({startTime:e.startClocks.relative,duration:e.duration}),n.startTime>=r-1&&tV(n)<=(0,E.Gw)(i,1)});if(1===n.length)return t$.add(n[0]),n[0].toJSON()}(e),o=a?(0,E.FR)(a.startTime):e.startClocks,l=function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}(e,t);if(!t.trackResources&&!l)return;let u="xhr"===e.type?"xhr":"fetch",c=a?tJ(a):void 0,d=(r=n,i=o,s=e.duration,r.wasInPageStateDuringPeriod("frozen",i.relative,s)?void 0:(0,E.Zj)(s)),h=(0,w.kg)({date:o.timeStamp,resource:{id:(0,C.lk)(),type:u,duration:d,method:e.method,status_code:e.status,protocol:a&&eO(a),url:eN(e.url)?eL(e.url):e.url,delivery_type:a&&eR(a)},type:"resource",_dd:{discarded:!t.trackResources}},l,c);return{startTime:o.relative,rawRumEvent:h,domainContext:{performanceEntry:a,xhr:e.xhr,response:e.response,requestInput:e.input,requestInit:e.init,error:e.error,isAborted:e.isAborted,handlingStack:e.handlingStack}}})(e,t,n))});let s=e$(t,{type:h.RESOURCE,buffered:!0}).subscribe(e=>{for(let n of e)"xmlhttprequest"!==n.initiatorType&&"fetch"!==n.initiatorType&&a(()=>tZ(n,t))});function a(t){r.push(()=>{let n=t();n&&e.notify(12,n)})}return i(t,e=>{a(()=>tZ(e,t))}),{stop:()=>{s.unsubscribe()}}}(V,e,en);if($.push(eQ),e.trackLongTasks){if(null===(g=PerformanceObserver.supportedEntryTypes)||void 0===g?void 0:g.includes(h.LONG_ANIMATION_FRAME)){let{stop:t}=function(e,t){let n=e$(t,{type:h.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(t=>{for(let n of t){let t=(0,E.FR)(n.startTime),r={date:t.timeStamp,long_task:{id:(0,C.lk)(),entry_type:"long-animation-frame",duration:(0,E.Zj)(n.duration),blocking_duration:(0,E.Zj)(n.blockingDuration),first_ui_event_timestamp:(0,E.Zj)(n.firstUIEventTimestamp),render_start:(0,E.Zj)(n.renderStart),style_and_layout_start:(0,E.Zj)(n.styleAndLayoutStart),start_time:(0,E.Zj)(n.startTime),scripts:n.scripts.map(e=>({duration:(0,E.Zj)(e.duration),pause_duration:(0,E.Zj)(e.pauseDuration),forced_style_and_layout_duration:(0,E.Zj)(e.forcedStyleAndLayoutDuration),start_time:(0,E.Zj)(e.startTime),execution_start:(0,E.Zj)(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}))},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:r,startTime:t.relative,domainContext:{performanceEntry:n}})}});return{stop:()=>n.unsubscribe()}}(V,e);$.push(t)}else!function(e,t){e$(t,{type:h.LONG_TASK,buffered:!0}).subscribe(n=>{for(let r of n){if(r.entryType!==h.LONG_TASK||!t.trackLongTasks)break;let n=(0,E.FR)(r.startTime),i={date:n.timeStamp,long_task:{id:(0,C.lk)(),entry_type:"long-task",duration:(0,E.Zj)(r.duration)},type:"long_task",_dd:{discarded:!1}};e.notify(12,{rawRumEvent:i,startTime:n.relative,domainContext:{performanceEntry:r}})}})}(V,e)}let{addError:e1}=function(e,t,n){var r,i,s;let a=new es.c;return r=a,(0,tU.l)([P.bP.error]).subscribe(e=>r.notify(e.error)),(0,tD.mj)(a),function(e,t){(0,tj.u)(e,[tj.V.cspViolation,tj.V.intervention]).subscribe(e=>t.notify(e))}(t,a),a.subscribe(t=>e.notify(14,{error:t})),i=e,s=n,i.subscribe(14,({error:e,customerContext:t,savedCommonContext:n})=>{i.notify(12,{customerContext:t,savedCommonContext:n,...function(e,t){let n={date:e.startClocks.timeStamp,error:{id:(0,C.lk)(),message:e.message,source:e.source,stack:e.stack,handling_stack:e.handlingStack,component_stack:e.componentStack,type:e.type,handling:e.handling,causes:e.causes,source_type:"browser",fingerprint:e.fingerprint,csp:e.csp},type:"error",view:{in_foreground:t.wasInPageStateAt("active",e.startClocks.relative)}},r={error:e.originalError,handlingStack:e.handlingStack};return{rawRumEvent:n,startTime:e.startClocks.relative,domainContext:r}}(e,s)})}),{addError:({error:e,handlingStack:t,componentStack:n,startClocks:r,context:s},a)=>{let o=(0,tN.bJ)(e)?(0,tL.T)(e):void 0,l=(0,tN.As)({stackTrace:o,originalError:e,handlingStack:t,componentStack:n,startClocks:r,nonErrorPrefix:"Provided",source:tF.g.CUSTOM,handling:"handled"});i.notify(14,{customerContext:s,savedCommonContext:a,error:l})}}}(V,e,en);!function(e,t,n){var r,i;let s={clearTracingIfNeeded:J,traceFetch:e=>X(t,e,n,t=>{var n;if(e.input instanceof Request&&!(null===(n=e.init)||void 0===n?void 0:n.headers))e.input=new Request(e.input),Object.keys(t).forEach(n=>{e.input.headers.append(n,t[n])});else{e.init=(0,B.yG)(e.init);let n=[];e.init.headers instanceof Headers?e.init.headers.forEach((e,t)=>{n.push([t,e])}):Array.isArray(e.init.headers)?e.init.headers.forEach(e=>{n.push(e)}):e.init.headers&&Object.keys(e.init.headers).forEach(t=>{n.push([t,e.init.headers[t]])}),e.init.headers=n.concat((0,W.WP)(t))}}),traceXhr:(e,r)=>X(t,e,n,e=>{Object.keys(e).forEach(t=>{r.setRequestHeader(t,e[t])})})};(function(e,t,n){(0,eb.G)(t).subscribe(t=>{if(eP(t.url))switch(t.state){case"start":n.traceXhr(t,t.xhr),t.requestIndex=eU(),e.notify(7,{requestIndex:t.requestIndex,url:t.url});break;case"complete":n.clearTracingIfNeeded(t),e.notify(8,{duration:t.duration,method:t.method,requestIndex:t.requestIndex,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"xhr",url:t.url,xhr:t.xhr,isAborted:t.isAborted,handlingStack:t.handlingStack})}})})(e,t,s),r=e,i=s,(0,N.i)().subscribe(e=>{if(eP(e.url))switch(e.state){case"start":i.traceFetch(e),e.requestIndex=eU(),r.notify(7,{requestIndex:e.requestIndex,url:e.url});break;case"resolve":(function(e,t){let n=e.response&&(0,ew.i)(e.response);n&&n.body?(0,eS._)(n.body,()=>{t((0,E.vk)(e.startClocks.timeStamp,(0,E.nx)()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1}):t((0,E.vk)(e.startClocks.timeStamp,(0,E.nx)()))})(e,t=>{i.clearTracingIfNeeded(e),r.notify(8,{duration:t,method:e.method,requestIndex:e.requestIndex,responseType:e.responseType,spanId:e.spanId,startClocks:e.startClocks,status:e.status,traceId:e.traceId,traceSampled:e.traceSampled,type:"fetch",url:e.url,response:e.response,init:e.init,input:e.input,isAborted:e.isAborted,handlingStack:e.handlingStack})})}})}(V,e,Y);let e2=function(e,t,n){function r(n){!t.wasInPageStateDuringPeriod("frozen",n.startClocks.relative,n.duration)&&e.notify(12,function(e,t){let n={date:e.startClocks.timeStamp,vital:{id:(0,C.lk)(),type:e.type,name:e.name,duration:(0,E.Zj)(e.duration),description:e.description},type:"vital"};return t&&(n._dd={vital:{computed_value:!0}}),{rawRumEvent:n,startTime:e.startClocks.relative,customerContext:e.context,domainContext:{}}}(n,!0))}return{addDurationVital:r,startDurationVital:(e,t={})=>x(n,e,t),stopDurationVital:(e,t={})=>{A(r,n,e,t)}}}(V,en,p),e3=(b=e.applicationId,{get:e=>{let t=ek.findView(e),n=eE.findUrl(e),r=Y.findTrackedSession(e);if(r&&t&&n){let i=eI.findActionId(e);return{application_id:b,session_id:r.id,user_action:i?{id:i}:void 0,view:{id:t.id,name:t.name,referrer:n.referrer,url:n.url}}}}});return{addAction:eC,addError:e1,addTiming:eD,addFeatureFlagEvaluation:G.addFeatureFlagEvaluation,startView:eF,setViewContext:eZ,setViewContextProperty:eJ,getViewContext:eX,setViewName:eq,lifeCycle:V,viewHistory:ek,session:Y,stopSession:()=>Y.expire(),getInternalContext:e3.get,startDurationVital:e2.startDurationVital,stopDurationVital:e2.stopDurationVital,addDurationVital:e2.addDurationVital,stop:()=>{$.forEach(e=>e())}}}var nI=n(8966);function nC(e,{session:t,viewContext:n,errorType:r}){let i=t?t.id:"no-session-id",s=[];void 0!==r&&s.push(`error-type=${r}`),n&&(s.push(`seed=${n.id}`),s.push(`from=${n.startClocks.timeStamp}`));let a=function(e){let t=e.site,n=e.subdomain||function(e){switch(e.site){case nI.NW:case nI.dV:return"app";case nI.Bb:return"dd";default:return}}(e);return`https://${n?`${n}.`:""}${t}`}(e),o=`/rum/replay/sessions/${i}`;return`${a}${o}?${s.join("&")}`}},3307:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataAdapterCachePrefix=void 0,t.DataAdapterCachePrefix="statsig.cached"},3334:()=>{},3368:(e,t,n)=>{"use strict";var r,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t._getInstance=t._getStatsigGlobalFlag=t._getStatsigGlobal=void 0;let a=n(1414);t._getStatsigGlobal=()=>__STATSIG__||d,t._getStatsigGlobalFlag=e=>(0,t._getStatsigGlobal)()[e],t._getInstance=e=>{let n=(0,t._getStatsigGlobal)();return e?n.instances&&n.instances[e]:(n.instances&&Object.keys(n.instances).length>1&&a.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),n.firstInstance)};let o="__STATSIG__",l="undefined"!=typeof window?window:{},u=void 0!==n.g?n.g:{},c="undefined"!=typeof globalThis?globalThis:{},d=null!==(s=null!==(i=null!==(r=l[o])&&void 0!==r?r:u[o])&&void 0!==i?i:c[o])&&void 0!==s?s:{instance:t._getInstance};l[o]=d,u[o]=d,c[o]=d},3379:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>m,W3:()=>l,bN:()=>d,bm:()=>p,h4:()=>o,n2:()=>v,y5:()=>h,yH:()=>u,zk:()=>g});var r=n(2584),i=n(7600),s=n(120),a=n(8530);function o(e,t=[]){return[e,t]}function l(e,t){let[n,r]=e;return[n,[...r,t]]}function u(e,t){for(let n of e[1]){let e=n[0].type;if(t(n,e))return!0}return!1}function c(e){return a.O.__SENTRY__&&a.O.__SENTRY__.encodePolyfill?a.O.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function d(e){let[t,n]=e,r=JSON.stringify(t);function s(e){"string"==typeof r?r="string"==typeof e?r+e:[c(r),e]:r.push("string"==typeof e?c(e):e)}for(let e of n){let[t,n]=e;if(s(`
${JSON.stringify(t)}
`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify((0,i.S8)(n))}s(e)}}return"string"==typeof r?r:function(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),n=0;for(let r of e)t.set(r,n),n+=r.length;return t}(r)}function h(e){return[{type:"span"},e]}function p(e){let t="string"==typeof e.data?c(e.data):e.data;return[(0,s.Ce)({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}let f={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function g(e){return f[e]}function m(e){if(!e||!e.sdk)return;let{name:t,version:n}=e.sdk;return{name:t,version:n}}function v(e,t,n,i){let a=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&i&&{dsn:(0,r.SB)(i)},...a&&{trace:(0,s.Ce)({...a})}}}},3399:(e,t,n)=>{"use strict";n.d(t,{$X:()=>o,GR:()=>c,M6:()=>u,eJ:()=>s,gO:()=>l});var r=n(120),i=n(8530);function s(){let e=i.O,t=e.crypto||e.msCrypto,n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{let e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16))}function a(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function o(e){let{message:t,event_id:n}=e;if(t)return t;let r=a(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){let r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function u(e,t){let n=a(e);if(!n)return;let r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){let e={...r&&r.data,...t.data};n.mechanism.data=e}}function c(e){if(function(e){try{return e.__sentry_captured__}catch(e){}}(e))return!0;try{(0,r.my)(e,"__sentry_captured__",!0)}catch(e){}return!1}},3404:(e,t,n)=>{"use strict";n.d(t,{sA:()=>_});var r=n(16),i=n(3870),s=n(5572),a=n(9589),o=n(7132),l=n(905),u=n(4786),c=n(5659);let d=80*l._m,h=3*l.iH,p=o.iW,f=o.OY;function g(e,t,n,r,i){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?m(e,t,n,{onSuccess:()=>v(0,t,n,r,i),onFailure:()=>{t.queuedPayloads.enqueue(e),function e(t,n,r,i){2===t.transportStatus&&(0,a.wg)(()=>{m(t.queuedPayloads.first(),t,n,{onSuccess:()=>{t.queuedPayloads.dequeue(),t.currentBackoffTime=f,v(1,t,n,r,i)},onFailure:()=>{t.currentBackoffTime=Math.min(p,2*t.currentBackoffTime),e(t,n,r,i)}})},t.currentBackoffTime)}(t,n,r,i)}}):t.queuedPayloads.enqueue(e)}function m(e,t,n,{onSuccess:r,onFailure:i}){t.bandwidthMonitor.add(e),n(e,n=>{var s;t.bandwidthMonitor.remove(e),"opaque"!==(s=n).type&&(0===s.status&&!navigator.onLine||408===s.status||429===s.status||(0,u.G)(s.status))?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:n.status},i()):(t.transportStatus=0,r())})}function v(e,t,n,r,i){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:`Reached max ${r} events size queued for upload: ${h/l.iH}MiB`,source:c.g.AGENT,startClocks:(0,o.M8)()}),t.queueFullReported=!0);let s=t.queuedPayloads;for(t.queuedPayloads=y();s.size()>0;)g(s.dequeue(),t,n,r,i)}function y(){let e=[];return{bytesCount:0,enqueue(t){!this.isFull()&&(e.push(t),this.bytesCount+=t.bytesCount)},first:()=>e[0],dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:()=>e.length,isFull(){return this.bytesCount>=h}}}function _(e,t,n){let s={transportStatus:0,currentBackoffTime:f,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=d&&this.ongoingRequestCount<32},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount}},queuedPayloads:y(),queueFullReported:!1},a=(n,r)=>{var s,a,o,l;return s=e,a=t,o=n,l=r,void(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}}()&&o.bytesCount<a?fetch(s.build("fetch",o),{method:"POST",body:o.data,keepalive:!0,mode:"cors"}).then((0,i.dm)(e=>null==l?void 0:l({status:e.status,type:e.type})),(0,i.dm)(()=>{w(s.build("xhr",o),o.data,l)})):w(s.build("xhr",o),o.data,l))};return{send:t=>{g(t,s,a,e.trackType,n)},sendOnExit:n=>{(function(e,t,n){if(navigator.sendBeacon&&n.bytesCount<t)try{let t=e.build("beacon",n);if(navigator.sendBeacon(t,n.data))return}catch(e){var i;i=e,b||(b=!0,(0,r.VJ)(i))}w(e.build("xhr",n),n.data)})(e,t,n)}}}let b=!1;function w(e,t,n){let r=new XMLHttpRequest;r.open("POST",e,!0),t instanceof Blob&&r.setRequestHeader("Content-Type",t.type),(0,s.q)({allowUntrustedEvents:!0},r,"loadend",()=>{null==n||n({status:r.status})},{once:!0}),r.send(t)}},3417:()=>{},3490:(e,t,n)=>{e.exports=n(6210)},3506:(e,t,n)=>{"use strict";function r(e){return{...e}}function i(e,t){return Object.keys(e).some(n=>e[n]===t)}function s(e){return 0===Object.keys(e).length}function a(e,t){let n={};for(let r of Object.keys(e))n[r]=t(e[r]);return n}n.d(t,{LG:()=>a,RI:()=>s,Rj:()=>i,yG:()=>r})},3511:(e,t,n)=>{"use strict";function r(e){return null===e?"null":Array.isArray(e)?"array":typeof e}n.d(t,{P:()=>r})},3539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,m:()=>a});var r=n(8471),i=n(3870),s=n(8778);function a(e){let t={version:"6.2.1",onReady(e){e()},...e};return Object.defineProperty(t,"_setDebug",{get:()=>i.pM,enumerable:!1}),t}function o(e,t,n){let i=e[t];i&&!i.q&&i.version&&s.Vy.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[t]=n,i&&i.q&&i.q.forEach(e=>(0,r.y)(e,"onReady callback threw an error:")())}},3556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getStorageKey=t._getUserStorageKey=void 0;let r=n(1579);function i(e,t,n){var i;if(n)return n(e,t);let s=t&&t.customIDs?t.customIDs:{},a=[`uid:${null!==(i=null==t?void 0:t.userID)&&void 0!==i?i:""}`,`cids:${Object.keys(s).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${s[e]}`).join(",")}`,`k:${e}`];return(0,r._DJB2)(a.join("|"))}t._getUserStorageKey=i,t._getStorageKey=function(e,t,n){return t?i(e,t,n):(0,r._DJB2)(`k:${e}`)}},3687:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,N:()=>a});var r=n(2023),i=n(5572);function s(e,t,n){return document.readyState===t||"complete"===document.readyState?(n(),{stop:r.l}):(0,i.q)(e,window,"complete"===t?"load":"DOMContentLoaded",n,{once:!0})}function a(e,t){return new Promise(n=>{s(e,t,n)})}},3703:(e,t,n)=>{"use strict";n.d(t,{$:()=>i});var r=n(8778);function i(e,t){t.silentMultipleInit||r.Vy.error(`${e} is already initialized.`)}},3804:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>m,WA:()=>h,bX:()=>g,hO:()=>v,uT:()=>p});var r=n(8471),i=n(8778),s=n(7132),a=n(6924),o=n(905),l=n(3506),u=n(6919),c=n(9294),d=n(5067);let h={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},p={ALL:"all",SAMPLED:"sampled"};function f(e,t){return null==e||"string"==typeof e||(i.Vy.error(`${t} must be defined as a string`),!1)}function g(e,t){return!!(void 0===e||(0,a.fp)(e))||(i.Vy.error(`${t} Sample Rate should be a number between 0 and 100`),!1)}function m(e){var t,n,a,h,p,m,v;if(!e||!e.clientToken){i.Vy.error("Client Token is not configured, we will not send any data.");return}if((!(v=e.site)||"string"!=typeof v||/(datadog|ddog|datad0g|dd0g)/.test(v)||(i.Vy.error(`Site should be a valid Datadog site. ${i.xG} ${i.fH}/getting_started/site/.`),0))&&g(e.sessionSampleRate,"Session")&&g(e.telemetrySampleRate,"Telemetry")&&g(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&g(e.telemetryUsageSampleRate,"Telemetry Usage")&&f(e.version,"Version")&&f(e.env,"Env")&&f(e.service,"Service")){if(void 0!==e.trackingConsent&&!(0,l.Rj)(c.w,e.trackingConsent)){i.Vy.error('Tracking Consent should be either "granted" or "not-granted"');return}return{beforeSend:e.beforeSend&&(0,r.y)(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:(0,u.nd)(e),sessionSampleRate:null!==(t=e.sessionSampleRate)&&void 0!==t?t:100,telemetrySampleRate:null!==(n=e.telemetrySampleRate)&&void 0!==n?n:20,telemetryConfigurationSampleRate:null!==(a=e.telemetryConfigurationSampleRate)&&void 0!==a?a:5,telemetryUsageSampleRate:null!==(h=e.telemetryUsageSampleRate)&&void 0!==h?h:5,service:e.service||void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!==(p=e.trackingConsent)&&void 0!==p?p:c.w.GRANTED,trackAnonymousUser:null===(m=e.trackAnonymousUser)||void 0===m||m,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*o._m,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*s.OY,batchMessagesLimit:50,messageBytesLimit:256*o._m,...(0,d.T)(e)}}}function v(e){return{session_sample_rate:e.sessionSampleRate,telemetry_sample_rate:e.telemetrySampleRate,telemetry_configuration_sample_rate:e.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:e.telemetryUsageSampleRate,use_before_send:!!e.beforeSend,use_partitioned_cross_site_session_cookie:e.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:e.useSecureSessionCookie,use_proxy:!!e.proxy,silent_multiple_init:e.silentMultipleInit,track_session_across_subdomains:e.trackSessionAcrossSubdomains,track_anonymous_user:e.trackAnonymousUser,session_persistence:e.sessionPersistence,allow_fallback_to_local_storage:!!e.allowFallbackToLocalStorage,store_contexts_across_pages:!!e.storeContextsAcrossPages,allow_untrusted_events:!!e.allowUntrustedEvents,tracking_consent:e.trackingConsent}}},3811:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=function e(t){var n,r,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(n=0;n<s;n++)t[n]&&(r=e(t[n]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r)}return i}(e))&&(r&&(r+=" "),r+=t);return r}},3858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoKey=t.MemoPrefix=void 0,t.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_layer:"l",_paramStore:"p"};let n=new Set([]),r=new Set(["userPersistedValues"]);t.createMemoKey=function(e,t,i){let s=`${e}|${t}`;if(!i)return s;for(let e of Object.keys(i)){if(r.has(e))return;n.has(e)?s+=`|${e}=true`:s+=`|${e}=${i[e]}`}return s}},3865:(e,t,n)=>{"use strict";n.d(t,{l:()=>f});var r=n(144),i=n(565),s=n(8778),a=n(3870),o=n(8453),l=n(8345),u=n(5659),c=n(7090),d=n(957),h=n(7132);let p={};function f(e){let t=e.map(e=>{var t;return p[e]||(p[e]=(t=e,new i.c(e=>{let n=s.JZ[t];return s.JZ[t]=(...i)=>{n.apply(console,i);let p=(0,d.uC)();(0,a.um)(()=>{e.notify(function(e,t,n){let i;let a=e.map(e=>{var t;return"string"==typeof(t=e)?(0,o.a)(t):(0,r.bJ)(t)?(0,d.NR)((0,c.T)(t)):(0,l.s)((0,o.a)(t),void 0,2)}).join(" ");if(t===s.bP.error){let t=e.find(r.bJ);i={stack:t?(0,d.Yn)((0,c.T)(t)):void 0,fingerprint:(0,r.Nt)(t),causes:t?(0,r.Dr)(t,"console"):void 0,startClocks:(0,h.M8)(),message:a,source:u.g.CONSOLE,handling:"handled",handlingStack:n}}return{api:t,message:a,error:i,handlingStack:n}}(i,t,p))})},()=>{s.JZ[t]=n}}))),p[e]});return(0,i.F)(...t)}},3870:(e,t,n)=>{"use strict";let r;n.d(t,{Bd:()=>a,Dx:()=>d,Ed:()=>l,dm:()=>u,oO:()=>h,pM:()=>o,um:()=>c});var i=n(8778);let s=!1;function a(e){r=e}function o(e){s=e}function l(e,t,n){let i=n.value;n.value=function(...e){return(r?u(i):i).apply(this,e)}}function u(e){return function(){return c(e,this,arguments)}}function c(e,t,n){try{return e.apply(t,n)}catch(e){d(e)}}function d(e){if(h(e),r)try{r(e)}catch(e){h(e)}}function h(...e){s&&i.Vy.error("[MONITOR]",...e)}},3908:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(432),i=n(5587);function s(e){if("boolean"==typeof e)return Number(e);let t="string"==typeof e?parseFloat(e):e;if("number"!=typeof t||isNaN(t)||t<0||t>1){r.T&&i.vF.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);return}return t}},3926:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});let r=!1},3954:(e,t,n)=>{"use strict";let r;function i(){return 0===a()}function s(){return 1===a()}function a(){return null!=r?r:r=function(e=window){var t;let n=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(n)?0:(null===(t=e.navigator.vendor)||void 0===t?void 0:t.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?1:2}()}n.d(t,{F2:()=>i,nr:()=>s})},4007:(e,t,n)=>{"use strict";n.d(t,{MI:()=>s,TC:()=>o,kM:()=>a});var r=n(9915),i=n(2670);let s=RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function a(e,t){let n=function(e){let t;if(!e)return;let n=e.match(s);if(n)return"1"===n[3]?t=!0:"0"===n[3]&&(t=!1),{traceId:n[1],parentSampled:t,parentSpanId:n[2]}}(e),a=(0,r.yD)(t);if(!n||!n.traceId)return{traceId:(0,i.el)(),spanId:(0,i.ZF)()};let{traceId:o,parentSpanId:l,parentSampled:u}=n;return{traceId:o,parentSpanId:l,spanId:(0,i.ZF)(),sampled:u,dsc:a||{}}}function o(e=(0,i.el)(),t=(0,i.ZF)(),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}},4045:(e,t,n)=>{e.exports=n(925)},4100:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>r.Dk,Wp:()=>r.Wp});var r=n(2529);(0,r.KO)("firebase","11.1.0","app")},4121:(e,t,n)=>{"use strict";n.d(t,{H:()=>h});var r=n(9189),i=n(2419),s=n(5587),a=n(3399),o=n(2670),l=n(9146),u=n(5903),c=n(7060);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,o.el)(),spanId:(0,o.ZF)()}}clone(){let e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,c.r)(e,(0,c.f)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,r.qO)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;let t="function"==typeof e?e(this):e,[n,r]=t instanceof h?[t.getScopeData(),t.getRequestSession()]:(0,i.Qd)(t)?[e,e.requestSession]:[],{tags:s,extra:a,user:o,contexts:l,level:u,fingerprint:c=[],propagationContext:d}=n||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...a},this._contexts={...this._contexts,...l},o&&Object.keys(o).length&&(this._user=o),u&&(this._level=u),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,(0,c.r)(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,o.el)()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){let n="number"==typeof t?t:100;if(n<=0)return this;let r={timestamp:(0,l.lu)(),...e};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,c.f)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=(0,u.h)(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext={spanId:(0,o.ZF)(),...e},this}getPropagationContext(){return this._propagationContext}captureException(e,t){let n=t&&t.event_id?t.event_id:(0,a.eJ)();if(!this._client)return s.vF.warn("No client configured on scope - will not capture exception!"),n;let r=Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){let r=n&&n.event_id?n.event_id:(0,a.eJ)();if(!this._client)return s.vF.warn("No client configured on scope - will not capture message!"),r;let i=Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){let n=t&&t.event_id?t.event_id:(0,a.eJ)();return this._client?this._client.captureEvent(e,{...t,event_id:n},this):s.vF.warn("No client configured on scope - will not capture event!"),n}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}let h=d},4139:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._makeDataAdapterResult=t.DataAdapterCore=void 0;let i=n(1414),s=n(111),a=n(9423),o=n(6435),l=n(2356);class u{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new d}attach(e,t){this._sdkKey=e,this._options=t}getDataSync(e){let t=e&&(0,a._normalizeUser)(e,this._options),n=this._getCacheKey(t),r=this._inMemoryCache.get(n,t);if(r)return r;let i=this._loadFromCache(n);return i?(this._inMemoryCache.add(n,i),this._inMemoryCache.get(n,t)):null}setData(e,t){let n=t&&(0,a._normalizeUser)(t,this._options),r=this._getCacheKey(n);this._inMemoryCache.add(r,c("Bootstrap",e,null,n))}_getDataAsyncImpl(e,t,n){return r(this,void 0,void 0,function*(){o.Storage.isReady()||(yield o.Storage.isReadyResolver());let r=null!=e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(r,t,n)];return(null==n?void 0:n.timeoutMs)&&s.push(new Promise(e=>setTimeout(e,n.timeoutMs)).then(()=>(i.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(s)})}_prefetchDataImpl(e,t){return r(this,void 0,void 0,function*(){let n=e&&(0,a._normalizeUser)(e,this._options),r=this._getCacheKey(n),i=yield this._getDataAsyncImpl(null,n,t);i&&this._inMemoryCache.add(r,Object.assign(Object.assign({},i),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(e,t,n){var a;return r(this,void 0,void 0,function*(){let r=null!==(a=null==e?void 0:e.data)&&void 0!==a?a:null,o=null!=e&&this._isCachedResultValidFor204(e,t),u=yield this._fetchFromNetwork(r,t,n,o);if(!u)return i.Log.debug("No response returned for latest value"),null;let d=(0,l._typedJsonParse)(u,"has_updates","Response"),h=this._getSdkKey(),p=s.StableID.get(h),f=null;if((null==d?void 0:d.has_updates)===!0)f=c("Network",u,p,t);else{if(!r||(null==d?void 0:d.has_updates)!==!1)return null;f=c("NetworkNotModified",r,p,t)}let g=this._getCacheKey(t);return this._inMemoryCache.add(g,f),this._writeToCache(g,f),f})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(i.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;let n=null===(t=o.Storage.getItem)||void 0===t?void 0:t.call(o.Storage,e);if(null==n)return null;let r=(0,l._typedJsonParse)(n,"source","Cached Result");return r?Object.assign(Object.assign({},r),{source:"Cache"}):null}_writeToCache(e,t){o.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;let n=null!==(t=(0,o._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};n[e]=Date.now();let r=h(n,10);r&&(delete n[r],o.Storage.removeItem(r)),(0,o._setObjectInStorage)(this._lastModifiedStoreKey,n)}}function c(e,t,n,r){return{source:e,data:t,receivedAt:Date.now(),stableID:n,fullUserHash:(0,a._getFullUserHash)(r)}}t.DataAdapterCore=u,t._makeDataAdapterResult=c;class d{constructor(){this._data={}}get(e,t){var n;let r=this._data[e],s=null==r?void 0:r.stableID,a=null===(n=null==t?void 0:t.customIDs)||void 0===n?void 0:n.stableID;return a&&s&&a!==s?(i.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):r}add(e,t){let n=h(this._data,9);n&&delete this._data[n],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function h(e,t){let n=Object.keys(e);return n.length<=t?null:n.reduce((t,n)=>{let r=e[t],i=e[n];return"object"==typeof r&&"object"==typeof i?i.receivedAt<r.receivedAt?n:t:i<r?n:t})}},4166:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,n:()=>o});var r=n(7132),i=n(6692),s=n(5004),a=n(8966);function o(e,t,n){let a=function(e,t){let n=`/api/v2/${t}`,r=e.proxy;if("string"==typeof r){let e=(0,i.l2)(r);return t=>`${e}?ddforward=${encodeURIComponent(`${n}?${t}`)}`}if("function"==typeof r)return e=>r({path:n,parameters:e});let s=l(t,e);return e=>`https://${s}${n}?${e}`}(e,t);return{build:(i,o)=>a(function({clientToken:e,internalAnalyticsSubdomain:t},n,i,a,{retry:o,encoding:l}){let u=["sdk_version:6.2.1",`api:${a}`].concat(i);o&&u.push(`retry_count:${o.count}`,`retry_after:${o.lastFailureStatus}`);let c=["ddsource=browser",`ddtags=${encodeURIComponent(u.join(","))}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.2.1")}`,"dd-evp-origin=browser",`dd-request-id=${(0,s.lk)()}`];return l&&c.push(`dd-evp-encoding=${l}`),"rum"===n&&c.push(`batch_time=${(0,r.nx)()}`),t&&c.reverse(),c.join("&")}(e,t,n,i,o)),urlPrefix:a(""),trackType:t}}function l(e,t){let{site:n=a.NW,internalAnalyticsSubdomain:r}=t;if("logs"===e&&t.usePciIntake&&n===a.NW)return a.$A;if(r&&n===a.NW)return`${r}.${a.NW}`;if(n===a.TC)return`http-intake.logs.${n}`;let i=n.split("."),s=i.pop();return`browser-intake-${i.join("-")}.${s}`}},4185:(e,t,n)=>{"use strict";n.d(t,{Aq:()=>a,R9:()=>r,q7:()=>l,sr:()=>o});var r,i=n(3506);!function(e){e.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",e.REMOTE_CONFIGURATION="remote_configuration",e.ACTION_NAME_MASKING="action_name_masking",e.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",e.MISSING_URL_CONTEXT_TELEMETRY="missing_url_context_telemetry"}(r||(r={}));let s=new Set;function a(e){Array.isArray(e)&&function(e){e.forEach(e=>{s.add(e)})}(e.filter(e=>(0,i.Rj)(r,e)))}function o(e){return s.has(e)}function l(){return s}},4288:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(n(4976).Delay)},4343:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(4960);function i(e,t){let n;let i=(0,r.V)();return i.Zone&&"function"==typeof i.Zone.__symbol__&&(n=e[i.Zone.__symbol__(t)]),n||(n=e[t]),n}},4347:(e,t,n)=>{"use strict";n.d(t,{qR:()=>c});var r=n(905),i=n(2023),s=n(8345),a=n(8778),o=n(3506);let l=3*r._m,u=16*r._m;function c(e=2){let t=new Map,n=!1;function i(s=0){var o;if(n||0===e)return;let c=2===e?l:u,d=s;t.forEach(e=>{d+=e.getBytesCount()}),d>c&&(o=c,a.Vy.warn(`Customer data exceeds the recommended ${o/r._m}KiB threshold. ${a.xG} ${a.Xs}/#customer-data-exceeds-the-recommended-threshold-warning`),n=!0)}return{createDetachedTracker:()=>{let e=d(()=>i(e.getBytesCount()));return e},getOrCreateTracker:e=>(t.has(e)||t.set(e,d(i)),t.get(e)),setCompressionStatus:t=>{0===e&&(e=t,i())},getCompressionStatus:()=>e,stop:()=>{t.forEach(e=>e.stop()),t.clear()}}}function d(e){let t=0,{throttled:n,cancel:a}=(0,i.n)(n=>{t=(0,r.WW)((0,s.s)(n)),e()},200),l=()=>{a(),t=0};return{updateCustomerData:e=>{(0,o.RI)(e)?l():n(e)},resetCustomerData:l,getBytesCount:()=>t,stop:()=>{a()}}}},4390:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SkipFirstDelay=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.apply=function(){return s(this,void 0,void 0,function(){return a(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(4976).Delay)},4462:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUUID=void 0,t.getUUID=function(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=new Date().getTime(),t="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0,n="89ab"[Math.floor(4*Math.random())];return`xxxxxxxx-xxxx-4xxx-${n}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===n?r:7&r|8).toString(16)})}},4533:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendGTMEvent=void 0,t.GoogleTagManager=function(e){let{gtmId:t,gtmScriptUrl:n="https://www.googletagmanager.com/gtm.js",dataLayerName:r="dataLayer",auth:l,preview:u,dataLayer:c,nonce:d}=e;o=r;let h="dataLayer"!==r?`&l=${r}`:"",p=l?`&gtm_auth=${l}`:"",f=u?`&gtm_preview=${u}&gtm_cookies_win=x`:"";return(0,s.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:`
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        ${c?`w[l].push(${JSON.stringify(c)})`:""}
      })(window,'${r}');`},nonce:d}),(0,i.jsx)(a.default,{id:"_next-gtm","data-ntpc":"GTM",src:`${n}?id=${t}${h}${p}${f}`,nonce:d})]})};let i=n(6594),s=n(7178),a=r(n(3490)),o="dataLayer";t.sendGTMEvent=(e,t)=>{let n=t||o;window[n]=window[n]||[],window[n].push(e)}},4601:(e,t,n)=>{"use strict";n.d(t,{T2:()=>o,XW:()=>s,xg:()=>a});var r,i=n(2419);function s(e){return new o(t=>{t(e)})}function a(e){return new o((t,n)=>{n(e)})}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class o{constructor(e){o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new o((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()})}catch(e){return this.then(e=>e,e)}finally(e){return new o((t,n)=>{let r,i;return this.then(t=>{i=!1,r=t,e&&e()},t=>{i=!0,r=t,e&&e()}).then(()=>{if(i){n(r);return}t(r)})})}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{if(this._state===r.PENDING){if((0,i.Qg)(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(e=>{!e[0]&&(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)})}}}},4666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];"undefined"!=typeof window&&(void 0===window.gtag&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(e=window).gtag.apply(e,n))}},4687:e=>{"use strict";e.exports=JSON.parse('{"id":"google-analytics","description":"Install a Google Analytics tag on your website","website":"https://analytics.google.com/analytics/web/","scripts":[{"url":"https://www.googletagmanager.com/gtag/js","params":["id"],"strategy":"worker","location":"head","action":"append"},{"code":"window.dataLayer=window.dataLayer||[];window.gtag=function gtag(){window.dataLayer.push(arguments);};gtag(\'js\',new Date());gtag(\'config\',\'${args.id}\')","strategy":"worker","location":"head","action":"append"}]}')},4694:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>c,J0:()=>m,J5:()=>_,Ol:()=>f,SA:()=>g,bX:()=>p,o:()=>h,r:()=>d});var r=n(8032),i=n(2229),s=n(432),a=n(9189),o=n(5587),l=n(8530),u=n(1885);function c(e,t){return(0,i.o5)().captureException(e,(0,u.li)(t))}function d(e,t){return(0,i.o5)().captureEvent(e,t)}function h(e,t){(0,i.rm)().setContext(e,t)}async function p(e){let t=(0,i.KU)();return t?t.flush(e):(s.T&&o.vF.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}function f(){let e=(0,i.KU)();return!!e&&!1!==e.getOptions().enabled&&!!e.getTransport()}function g(e){(0,i.rm)().addEventProcessor(e)}function m(e){let t=(0,i.KU)(),n=(0,i.rm)(),s=(0,i.o5)(),{release:o,environment:u=r.U}=t&&t.getOptions()||{},{userAgent:c}=l.O.navigator||{},d=(0,a.fj)({release:o,environment:u,user:s.getUser()||n.getUser(),...c&&{userAgent:c},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,a.qO)(h,{status:"exited"}),v(),n.setSession(d),s.setSession(d),d}function v(){let e=(0,i.rm)(),t=(0,i.o5)(),n=t.getSession()||e.getSession();n&&(0,a.Vu)(n),y(),e.setSession(),t.setSession()}function y(){let e=(0,i.rm)(),t=(0,i.o5)(),n=(0,i.KU)(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r)}function _(e=!1){if(e){v();return}y()}},4724:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});var r=n(2229);function i(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;let t=(0,r.KU)(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},4786:(e,t,n)=>{"use strict";function r(e){return e>=500}function i(e){try{return e.clone()}catch(e){return}}n.d(t,{G:()=>r,i:()=>i})},4788:(e,t,n)=>{"use strict";n.d(t,{h:()=>h});var r=n(7509),i=n(4121),s=n(8530),a=n(2419);class o{constructor(e,t){let n,r;n=e||new i.H,r=t||new i.H,this._stack=[{scope:n}],this._isolationScope=r}withScope(e){let t;let n=this._pushScope();try{t=e(n)}catch(e){throw this._popScope(),e}return(0,a.Qg)(t)?t.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e}):(this._popScope(),t)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){let e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function l(){let e=(0,r.E)(),t=(0,r.S)(e);return t.stack=t.stack||new o((0,s.B)("defaultCurrentScope",()=>new i.H),(0,s.B)("defaultIsolationScope",()=>new i.H))}function u(e){return l().withScope(e)}function c(e,t){let n=l();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function d(e){return l().withScope(()=>e(l().getIsolationScope()))}function h(e){let t=(0,r.S)(e);return t.acs?t.acs:{withIsolationScope:d,withScope:u,withSetScope:c,withSetIsolationScope:(e,t)=>d(t),getCurrentScope:()=>l().getScope(),getIsolationScope:()=>l().getIsolationScope()}}},4792:(e,t,n)=>{"use strict";n.d(t,{vt:()=>h});let r=e=>{let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=r?r:"object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,s);return s},i=e=>e?r(e):r;var s=n(7178),a=n(9366);let{useDebugValue:o}=s,{useSyncExternalStoreWithSelector:l}=a,u=!1,c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?i(e):e,n=(e,n)=>(function(e,t=c,n){n&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let r=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return o(r),r})(t,e,n);return Object.assign(n,t),n},h=e=>e?d(e):d},4864:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>a});var r=n(5572),i=n(7982);let s=[];function a(e,t,n,a){var o,l;let u=(o=n,l=a,`_dd_c_${o}_${l}`);function c(){let e=localStorage.getItem(u);return null!==e?JSON.parse(e):{}}s.push((0,r.q)(e,window,"storage",({key:e})=>{u===e&&t.setContext(c())})),t.changeObservable.subscribe(function(){localStorage.setItem(u,JSON.stringify(t.getContext()))}),t.setContext((0,i.kg)(c(),t.getContext()))}},4912:(e,t,n)=>{"use strict";n.d(t,{C$:()=>o,Og:()=>a,x8:()=>s});var r=n(8778),i=n(3511);function s(e){let t={...e};return["id","name","email"].forEach(e=>{e in t&&(t[e]=String(t[e]))}),t}function a(e){let t="object"===(0,i.P)(e);return t||r.Vy.error("Unsupported user:",e),t}function o(){return Math.floor(0xcfd41b9100000*Math.random()).toString(36).padStart(10,"0")}},4960:(e,t,n)=>{"use strict";function r(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}n.d(t,{V:()=>r})},4976:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6823);t.Delay=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}()},5004:(e,t,n)=>{"use strict";function r(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r)}n.d(t,{_R:()=>o,it:()=>a,lk:()=>r,rx:()=>s});let i=/([\w-]+)\s*=\s*([^;]+)/g;function s(e,t){for(i.lastIndex=0;;){let n=i.exec(e);if(n){if(n[1]===t)return n[2]}else break}}function a(e){let t=new Map;for(i.lastIndex=0;;){let n=i.exec(e);if(n)t.set(n[1],n[2]);else break}return t}function o(e,t,n=""){let r=e.charCodeAt(t-1),i=r>=55296&&r<=56319?t+1:t;return e.length<=i?e:`${e.slice(0,i)}${n}`}},5010:(e,t,n)=>{"use strict";function r(e,t){return(t||document).querySelector(e)}function i(e,t){return[...(t?"string"==typeof t?document.querySelector(t):t:document).querySelectorAll(e)]}n.d(t,{$:()=>r,$$:()=>i})},5067:(e,t,n)=>{"use strict";n.d(t,{T:()=>o,w:()=>l});var r=n(4166),i=n(8778);function s(e,t){var n;let r=200-e.length-1;(t.length>r||(n=t,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(n)))&&i.Vy.warn(`${e} value doesn't meet tag requirements and will be sanitized. ${i.xG} ${i.fH}/getting_started/tagging/#defining-tags`);let s=t.replace(/,/g,"_");return`${e}:${s}`}var a=n(8966);function o(e){var t,n;let i=e.site||a.NW,o=function(e){let{env:t,service:n,version:r,datacenter:i}=e,a=[];return t&&a.push(s("env",t)),n&&a.push(s("service",n)),r&&a.push(s("version",r)),i&&a.push(s("datacenter",i)),a}(e),l=(t=e,n=o,{logsEndpointBuilder:(0,r.n)(t,"logs",n),rumEndpointBuilder:(0,r.n)(t,"rum",n),sessionReplayEndpointBuilder:(0,r.n)(t,"replay",n)});return{replica:function(e,t){if(!e.replica)return;let n={...e,site:a.NW,clientToken:e.replica.clientToken},i={logsEndpointBuilder:(0,r.n)(n,"logs",t),rumEndpointBuilder:(0,r.n)(n,"rum",t)};return{applicationId:e.replica.applicationId,...i}}(e,o),site:i,...l}}function l(e){return a.Ih.every(t=>e.includes(t))}},5071:(e,t,n)=>{"use strict";n.d(t,{$:()=>l,X:()=>o});var r=n(432),i=n(5838),s=n(5587),a=n(9542);function o(e,t,n,l=(0,a.Bk)()){let u=l&&(0,a.zU)(l);u&&(r.T&&s.vF.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),u.addEvent(e,{[i.xc]:t,[i.Sn]:n}))}function l(e){if(!e||0===e.length)return;let t={};return e.forEach(e=>{let n=e.attributes||{},r=n[i.Sn],s=n[i.xc];"string"==typeof r&&"number"==typeof s&&(t[e.name]={value:s,unit:r})}),t}},5158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigSession=t.SessionID=void 0;let r=n(3556),i=n(1414),s=n(6435),a=n(4462),o={};function l(e,t){return setTimeout(()=>{let t=null==__STATSIG__?void 0:__STATSIG__.instance(e);t&&t.$emt({name:"session_expired"})},t)}function u(e){return`statsig.session_id.${(0,r._getStorageKey)(e)}`}t.SessionID={get:e=>t.StatsigSession.get(e).data.sessionID},t.StatsigSession={get:e=>(null==o[e]&&(o[e]=function(e){let t=function(e){let t=u(e);return(0,s._getObjectFromStorage)(t)}(e),n=Date.now();return t||(t={sessionID:(0,a.getUUID)(),startTime:n,lastUpdate:n}),{data:t,sdkKey:e}}(e)),function(e){let t=Date.now(),n=e.data;((function({lastUpdate:e}){return Date.now()-e>18e5})(n)||function({startTime:e}){return Date.now()-e>144e5}(n))&&(n.sessionID=(0,a.getUUID)(),n.startTime=t),n.lastUpdate=t,function(e,t){let n=u(t);try{(0,s._setObjectInStorage)(n,e)}catch(e){i.Log.warn("Failed to save SessionID")}}(n,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);let r=t-n.startTime,o=e.sdkKey;return e.idleTimeoutID=l(o,18e5),e.ageTimeoutID=l(o,144e5-r),e}(o[e])),overrideInitialSessionID:(e,t)=>{o[t]=function(e,t){let n=Date.now();return{data:{sessionID:e,startTime:n,lastUpdate:n},sdkKey:t}}(e,t)}}},5217:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=n(460),s=n(1915);class a extends i.NetworkCore{constructor(e,t){super(e,t);let n=null==e?void 0:e.networkConfig;this._initializeUrlConfig=new i.UrlConfiguration(i.Endpoint._initialize,null==n?void 0:n.initializeUrl,null==n?void 0:n.api,null==n?void 0:n.initializeFallbackUrls)}fetchEvaluations(e,t,n,s,a){return r(this,void 0,void 0,function*(){let r=t?(0,i._typedJsonParse)(t,"has_updates","InitializeResponse"):null,o={user:s,hash:"djb2",deltasResponseRequested:!1,full_checksum:null};return(null==r?void 0:r.has_updates)&&(o=Object.assign(Object.assign({},o),{sinceTime:a?r.time:0,previousDerivedFields:"derived_fields"in r&&a?r.derived_fields:{},deltasResponseRequested:!0,full_checksum:r.full_checksum})),this._fetchEvaluations(e,r,o,n)})}_fetchEvaluations(e,t,n,i){var a,o;return r(this,void 0,void 0,function*(){let r=yield this.post({sdkKey:e,urlConfig:this._initializeUrlConfig,data:n,retries:2,isStatsigEncodable:!0,priority:i});if((null==r?void 0:r.code)===204)return'{"has_updates": false}';if((null==r?void 0:r.code)!==200)return null!==(a=null==r?void 0:r.body)&&void 0!==a?a:null;if((null==t?void 0:t.has_updates)!==!0||(null===(o=r.body)||void 0===o?void 0:o.includes('"is_delta":true'))!==!0||!0!==n.deltasResponseRequested)return r.body;let l=(0,s._resolveDeltasResponse)(t,r.body);return"string"==typeof l?l:this._fetchEvaluations(e,t,Object.assign(Object.assign(Object.assign({},n),l),{deltasResponseRequested:!1}),i)})}}t.default=a},5231:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._isTypeMatch=t._typeOf=void 0,t._typeOf=function(e){return Array.isArray(e)?"array":typeof e},t._isTypeMatch=function(e,t){let n=e=>Array.isArray(e)?"array":typeof e;return n(e)===n(t)}},5256:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7178);function i(e){let t=r.useRef(void 0);return r.useEffect(()=>{t.current=e},[e]),t.current}},5273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4390),i=n(4288);t.DelayFactory=function(e,t){var n,s=(n=e).delayFirstAttempt?new i.AlwaysDelay(n):new r.SkipFirstDelay(n);return s.setAttemptNumber(t),s}},5294:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(9589),i=n(7132),s=n(5659);function a(e,t,n){let a=0,o=!1;return{isLimitReached(){if(0===a&&(0,r.wg)(()=>{a=0},i.iW),(a+=1)<=t||o)return o=!1,!1;if(a===t+1){o=!0;try{n({message:`Reached max number of ${e}s by minute: ${t}`,source:s.g.AGENT,startClocks:(0,i.M8)()})}finally{o=!1}}return!0}}}},5340:(e,t,n)=>{"use strict";n.d(t,{Uk:()=>O,Lk:()=>M,hb:()=>R});var r=n(7509),i=n(2229),s=n(4788),a=n(5838),o=n(2419),l=n(4724),u=n(7060),c=n(9542),d=n(2399),h=n(432),p=n(5587),f=n(3908),g=n(7993),m=n(8771),v=n(7064),y=n(120),_=n(2670),b=n(9146),w=n(5071);let S="_sentryScope",k="_sentryIsolationScope";function E(e){return{scope:e[S],isolationScope:e[k]}}class T{constructor(e={}){this._traceId=e.traceId||(0,_.el)(),this._spanId=e.spanId||(0,_.ZF)(),this._startTime=e.startTimestamp||(0,b.zf)(),this._attributes={},this.setAttributes({[a.JD]:"manual",[a.uT]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded()}addLink(e){return this}addLinks(e){return this}recordException(e,t){}spanContext(){let{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?c.aO:c.CC}}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this}updateStartTime(e){this._startTime=(0,c.cI)(e)}setStatus(e){return this._status=e,this}updateName(e){return this._name=e,this.setAttribute(a.i_,"custom"),this}end(e){!this._endTime&&(this._endTime=(0,c.cI)(e),function(e){if(!h.T)return;let{description:t="< unknown name >",op:n="< unknown op >"}=(0,c.et)(e),{spanId:r}=e.spanContext(),i=(0,c.zU)(e)===e,s=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;p.vF.log(s)}(this),this._onSpanEnded())}getSpanJSON(){return(0,y.Ce)({data:this._attributes,description:this._name,op:this._attributes[a.uT],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:(0,c.yW)(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[a.JD],_metrics_summary:(0,v.g)(this),profile_id:this._attributes[a.E1],exclusive_time:this._attributes[a.jG],measurements:(0,w.$)(this._events),is_segment:this._isStandaloneSpan&&(0,c.zU)(this)===this||void 0,segment_id:this._isStandaloneSpan?(0,c.zU)(this).spanContext().spanId:void 0})}isRecording(){return!this._endTime&&!!this._sampled}addEvent(e,t,n){h.T&&p.vF.log("[Tracing] Adding an event to span:",e);let r=I(t)?t:n||(0,b.zf)(),i=I(t)?{}:t||{},s={name:e,time:(0,c.cI)(r),attributes:i};return this._events.push(s),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){let e=(0,i.KU)();if(e&&e.emit("spanEnd",this),!(this._isStandaloneSpan||this===(0,c.zU)(this)))return;if(this._isStandaloneSpan){this._sampled?function(e){let t=(0,i.KU)();if(!t)return;let n=e[1];if(!n||0===n.length){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}((0,m.lu)([this],e)):(h.T&&p.vF.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span"));return}let t=this._convertSpanToTransaction();t&&(E(this).scope||(0,i.o5)()).captureEvent(t)}_convertSpanToTransaction(){if(!C((0,c.et)(this)))return;this._name||(h.T&&p.vF.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");let{scope:e,isolationScope:t}=E(this),n=(e||(0,i.o5)()).getClient()||(0,i.KU)();if(!0!==this._sampled){h.T&&p.vF.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}let r=(0,c.xO)(this).filter(e=>{var t;return e!==this&&!((t=e)instanceof T&&t.isStandaloneSpan())}).map(e=>(0,c.et)(e)).filter(C),s=this._attributes[a.i_];delete this._attributes[a.Le],r.forEach(e=>{e.data&&delete e.data[a.Le]});let o={contexts:{trace:(0,c.Ck)(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...(0,y.Ce)({dynamicSamplingContext:(0,d.k1)(this)})},_metrics_summary:(0,v.g)(this),...s&&{transaction_info:{source:s}}},l=(0,w.$)(this._events);return l&&Object.keys(l).length&&(h.T&&p.vF.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),o.measurements=l),o}}function I(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e)}function C(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}var x=n(7074);let A="__SENTRY_SUPPRESS_TRACING__";function M(e,t){let n=N();if(n.startSpan)return n.startSpan(e,t);let r=D(e),{forceTransaction:s,parentSpan:a}=e;return(0,i.v4)(e.scope,()=>(function(e){return void 0!==e?t=>R(e,t):e=>e()})(a)(()=>{let n=(0,i.o5)(),a=F(n),l=e.onlyIfParent&&!a?new g.w:P({parentSpan:a,spanArguments:r,forceTransaction:s,scope:n});return(0,u.r)(n,l),function(e,t,n=()=>{}){var r,i,s;let a;try{a=e()}catch(e){throw t(e),n(),e}return r=a,i=t,s=n,(0,o.Qg)(r)?r.then(e=>(s(),e),e=>{throw i(e),s(),e}):(s(),r)}(()=>t(l),()=>{let{status:e}=(0,c.et)(l);l.isRecording()&&(!e||"ok"===e)&&l.setStatus({code:x.TJ,message:"internal_error"})},()=>l.end())}))}function O(e){let t=N();if(t.startInactiveSpan)return t.startInactiveSpan(e);let n=D(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?t=>(0,i.v4)(e.scope,t):void 0!==s?e=>R(s,e):e=>e())(()=>{let t=(0,i.o5)(),s=F(t);return e.onlyIfParent&&!s?new g.w:P({parentSpan:s,spanArguments:n,forceTransaction:r,scope:t})})}function R(e,t){let n=N();return n.withActiveSpan?n.withActiveSpan(e,t):(0,i.v4)(n=>((0,u.r)(n,e||void 0),t(n)))}function P({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){var s;let a;if(!(0,l.w)())return new g.w;let o=(0,i.rm)();if(e&&!n)a=function(e,t,n){let{spanId:r,traceId:s}=e.spanContext(),a=!t.getScopeData().sdkProcessingMetadata[A]&&(0,c.pK)(e),o=a?new T({...n,parentSpanId:r,traceId:s,sampled:a}):new g.w({traceId:s});(0,c.Hu)(e,o);let l=(0,i.KU)();return l&&(l.emit("spanStart",o),n.endTimestamp&&l.emit("spanEnd",o)),o}(e,r,t),(0,c.Hu)(e,a);else if(e){let n=(0,d.k1)(e),{traceId:i,spanId:s}=e.spanContext(),o=(0,c.pK)(e);a=L({traceId:i,parentSpanId:s,...t},r,o),(0,d.LZ)(a,n)}else{let{traceId:e,dsc:n,parentSpanId:i,sampled:s}={...o.getPropagationContext(),...r.getPropagationContext()};a=L({traceId:e,parentSpanId:i,...t},r,s),n&&(0,d.LZ)(a,n)}return function(e){if(!h.T)return;let{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=(0,c.et)(e),{spanId:i}=e.spanContext(),s=(0,c.pK)(e),a=(0,c.zU)(e),o=a===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${o?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!o){let{op:e,description:t}=(0,c.et)(a);u.push(`root ID: ${a.spanContext().spanId}`),e&&u.push(`root op: ${e}`),t&&u.push(`root description: ${t}`)}p.vF.log(`${l}
  ${u.join("\n  ")}`)}(a),(s=a)&&((0,y.my)(s,k,o),(0,y.my)(s,S,r)),a}function D(e){let t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){let n={...t};return n.startTimestamp=(0,c.cI)(e.startTime),delete n.startTime,n}return t}function N(){let e=(0,r.E)();return(0,s.h)(e)}function L(e,t,n){let r=(0,i.KU)(),s=r&&r.getOptions()||{},{name:o="",attributes:u}=e,[c,d]=t.getScopeData().sdkProcessingMetadata[A]?[!1]:function(e,t){let n;if(!(0,l.w)(e))return[!1];let r=(0,i.rm)().getScopeData().sdkProcessingMetadata.normalizedRequest,s={...t,normalizedRequest:t.normalizedRequest||r};n="function"==typeof e.tracesSampler?e.tracesSampler(s):void 0!==s.parentSampled?s.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;let a=(0,f.i)(n);return void 0===a?(h.T&&p.vF.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):a?Math.random()<a?[!0,a]:(h.T&&p.vF.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,a]):(h.T&&p.vF.log(`[Tracing] Discarding transaction because ${"function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,a])}(s,{name:o,parentSampled:n,attributes:u,transactionContext:{name:o,parentSampled:n}}),g=new T({...e,attributes:{[a.i_]:"custom",...e.attributes},sampled:c});return void 0!==d&&g.setAttribute(a.sy,d),r&&r.emit("spanStart",g),g}function F(e){let t=(0,u.f)(e);if(!t)return;let n=(0,i.KU)();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?(0,c.zU)(t):t}},5402:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDKFlags=void 0;let n={};t.SDKFlags={setFlags:(e,t)=>{n[e]=t},get:(e,t)=>{var r,i;return null!==(i=null===(r=n[e])||void 0===r?void 0:r[t])&&void 0!==i&&i}}},5404:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._fetchTxtRecords=void 0;let r=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),i=["i","e","d"];t._fetchTxtRecords=function(e){return n(this,void 0,void 0,function*(){let t=yield e("https://cloudflare-dns.com/dns-query",{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:r});if(!t.ok){let e=Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}return function(e){let t=e.findIndex((t,n)=>n<200&&"="===String.fromCharCode(t)&&i.includes(String.fromCharCode(e[n-1])));if(-1===t){let e=Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let n="";for(let r=t-1;r<e.length;r++)n+=String.fromCharCode(e[r]);return n.split(",")}(new Uint8Array((yield t.arrayBuffer())))})}},5572:(e,t,n)=>{"use strict";n.d(t,{l:()=>a,q:()=>s});var r=n(3870),i=n(4343);function s(e,t,n,r,i){return a(e,t,[n],r,i)}function a(e,t,n,s,{once:o,capture:l,passive:u}={}){let c=(0,r.dm)(t=>{(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(o&&f(),s(t))}),d=u?{capture:l,passive:u}:l,h=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,p=(0,i.W)(h,"addEventListener");function f(){let e=(0,i.W)(h,"removeEventListener");n.forEach(n=>e.call(t,n,c,d))}return n.forEach(e=>p.call(t,e,c,d)),{stop:f}}},5587:(e,t,n)=>{"use strict";n.d(t,{Ow:()=>s,Z9:()=>a,pq:()=>o,vF:()=>l});var r=n(8051),i=n(8530);let s=["debug","info","warn","error","log","assert","trace"],a={};function o(e){if(!("console"in i.O))return e();let t=i.O.console,n={},r=Object.keys(a);r.forEach(e=>{let r=a[e];n[e]=t[e],t[e]=r});try{return e()}finally{r.forEach(e=>{t[e]=n[e]})}}let l=(0,i.B)("logger",function(){let e=!1,t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.T?s.forEach(n=>{t[n]=(...t)=>{e&&o(()=>{i.O.console[n](`Sentry Logger [${n}]:`,...t)})}}):s.forEach(e=>{t[e]=()=>void 0}),t})},5659:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});let r={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"}},5715:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(3870),i=n(2023);function s(e,t,n){let s=e.getReader(),a=[],o=0;function l(){let e,r;if(s.cancel().catch(i.l),n.collectStreamBody){let t;if(1===a.length)t=a[0];else{t=new Uint8Array(o);let e=0;a.forEach(n=>{t.set(n,e),e+=n.length})}e=t.slice(0,n.bytesLimit),r=t.length>n.bytesLimit}t(void 0,e,r)}(function e(){s.read().then((0,r.dm)(t=>{if(t.done){l();return}n.collectStreamBody&&a.push(t.value),(o+=t.value.length)>n.bytesLimit?l():e()}),(0,r.dm)(e=>t(e)))})()}},5789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(6594),i=n(9112),s=n(2621),a=n(2051),o=n(5256),l=n(7460),u=n(9555),c=n(265),d=n(8005),h=n(5010),p=n(8942),f=n(5928),g=n(6060),m=n(7178);let v=e=>{var t;let{environmentConfig:n,children:v}=e,y=(0,s.A)(),_=(0,g.useRouter)(),b=(0,p.P)(e=>e.lastPath),w=(0,p.P)(e=>e.setLastPath),{isLoggedInUser:S}=(0,i.n)(),k=null!==(t=(0,o.Z)(S))&&void 0!==t&&t,{webClient:E}=m.useContext(c.DS);m.useLayoutEffect(()=>{w(_.asPath)},[]);let T=(0,u.R)();return m.useLayoutEffect(()=>{null!=T&&l.b.init(n,T)},[n,T]),m.useLayoutEffect(()=>{void 0!==y&&!1!==y&&!k&&S&&"/login"===b&&(w(d.A.demo),_.push(d.A.demo))},[S,k,y,b]),m.useEffect(()=>{if(S&&!k&&null!=E){let{user:e}=i.n.getState();null!=(null==e?void 0:e.email)&&(0,a.A)(e.email,E)}},[S,k,E]),m.useEffect(()=>(_.beforePopState(e=>{let t=(0,h.$)("#navigation-menu"),n="true"===t.getAttribute("data-menu-open")?(0,h.$)("#menu-transition-overlay"):(0,h.$)("#transition-overlay");if(null!=n&&(n.style.pointerEvents="default"),(0,h.$$)("[data-mebu-button]").forEach(e=>e.classList.remove("is-active")),e.as.toString().split("#")[0]===_.pathname.split("#")[0]){t.setAttribute("data-menu-open","false");let n=e.as.toString().split("#")[1]?(0,h.$)("#".concat(e.as.toString().split("#")[1])):null;n?window.lenis.scrollTo(n.offsetTop,{duration:1.5}):window.lenis.scrollTo(0,{duration:1.5}),w(e.as),_.push(e.as);return}return w(e.as),f.os.to(n,{opacity:1,duration:.2,onComplete:()=>{window&&window.lenis&&window.lenis.scrollTo(0,{immediate:!0}),_.push(e.as)}}),!1}),()=>{_.beforePopState(()=>!0)}),[_]),(0,r.jsx)(r.Fragment,{children:v})}},5832:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5838:(e,t,n)=>{"use strict";n.d(t,{E1:()=>d,JD:()=>a,Le:()=>c,Sn:()=>l,fs:()=>o,i_:()=>r,jG:()=>h,sy:()=>i,uT:()=>s,xc:()=>u});let r="sentry.source",i="sentry.sample_rate",s="sentry.op",a="sentry.origin",o="sentry.idle_span_finish_reason",l="sentry.measurement_unit",u="sentry.measurement_value",c="sentry.custom_span_name",d="sentry.profile_id",h="sentry.exclusive_time"},5872:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r,i=n(7178);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}let a=function(e){return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 24"},e),r||(r=i.createElement("path",{fill:"currentColor",d:"M20.556 11.936V23.87c-2.16 0-4.184-.582-5.93-1.598a11.94 11.94 0 0 1-5.93-10.337V0c2.16 0 4.184.582 5.93 1.598a11.94 11.94 0 0 1 5.93 10.338M2.926.798A5.7 5.7 0 0 0 0 0v5.968a5.99 5.99 0 0 0 2.925 5.169c.86.509 1.86.798 2.925.798V5.969A5.99 5.99 0 0 0 2.925.798"})))}},5903:(e,t,n)=>{"use strict";n.d(t,{h:()=>function e(t,n,r=2){if(!n||"object"!=typeof n||r<=0)return n;if(t&&n&&0===Object.keys(n).length)return t;let i={...t};for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(i[t]=e(i[t],n[t],r-1));return i}})},5927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5928:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,{Ay:()=>rp,os:()=>rp});var s,a,o,l,u,c,d,h,p,f,g,m={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},v={duration:.5,overwrite:!1,delay:0},y=2*Math.PI,_=y/4,b=0,w=Math.sqrt,S=Math.cos,k=Math.sin,E=function(e){return"string"==typeof e},T=function(e){return"function"==typeof e},I=function(e){return"number"==typeof e},C=function(e){return void 0===e},x=function(e){return"object"==typeof e},A=function(e){return!1!==e},M=function(){return"undefined"!=typeof window},O=function(e){return T(e)||E(e)},R="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},P=Array.isArray,D=/(?:-?\.?\d|\.)+/gi,N=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,L=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,F=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,U=/[+-]=-?[.\d]+/,j=/[^,'"\[\]\s]+/gi,B=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,z={},$={},V=function(e){return($=ey(e,z))&&na},W=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},H=function(e,t){return!t&&console.warn(e)},q=function(e,t){return e&&(z[e]=t)&&$&&($[e]=t)||z},G=function(){return 0},K={suppressEvents:!0,isStart:!0,kill:!1},Z={suppressEvents:!0,kill:!1},J={suppressEvents:!0},X={},Y=[],Q={},ee={},et={},en=30,er=[],ei="",es=function(e){var t,n,r=e[0];if(x(r)||T(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=er.length;n--&&!er[n].targetTest(r););t=er[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new tI(e[n],t)))||e.splice(n,1);return e},ea=function(e){return e._gsap||es(eY(e))[0]._gsap},eo=function(e,t,n){return(n=e[t])&&T(n)?e[t]():C(n)&&e.getAttribute&&e.getAttribute(t)||n},el=function(e,t){return(e=e.split(",")).forEach(t)||e},eu=function(e){return Math.round(1e5*e)/1e5||0},ec=function(e){return Math.round(1e7*e)/1e7||0},ed=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},eh=function(e,t){for(var n=t.length,r=0;0>e.indexOf(t[r])&&++r<n;);return r<n},ep=function(){var e,t,n=Y.length,r=Y.slice(0);for(e=0,Q={},Y.length=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},ef=function(e,t,n,r){Y.length&&!a&&ep(),e.render(t,n,r||a&&t<0&&(e._initted||e._startAt)),Y.length&&!a&&ep()},eg=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(j).length<2?t:E(e)?e.trim():e},em=function(e){return e},ev=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},ey=function(e,t){for(var n in t)e[n]=t[n];return e},e_=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=x(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},eb=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},ew=function(e){var t,n=e.parent||l,r=e.keyframes?(t=P(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):ev;if(A(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},eS=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},ek=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s,a=e[r];if(i)for(s=t[i];a&&a[i]>s;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},eE=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},eT=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},eI=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},eC=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},ex=function(e,t,n,r){return e._startAt&&(a?e._startAt.revert(Z):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},eA=function(e){return e._repeat?eM(e._tTime,e=e.duration()+e._rDelay)*e:0},eM=function(e,t){var n=Math.floor(e=ec(e/t));return e&&n===e?n-1:n},eO=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},eR=function(e){return e._end=ec(e._start+(e._tDur/Math.abs(e._ts||e._rts||1e-8)||0))},eP=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ec(n._time-(e._ts>0?t/e._ts:-(((e._dirty?e.totalDuration():e._tDur)-t)/e._ts))),eR(e),n._dirty||eI(n,e)),e},eD=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=eO(e.rawTime(),t),(!t._dur||eK(0,t.totalDuration(),n)-t._tTime>1e-8)&&t.render(n,!0)),eI(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},eN=function(e,t,n,r){return t.parent&&eT(t),t._start=ec((I(n)?n:n||e!==l?eH(e,n,t):e._time)+t._delay),t._end=ec(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),ek(e,t,"_first","_last",e._sort?"_start":0),ej(t)||(e._recent=t),r||eD(e,t),e._ts<0&&eP(e,e._tTime),e},eL=function(e,t){return(z.ScrollTrigger||W("scrollTrigger",t))&&z.ScrollTrigger.create(t,e)},eF=function(e,t,n,r,i){return(tN(e,t,i),e._initted)?!n&&e._pt&&!a&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&p!==td.frame?(Y.push(e),e._lazy=[i,r],1):void 0:1},eU=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(0>n.rawTime()||e(n))},ej=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},eB=function(e,t,n,r){var i,s,o,l=e.ratio,u=t<0||!t&&(!e._start&&eU(e)&&!(!e._initted&&ej(e))||(e._ts<0||e._dp._ts<0)&&!ej(e))?0:1,c=e._rDelay,d=0;if(c&&e._repeat&&(s=eM(d=eK(0,e._tDur,t),c),e._yoyo&&1&s&&(u=1-u),s!==eM(e._tTime,c)&&(l=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==l||a||r||1e-8===e._zTime||!t&&e._zTime){if(!e._initted&&eF(e,t,r,n,d))return;for(o=e._zTime,e._zTime=t||1e-8*!!n,n||(n=t&&!o),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,i=e._pt;i;)i.r(u,i.d),i=i._next;t<0&&ex(e,t,n,!0),e._onUpdate&&!n&&e9(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&e9(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&eT(e,1),n||a||(e9(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},ez=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}},e$=function(e,t,n,r){var i=e._repeat,s=ec(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:ec(s*(i+1)+e._rDelay*i):s,a>0&&!r&&eP(e,e._tTime=e._tDur*a),e.parent&&eR(e),n||eI(e.parent,e),e},eV=function(e){return e instanceof tx?eI(e):e$(e,e._dur)},eW={_start:0,endTime:G,totalDuration:G},eH=function e(t,n,r){var i,s,a,o=t.labels,l=t._recent||eW,u=t.duration()>=1e8?l.endTime(!1):t._dur;return E(n)&&(isNaN(n)||n in o)?(s=n.charAt(0),a="%"===n.substr(-1),i=n.indexOf("="),"<"===s||">"===s)?(i>=0&&(n=n.replace(/=/,"")),("<"===s?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(i<0?l:r).totalDuration()/100:1)):i<0?(n in o||(o[n]=u),o[n]):(s=parseFloat(n.charAt(i-1)+n.substr(i+1)),a&&r&&(s=s/100*(P(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+s:u+s):null==n?u:+n},eq=function(e,t,n){var r,i,s=I(t[1]),a=(s?2:1)+(e<2?0:1),o=t[a];if(s&&(o.duration=t[1]),o.parent=n,e){for(r=o,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=A(i.vars.inherit)&&i.parent;o.immediateRender=A(r.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return new t$(t[0],o,t[a+1])},eG=function(e,t){return e||0===e?t(e):t},eK=function(e,t,n){return n<e?e:n>t?t:n},eZ=function(e,t){return E(e)&&(t=B.exec(e))?t[1]:""},eJ=[].slice,eX=function(e,t){return e&&x(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&x(e[0]))&&!e.nodeType&&e!==u},eY=function(e,t,n){var r;return o&&!t&&o.selector?o.selector(e):E(e)&&!n&&(c||!th())?eJ.call((t||d).querySelectorAll(e),0):P(e)?(void 0===r&&(r=[]),e.forEach(function(e){var t;return E(e)&&!n||eX(e,1)?(t=r).push.apply(t,eY(e)):r.push(e)})||r):eX(e)?eJ.call(e,0):e?[e]:[]},eQ=function(e){return e=eY(e)[0]||H("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return eY(t,n.querySelectorAll?n:n===e?H("Invalid scope")||d.createElement("div"):e)}},e0=function(e){return e.sort(function(){return .5-Math.random()})},e1=function(e){if(T(e))return e;var t=x(e)?e:{each:e},n=tw(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},a=r>0&&r<1,o=isNaN(r)||a,l=t.axis,u=r,c=r;return E(r)?u=c=({center:.5,edges:.5,end:1})[r]||0:!a&&o&&(u=r[0],c=r[1]),function(e,a,d){var h,p,f,g,m,v,y,_,b,S=(d||t).length,k=s[S];if(!k){if(!(b="auto"===t.grid?0:(t.grid||[1,1e8])[1])){for(y=-1e8;y<(y=d[b++].getBoundingClientRect().left)&&b<S;);b<S&&b--}for(v=0,k=s[S]=[],h=o?Math.min(b,S)*u-.5:r%b,p=1e8===b?0:o?S*c/b-.5:r/b|0,y=0,_=1e8;v<S;v++)f=v%b-h,g=p-(v/b|0),k[v]=m=l?Math.abs("y"===l?g:f):w(f*f+g*g),m>y&&(y=m),m<_&&(_=m);"random"===r&&e0(k),k.max=y-_,k.min=_,k.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(b>S?S-1:l?"y"===l?S/b:b:Math.max(b,S/b))||0)*("edges"===r?-1:1),k.b=S<0?i-S:i,k.u=eZ(t.amount||t.each)||0,n=n&&S<0?t_(n):n}return S=(k[e]-k.min)/k.max||0,ec(k.b+(n?n(S):S)*k.v)+k.u}},e2=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=ec(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(I(n)?0:eZ(n))}},e3=function(e,t){var n,r,i=P(e);return!i&&x(e)&&(n=i=e.radius||1e8,e.values?(r=!I((e=eY(e.values))[0]))&&(n*=n):e=e2(e.increment)),eG(t,i?T(e)?function(t){return Math.abs((r=e(t))-t)<=n?r:t}:function(t){for(var i,s,a=parseFloat(r?t.x:t),o=parseFloat(r?t.y:0),l=1e8,u=0,c=e.length;c--;)(i=r?(i=e[c].x-a)*i+(s=e[c].y-o)*s:Math.abs(e[c]-a))<l&&(l=i,u=c);return u=!n||l<=n?e[u]:t,r||u===t||I(t)?u:u+eZ(t)}:e2(e))},e5=function(e,t,n,r){return eG(P(e)?!t:!0===n?(n=0,!1):!r,function(){return P(e)?e[~~(Math.random()*e.length)]:(r=(n=n||1e-5)<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},e6=function(e,t,n){return eG(n,function(n){return e[~~t(n)]})},e4=function(e){for(var t,n,r,i,s=0,a="";~(t=e.indexOf("random(",s));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?j:D),a+=e.substr(s,t-s)+e5(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),s=r+1;return a+e.substr(s,e.length-s)},e8=function(e,t,n,r,i){var s=t-e,a=r-n;return eG(i,function(t){return n+((t-e)/s*a||0)})},e7=function(e,t,n){var r,i,s,a=e.labels,o=1e8;for(r in a)(i=a[r]-t)<0==!!n&&i&&o>(i=Math.abs(i))&&(s=r,o=i);return s},e9=function(e,t,n){var r,i,s,a=e.vars,l=a[t],u=o,c=e._ctx;if(l)return r=a[t+"Params"],i=a.callbackScope||e,n&&Y.length&&ep(),c&&(o=c),s=r?l.apply(i,r):l.call(i),o=u,s},te=function(e){return eT(e),e.scrollTrigger&&e.scrollTrigger.kill(!!a),1>e.progress()&&e9(e,"onInterrupt"),e},tt=[],tn=function(e){if(e){if(e=!e.name&&e.default||e,M()||e.headless){var t=e.name,n=T(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:G,render:tX,add:tR,kill:tQ,modifier:tY,rawVars:0},s={targetTest:0,get:0,getSetter:tG,aliases:{},register:0};if(th(),e!==r){if(ee[t])return;ev(r,ev(eb(e,i),s)),ey(r.prototype,ey(i,eb(e,s))),ee[r.prop=t]=r,e.targetTest&&(er.push(r),X[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}q(t,r),e.register&&e.register(na,r,t2)}else tt.push(e)}},tr={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ti=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*255+.5|0},ts=function(e,t,n){var r,i,s,a,o,l,u,c,d,h,p=e?I(e)?[e>>16,e>>8&255,255&e]:0:tr.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),tr[e])p=tr[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),e="#"+r+r+(i=e.charAt(2))+i+(s=e.charAt(3))+s+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(p=parseInt(e.substr(1,6),16))>>16,p>>8&255,255&p,parseInt(e.substr(7),16)/255];p=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]}else if("hsl"===e.substr(0,3)){if(p=h=e.match(D),t){if(~e.indexOf("="))return p=e.match(N),n&&p.length<4&&(p[3]=1),p}else a=+p[0]%360/360,o=+p[1]/100,i=(l=+p[2]/100)<=.5?l*(o+1):l+o-l*o,r=2*l-i,p.length>3&&(p[3]*=1),p[0]=ti(a+1/3,r,i),p[1]=ti(a,r,i),p[2]=ti(a-1/3,r,i)}else p=e.match(D)||tr.transparent;p=p.map(Number)}return t&&!h&&(r=p[0]/255,l=((u=Math.max(r,i=p[1]/255,s=p[2]/255))+(c=Math.min(r,i,s)))/2,u===c?a=o=0:(d=u-c,o=l>.5?d/(2-u-c):d/(u+c),a=(u===r?(i-s)/d+6*(i<s):u===i?(s-r)/d+2:(r-i)/d+4)*60),p[0]=~~(a+.5),p[1]=~~(100*o+.5),p[2]=~~(100*l+.5)),n&&p.length<4&&(p[3]=1),p},ta=function(e){var t=[],n=[],r=-1;return e.split(tl).forEach(function(e){var i=e.match(L)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},to=function(e,t,n){var r,i,s,a,o="",l=(e+o).match(tl),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map(function(e){return(e=ts(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(s=ta(e),(r=n.c).join(o)!==s.c.join(o)))for(a=(i=e.replace(tl,"1").split(L)).length-1;c<a;c++)o+=i[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(s.length?s:l.length?l:n).shift());if(!i)for(a=(i=e.split(tl)).length-1;c<a;c++)o+=i[c]+l[c];return o+i[a]},tl=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in tr)t+="|"+e+"\\b";return RegExp(t+")","gi")}(),tu=/hsl[a]?\(/,tc=function(e){var t,n=e.join(" ");if(tl.lastIndex=0,tl.test(n))return t=tu.test(n),e[1]=to(e[1],t),e[0]=to(e[0],t,ta(e[1])),!0},td=function(){var e,t,n,r,i,s,a=Date.now,o=500,l=33,p=a(),f=p,m=1e3/240,v=1e3/240,y=[],_=function n(u){var c,d,h,g,_=a()-f,b=!0===u;if((_>o||_<0)&&(p+=_-l),f+=_,((c=(h=f-p)-v)>0||b)&&(g=++r.frame,i=h-1e3*r.time,r.time=h/=1e3,v+=c+(c>=m?4:m-c),d=1),b||(e=t(n)),d)for(s=0;s<y.length;s++)y[s](h,i,g,u)};return r={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){h&&(!c&&M()&&(d=(u=c=window).document||{},z.gsap=na,(u.gsapVersions||(u.gsapVersions=[])).push(na.version),V($||u.GreenSockGlobals||!u.gsap&&u||{}),tt.forEach(tn)),n="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,v-1e3*r.time+1|0)},g=1,_(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),g=0,t=G},lagSmoothing:function(e,t){l=Math.min(t||33,o=e||1/0)},fps:function(e){m=1e3/(e||240),v=1e3*r.time+m},add:function(e,t,n){var i=t?function(t,n,s,a){e(t,n,s,a),r.remove(i)}:e;return r.remove(e),y[n?"unshift":"push"](i),th(),i},remove:function(e,t){~(t=y.indexOf(e))&&y.splice(t,1)&&s>=t&&s--},_listeners:y}}(),th=function(){return!g&&td.wake()},tp={},tf=/^[\d.\-M][\d.\-,\s]/,tg=/["']/g,tm=function(e){for(var t,n,r,i={},s=e.substr(1,e.length-3).split(":"),a=s[0],o=1,l=s.length;o<l;o++)n=s[o],t=o!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[a]=isNaN(r)?r.replace(tg,"").trim():+r,a=n.substr(t+1).trim();return i},tv=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},ty=function(e){var t=(e+"").split("("),n=tp[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[tm(t[1])]:tv(e).split(",").map(eg)):tp._CE&&tf.test(e)?tp._CE("",e):n},t_=function(e){return function(t){return 1-e(1-t)}},tb=function e(t,n){for(var r,i=t._first;i;)i instanceof tx?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},tw=function(e,t){return e&&(T(e)?e:tp[e]||ty(e))||t},tS=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t((1-e)*2)/2});var i,s={easeIn:t,easeOut:n,easeInOut:r};return el(e,function(e){for(var t in tp[e]=z[e]=s,tp[i=e.toLowerCase()]=n,s)tp[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=tp[e+"."+t]=s[t]}),s},tk=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e((t-.5)*2)/2}},tE=function e(t,n,r){var i=n>=1?n:1,s=(r||(t?.3:.45))/(n<1?n:1),a=s/y*(Math.asin(1/i)||0),o=function(e){return 1===e?1:i*Math.pow(2,-10*e)*k((e-a)*s)+1},l="out"===t?o:"in"===t?function(e){return 1-o(1-e)}:tk(o);return s=y/s,l.config=function(n,r){return e(t,n,r)},l},tT=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:tk(r);return i.config=function(n){return e(t,n)},i};el("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;tS(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow((1-e)*2,n)/2})}),tp.Linear.easeNone=tp.none=tp.Linear.easeIn,tS("Elastic",tE("in"),tE("out"),tE()),function(e,t){var n=1/2.75,r=1/2.75*2,i=1/2.75*2.5,s=function(s){return s<n?7.5625*s*s:s<r?7.5625*Math.pow(s-1.5/2.75,2)+.75:s<i?e*(s-=2.25/t)*s+.9375:e*Math.pow(s-2.625/t,2)+.984375};tS("Bounce",function(e){return 1-s(1-e)},s)}(7.5625,2.75),tS("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),tS("Circ",function(e){return-(w(1-e*e)-1)}),tS("Sine",function(e){return 1===e?1:-S(e*_)+1}),tS("Back",tT("in"),tT("out"),tT()),tp.SteppedEase=tp.steps=z.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+ +!t,i=+!!t,s=.99999999;return function(e){return((r*eK(0,s,e)|0)+i)*n}}},v.ease=tp["quad.out"],el("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return ei+=e+","+e+"Params,"});var tI=function(e,t){this.id=b++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:eo,this.set=t?t.getSetter:tG},tC=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,e$(this,+e.duration,1,1),this.data=e.data,o&&(this._ctx=o,o.data.push(this)),g||td.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,e$(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(th(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(eP(this,e),!n._dp||n.parent||eD(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:-((n.totalDuration()-n._tTime)/n._ts))&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&eN(this._dp,this,this._start-this._delay)}return this._tTime===e&&(this._dur||t)&&(!this._initted||1e-8!==Math.abs(this._zTime))&&(e||this._initted||!this.add&&!this._ptLookup)||(this._ts||(this._pTime=e),ef(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+eA(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(1&this.iteration())?1-e:e)+eA(this),t):this.duration()?Math.min(1,this._time/this._dur):+(this.rawTime()>0)},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?eM(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return -1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?eO(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(eK(-Math.abs(this._delay),this._tDur,n),!1!==t),eR(this),eC(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(th(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&1e-8!==Math.abs(this._zTime)&&(this._tTime-=1e-8)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&eN(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(A(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&1>this.totalProgress())?this._tTime%(this._dur+this._rDelay):this._ts?eO(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=J);var t=a;return a=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),a=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,eV(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,eV(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(eH(this,e),A(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,A(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!!(!t||this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-1e-8)},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise(function(n){var r=T(e)?e:em,i=function(){var e=t.then;t.then=null,T(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i})},t.kill=function(){te(this)},e}();ev(tC.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var tx=function(e){function t(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=A(t.sortChildren),l&&eN(t.parent||l,r(i),n),t.reversed&&i.reverse(),t.paused&&i.paused(!0),t.scrollTrigger&&eL(r(i),t.scrollTrigger),i}i(t,e);var n=t.prototype;return n.to=function(e,t,n){return eq(0,arguments,this),this},n.from=function(e,t,n){return eq(1,arguments,this),this},n.fromTo=function(e,t,n,r){return eq(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,ew(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new t$(e,t,eH(this,n),1),this},n.call=function(e,t,n){return eN(this,t$.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,s,a){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=s,n.onCompleteParams=a,n.parent=this,new t$(e,n,eH(this,i)),this},n.staggerFrom=function(e,t,n,r,i,s,a){return n.runBackwards=1,ew(n).immediateRender=A(n.immediateRender),this.staggerTo(e,t,n,r,i,s,a)},n.staggerFromTo=function(e,t,n,r,i,s,a,o){return r.startAt=n,ew(r).immediateRender=A(r.immediateRender),this.staggerTo(e,t,r,i,s,a,o)},n.render=function(e,t,n){var r,i,s,o,u,c,d,h,p,f,g,m,v=this._time,y=this._dirty?this.totalDuration():this._tDur,_=this._dur,b=e<=0?0:ec(e),w=this._zTime<0!=e<0&&(this._initted||!_);if(this!==l&&b>y&&e>=0&&(b=y),b!==this._tTime||n||w){if(v!==this._time&&_&&(b+=this._time-v,e+=this._time-v),r=b,p=this._start,c=!(h=this._ts),w&&(_||(v=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(g=this._yoyo,u=_+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*u+e,t,n);if(r=ec(b%u),b===y?(o=this._repeat,r=_):((o=~~(f=ec(b/u)))&&o===f&&(r=_,o--),r>_&&(r=_)),f=eM(this._tTime,u),!v&&this._tTime&&f!==o&&this._tTime-f*u-this._dur<=0&&(f=o),g&&1&o&&(r=_-r,m=1),o!==f&&!this._lock){var S=g&&1&f,k=S===(g&&1&o);if(o<f&&(S=!S),v=S?0:b%_?_:b,this._lock=1,this.render(v||(m?0:ec(o*u)),t,!_)._lock=0,this._tTime=b,!t&&this.parent&&e9(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),v&&v!==this._time||!this._ts!==c||this.vars.onRepeat&&!this.parent&&!this._act||(_=this._dur,y=this._tDur,k&&(this._lock=2,v=S?_:-1e-4,this.render(v,!0),this.vars.repeatRefresh&&!m&&this.invalidate()),this._lock=0,!this._ts&&!c))return this;tb(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(d=ez(this,ec(v),ec(r)))&&(b-=r-(r=d._start)),this._tTime=b,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,v=0),!v&&r&&!t&&!o&&(e9(this,"onStart"),this._tTime!==b))return this;if(r>=v&&e>=0)for(i=this._first;i;){if(s=i._next,(i._act||r>=i._start)&&i._ts&&d!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){d=0,s&&(b+=this._zTime=-1e-8);break}}i=s}else{i=this._last;for(var E=e<0?e:r;i;){if(s=i._prev,(i._act||E<=i._end)&&i._ts&&d!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,t,n||a&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){d=0,s&&(b+=this._zTime=E?-1e-8:1e-8);break}}i=s}}if(d&&!t&&(this.pause(),d.render(r>=v?0:-1e-8)._zTime=r>=v?1:-1,this._ts))return this._start=p,eR(this),this.render(e,t,n);this._onUpdate&&!t&&e9(this,"onUpdate",!0),(b===y&&this._tTime>=this.totalDuration()||!b&&v)&&(p===this._start||Math.abs(h)!==Math.abs(this._ts))&&!this._lock&&((e||!_)&&(b===y&&this._ts>0||!b&&this._ts<0)&&eT(this,1),t||e<0&&!v||!b&&!v&&y||(e9(this,b===y&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<y&&this.timeScale()>0)&&this._prom()))}return this},n.add=function(e,t){var n=this;if(I(t)||(t=eH(this,t,e)),!(e instanceof tC)){if(P(e))return e.forEach(function(e){return n.add(e,t)}),this;if(E(e))return this.addLabel(e,t);if(!T(e))return this;e=t$.delayedCall(0,e)}return this!==e?eN(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],s=this._first;s;)s._start>=r&&(s instanceof t$?t&&i.push(s):(n&&i.push(s),e&&i.push.apply(i,s.getChildren(!0,t,n)))),s=s._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return E(e)?this.removeLabel(e):T(e)?this.killTweensOf(e):(e.parent===this&&eE(this,e),e===this._recent&&(this._recent=this._last),eI(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ec(td.time-(this._ts>0?t/this._ts:-((this.totalDuration()-t)/this._ts)))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=eH(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=t$.delayedCall(0,t||G,n);return r.data="isPause",this._hasPause=1,eN(this,r,eH(this,e))},n.removePause=function(e){var t=this._first;for(e=eH(this,e);t;)t._start===e&&"isPause"===t.data&&eT(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)tA!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=eY(e),s=this._first,a=I(t);s;)s instanceof t$?eh(s._targets,i)&&(a?(!tA||s._initted&&s._ts)&&s.globalTime(0)<=t&&s.globalTime(s.totalDuration())>t:!t||s.isActive())&&r.push(s):(n=s.getTweensOf(i,t)).length&&r.push.apply(r,n),s=s._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=eH(r,e),s=t,a=s.startAt,o=s.onStart,l=s.onStartParams,u=s.immediateRender,c=t$.to(r,ev({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale())||1e-8,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale());c._dur!==e&&e$(c,e,0,1).render(c._time,!0,!0),n=1}o&&o.apply(c,l||[])}},t));return u?c.render(0):c},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,ev({startAt:{time:eH(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),e7(this,eH(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),e7(this,eH(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,s=this.labels;i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in s)s[r]>=n&&(s[r]+=e);return eI(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),eI(this)},n.totalDuration=function(e){var t,n,r,i=0,s=this._last,a=1e8;if(arguments.length)return this.timeScale((this._repeat<0?this.duration():this.totalDuration())/(this.reversed()?-e:e));if(this._dirty){for(r=this.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&this._sort&&s._ts&&!this._lock?(this._lock=1,eN(this,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!this._dp||r&&r.smoothChildTiming)&&(this._start+=n/this._ts,this._time-=n,this._tTime-=n),this.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;e$(this,this===l&&this._time>i?this._time:i,1,1),this._dirty=0}return this._tDur},t.updateRoot=function(e){if(l._ts&&(ef(l,eO(e,l)),p=td.frame),td.frame>=en){en+=m.autoSleep||120;var t=l._first;if((!t||!t._ts)&&m.autoSleep&&td._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||td.sleep()}}},t}(tC);ev(tx.prototype,{_lock:0,_hasPause:0,_forcing:0});var tA,tM,tO=function(e,t,n,r,i,s,a){var o,l,u,c,d,h,p,f,g=new t2(this._pt,e,t,0,1,tJ,null,i),m=0,v=0;for(g.b=n,g.e=r,n+="",r+="",(p=~r.indexOf("random("))&&(r=e4(r)),s&&(s(f=[n,r],e,t),n=f[0],r=f[1]),l=n.match(F)||[];o=F.exec(r);)c=o[0],d=r.substring(m,o.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),c!==l[v++]&&(h=parseFloat(l[v-1])||0,g._pt={_next:g._pt,p:d||1===v?d:",",s:h,c:"="===c.charAt(1)?ed(h,c)-h:parseFloat(c)-h,m:u&&u<4?Math.round:0},m=F.lastIndex);return g.c=m<r.length?r.substring(m,r.length):"",g.fp=a,(U.test(r)||p)&&(g.e=0),this._pt=g,g},tR=function(e,t,n,r,i,s,a,o,l,u){T(r)&&(r=r(i||0,e,s));var c,d=e[t],h="get"!==n?n:T(d)?l?e[t.indexOf("set")||!T(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():d,p=T(d)?l?tH:tW:tV;if(E(r)&&(~r.indexOf("random(")&&(r=e4(r)),"="===r.charAt(1)&&((c=ed(h,r)+(eZ(h)||0))||0===c)&&(r=c)),!u||h!==r||tM)return isNaN(h*r)||""===r?(d||t in e||W(t,r),tO.call(this,e,t,h,r,p,o||m.stringFilter,l)):(c=new t2(this._pt,e,t,+h||0,r-(h||0),"boolean"==typeof d?tZ:tK,0,p),l&&(c.fp=l),a&&c.modifier(a,this,e),this._pt=c)},tP=function(e,t,n,r,i){if(T(e)&&(e=tj(e,i,t,n,r)),!x(e)||e.style&&e.nodeType||P(e)||R(e))return E(e)?tj(e,i,t,n,r):e;var s,a={};for(s in e)a[s]=tj(e[s],i,t,n,r);return a},tD=function(e,t,n,r,i,s){var a,o,l,u;if(ee[e]&&!1!==(a=new ee[e]).init(i,a.rawVars?t[e]:tP(t[e],r,i,s,n),n,r,s)&&(n._pt=o=new t2(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==f))for(l=n._ptLookup[n._targets.indexOf(i)],u=a._props.length;u--;)l[a._props[u]]=o;return a},tN=function e(t,n,r){var i,o,u,c,d,h,p,f,g,m,y,_,b,w=t.vars,S=w.ease,k=w.startAt,E=w.immediateRender,T=w.lazy,I=w.onUpdate,C=w.runBackwards,x=w.yoyoEase,M=w.keyframes,O=w.autoRevert,R=t._dur,P=t._startAt,D=t._targets,N=t.parent,L=N&&"nested"===N.data?N.vars.targets:D,F="auto"===t._overwrite&&!s,U=t.timeline;if(!U||M&&S||(S="none"),t._ease=tw(S,v.ease),t._yEase=x?t_(tw(!0===x?S:x,v.ease)):0,x&&t._yoyo&&!t._repeat&&(x=t._yEase,t._yEase=t._ease,t._ease=x),t._from=!U&&!!w.runBackwards,!U||M&&!w.stagger){if(_=(f=D[0]?ea(D[0]).harness:0)&&w[f.prop],i=eb(w,X),P&&(P._zTime<0&&P.progress(1),n<0&&C&&E&&!O?P.render(-1,!0):P.revert(C&&R?Z:K),P._lazy=0),k){if(eT(t._startAt=t$.set(D,ev({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:!P&&A(T),startAt:null,delay:0,onUpdate:I&&function(){return e9(t,"onUpdate")},stagger:0},k))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a||!E&&!O)&&t._startAt.revert(Z),E&&R&&n<=0&&r<=0){n&&(t._zTime=n);return}}else if(C&&R&&!P){if(n&&(E=!1),u=ev({overwrite:!1,data:"isFromStart",lazy:E&&!P&&A(T),immediateRender:E,stagger:0,parent:N},i),_&&(u[f.prop]=_),eT(t._startAt=t$.set(D,u)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(a?t._startAt.revert(Z):t._startAt.render(-1,!0)),t._zTime=n,E){if(!n)return}else e(t._startAt,1e-8,1e-8)}for(o=0,t._pt=t._ptCache=0,T=R&&A(T)||T&&!R;o<D.length;o++){if(p=(d=D[o])._gsap||es(D)[o]._gsap,t._ptLookup[o]=m={},Q[p.id]&&Y.length&&ep(),y=L===D?o:L.indexOf(d),f&&!1!==(g=new f).init(d,_||i,t,y,L)&&(t._pt=c=new t2(t._pt,d,g.name,0,1,g.render,g,0,g.priority),g._props.forEach(function(e){m[e]=c}),g.priority&&(h=1)),!f||_)for(u in i)ee[u]&&(g=tD(u,i,t,y,d,L))?g.priority&&(h=1):m[u]=c=tR.call(t,d,u,"get",i[u],y,L,0,w.stringFilter);t._op&&t._op[o]&&t.kill(d,t._op[o]),F&&t._pt&&(tA=t,l.killTweensOf(d,m,t.globalTime(n)),b=!t.parent,tA=0),t._pt&&T&&(Q[p.id]=1)}h&&t1(t),t._onInit&&t._onInit(t)}t._onUpdate=I,t._initted=(!t._op||t._pt)&&!b,M&&n<=0&&U.render(1e8,!0,!0)},tL=function(e,t,n,r,i,s,a,o){var l,u,c,d,h=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!h)for(h=e._ptCache[t]=[],c=e._ptLookup,d=e._targets.length;d--;){if((l=c[d][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return tM=1,e.vars[t]="+=0",tN(e,a),tM=0,o?H(t+" not eligible for reset"):1;h.push(l)}for(d=h.length;d--;)(l=(u=h[d])._pt||u).s=(r||0===r)&&!i?r:l.s+(r||0)+s*l.c,l.c=n-l.s,u.e&&(u.e=eu(n)+eZ(u.e)),u.b&&(u.b=l.s+eZ(u.b))},tF=function(e,t){var n,r,i,s,a=e[0]?ea(e[0]).harness:0,o=a&&a.aliases;if(!o)return t;for(r in n=ey({},t),o)if(r in n)for(i=(s=o[r].split(",")).length;i--;)n[s[i]]=n[r];return n},tU=function(e,t,n,r){var i,s,a=t.ease||r||"power1.inOut";if(P(t))s=n[e]||(n[e]=[]),t.forEach(function(e,n){return s.push({t:n/(t.length-1)*100,v:e,e:a})});else for(i in t)s=n[i]||(n[i]=[]),"ease"===i||s.push({t:parseFloat(e),v:t[i],e:a})},tj=function(e,t,n,r,i){return T(e)?e.call(t,n,r,i):E(e)&&~e.indexOf("random(")?e4(e):e},tB=ei+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",tz={};el(tB+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return tz[e]=1});var t$=function(e){function t(t,n,i,a){"number"==typeof n&&(i.duration=n,n=i,i=null);var o,u,c,d,h,p,f,g,v=e.call(this,a?n:ew(n))||this,y=v.vars,_=y.duration,b=y.delay,w=y.immediateRender,S=y.stagger,k=y.overwrite,E=y.keyframes,T=y.defaults,C=y.scrollTrigger,M=y.yoyoEase,D=n.parent||l,N=(P(t)||R(t)?I(t[0]):"length"in n)?[t]:eY(t);if(v._targets=N.length?es(N):H("GSAP target "+t+" not found. https://gsap.com",!m.nullTargetWarn)||[],v._ptLookup=[],v._overwrite=k,E||S||O(_)||O(b)){if(n=v.vars,(o=v.timeline=new tx({data:"nested",defaults:T||{},targets:D&&"nested"===D.data?D.vars.targets:N})).kill(),o.parent=o._dp=r(v),o._start=0,S||O(_)||O(b)){if(d=N.length,f=S&&e1(S),x(S))for(h in S)~tB.indexOf(h)&&(g||(g={}),g[h]=S[h]);for(u=0;u<d;u++)(c=eb(n,tz)).stagger=0,M&&(c.yoyoEase=M),g&&ey(c,g),p=N[u],c.duration=+tj(_,r(v),u,p,N),c.delay=(+tj(b,r(v),u,p,N)||0)-v._delay,!S&&1===d&&c.delay&&(v._delay=b=c.delay,v._start+=b,c.delay=0),o.to(p,c,f?f(u,p,N):0),o._ease=tp.none;o.duration()?_=b=0:v.timeline=0}else if(E){ew(ev(o.vars.defaults,{ease:"none"})),o._ease=tw(E.ease||n.ease||"none");var L,F,U,j=0;if(P(E))E.forEach(function(e){return o.to(N,e,">")}),o.duration();else{for(h in c={},E)"ease"===h||"easeEach"===h||tU(h,E[h],c,E.easeEach);for(h in c)for(u=0,L=c[h].sort(function(e,t){return e.t-t.t}),j=0;u<L.length;u++)(U={ease:(F=L[u]).e,duration:(F.t-(u?L[u-1].t:0))/100*_})[h]=F.v,o.to(N,U,j),j+=U.duration;o.duration()<_&&o.to({},{duration:_-o.duration()})}}_||v.duration(_=o.duration())}else v.timeline=0;return!0!==k||s||(tA=r(v),l.killTweensOf(N),tA=0),eN(D,r(v),i),n.reversed&&v.reverse(),n.paused&&v.paused(!0),(w||!_&&!E&&v._start===ec(D._time)&&A(w)&&function e(t){return!t||t._ts&&e(t.parent)}(r(v))&&"nested"!==D.data)&&(v._tTime=-1e-8,v.render(Math.max(0,-b)||0)),C&&eL(r(v),C),v}i(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,s,a,o,l,u,c,d,h=this._time,p=this._tDur,f=this._dur,g=e<0,m=e>p-1e-8&&!g?p:e<1e-8?0:e;if(f){if(m!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(r=m,c=this.timeline,this._repeat){if(a=f+this._rDelay,this._repeat<-1&&g)return this.totalTime(100*a+e,t,n);if(r=ec(m%a),m===p?(s=this._repeat,r=f):(s=~~(o=ec(m/a)))&&s===o?(r=f,s--):r>f&&(r=f),(l=this._yoyo&&1&s)&&(d=this._yEase,r=f-r),o=eM(this._tTime,a),r===h&&!n&&this._initted&&s===o)return this._tTime=m,this;s!==o&&(c&&this._yEase&&tb(c,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(ec(a*s),!0).invalidate()._lock=0))}if(!this._initted){if(eF(this,g?e:r,n,t,m))return this._tTime=0,this;if(h!==this._time&&!(n&&this.vars.repeatRefresh&&s!==o))return this;if(f!==this._dur)return this.render(e,t,n)}if(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(r/f),this._from&&(this.ratio=u=1-u),r&&!h&&!t&&!s&&(e9(this,"onStart"),this._tTime!==m))return this;for(i=this._pt;i;)i.r(u,i.d),i=i._next;c&&c.render(e<0?e:c._dur*c._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(g&&ex(this,e,t,n),e9(this,"onUpdate")),this._repeat&&s!==o&&this.vars.onRepeat&&!t&&this.parent&&e9(this,"onRepeat"),(m===this._tDur||!m)&&this._tTime===m&&(g&&!this._onUpdate&&ex(this,e,!0,!0),(e||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&eT(this,1),!t&&!(g&&!h)&&(m||h||l)&&(e9(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else eB(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return t&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){g||td.wake(),this._ts||this.play();var s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return(this._initted||tN(this,s),tL(this,e,t,n,r,this._ease(s/this._dur),s,i))?this.resetTo(e,t,n,r,1):(eP(this,0),this.parent||ek(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?te(this):this.scrollTrigger&&this.scrollTrigger.kill(!!a),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,tA&&!0!==tA.vars.overwrite)._first||te(this),this.parent&&n!==this.timeline.totalDuration()&&e$(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,s,o,l,u,c,d=this._targets,h=e?eY(e):d,p=this._ptLookup,f=this._pt;if((!t||"all"===t)&&eS(d,h))return"all"===t&&(this._pt=0),te(this);for(r=this._op=this._op||[],"all"!==t&&(E(t)&&(l={},el(t,function(e){return l[e]=1}),t=l),t=tF(d,t)),c=d.length;c--;)if(~h.indexOf(d[c]))for(l in i=p[c],"all"===t?(r[c]=t,o=i,s={}):(s=r[c]=r[c]||{},o=t),o)(u=i&&i[l])&&("kill"in u.d&&!0!==u.d.kill(l)||eE(this,u,"_pt"),delete i[l]),"all"!==s&&(s[l]=1);return this._initted&&!this._pt&&f&&te(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return eq(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return eq(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return l.killTweensOf(e,t,n)},t}(tC);ev(t$.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),el("staggerTo,staggerFrom,staggerFromTo",function(e){t$[e]=function(){var t=new tx,n=eJ.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var tV=function(e,t,n){return e[t]=n},tW=function(e,t,n){return e[t](n)},tH=function(e,t,n,r){return e[t](r.fp,n)},tq=function(e,t,n){return e.setAttribute(t,n)},tG=function(e,t){return T(e[t])?tW:C(e[t])&&e.setAttribute?tq:tV},tK=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},tZ=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},tJ=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},tX=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},tY=function(e,t,n,r){for(var i,s=this._pt;s;)i=s._next,s.p===r&&s.modifier(e,t,n),s=i},tQ=function(e){for(var t,n,r=this._pt;r;)n=r._next,(r.p!==e||r.op)&&r.op!==e?r.dep||(t=1):eE(this,r,"_pt"),r=n;return!t},t0=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},t1=function(e){for(var t,n,r,i,s=e._pt;s;){for(t=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:i)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:i=s,s=t}e._pt=r},t2=function(){function e(e,t,n,r,i,s,a,o,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=s||tK,this.d=a||this,this.set=o||tV,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=t0,this.m=e,this.mt=n,this.tween=t},e}();el(ei+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return X[e]=1}),z.TweenMax=z.TweenLite=t$,z.TimelineLite=z.TimelineMax=tx,l=new tx({sortChildren:!1,defaults:v,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),m.stringFilter=tc;var t3=[],t5={},t6=[],t4=0,t8=0,t7=function(e){return(t5[e]||t6).map(function(e){return e()})},t9=function(){var e=Date.now(),t=[];e-t4>2&&(t7("matchMediaInit"),t3.forEach(function(e){var n,r,i,s,a=e.queries,o=e.conditions;for(r in a)(n=u.matchMedia(a[r]).matches)&&(i=1),n!==o[r]&&(o[r]=n,s=1);s&&(e.revert(),i&&t.push(e))}),t7("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),t4=e,t7("matchMedia"))},ne=function(){function e(e,t){this.selector=t&&eQ(t),this.data=[],this._r=[],this.isReverted=!1,this.id=t8++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){T(e)&&(n=t,t=e,e=T);var r=this,i=function(){var e,i=o,s=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=eQ(n)),o=r,e=t.apply(r,arguments),T(e)&&r._r.push(e),o=i,r.selector=s,r.isReverted=!1,e};return r.last=i,e===T?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=o;o=null,e(this),o=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof t$&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof tx?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):t instanceof t$||!t.revert||t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=t3.length;r--;)t3[r].id===this.id&&t3.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),nt=function(){function e(e){this.contexts=[],this.scope=e,o&&o.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){x(e)||(e={matches:e});var r,i,s,a=new ne(0,n||this.scope),l=a.conditions={};for(i in o&&!a.selector&&(a.selector=o.selector),this.contexts.push(a),t=a.add("onMatch",t),a.queries=e,e)"all"===i?s=1:(r=u.matchMedia(e[i]))&&(0>t3.indexOf(a)&&t3.push(a),(l[i]=r.matches)&&(s=1),r.addListener?r.addListener(t9):r.addEventListener("change",t9));return s&&t(a,function(e){return a.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),nn={registerPlugin:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return tn(e)})},timeline:function(e){return new tx(e)},getTweensOf:function(e,t){return l.getTweensOf(e,t)},getProperty:function(e,t,n,r){E(e)&&(e=eY(e)[0]);var i=ea(e||{}).get,s=n?em:eg;return"native"===n&&(n=""),e?t?s((ee[t]&&ee[t].get||i)(e,t,n,r)):function(t,n,r){return s((ee[t]&&ee[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=eY(e)).length>1){var r=e.map(function(e){return na.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var s=ee[t],a=ea(e),o=a.harness&&(a.harness.aliases||{})[t]||t,l=s?function(t){var r=new s;f._pt=0,r.init(e,n?t+n:t,f,0,[e]),r.render(1,r),f._pt&&tX(1,f)}:a.set(e,o);return s?l:function(t){return l(e,o,n?t+n:t,a,1)}},quickTo:function(e,t,n){var r,i=na.to(e,ev(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(e,n,r){return i.resetTo(t,e,n,r)};return s.tween=i,s},isTweening:function(e){return l.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=tw(e.ease,v.ease)),e_(v,e||{})},config:function(e){return e_(m,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!ee[e]&&!z[e]&&H(t+" effect requires "+e+" plugin.")}),et[t]=function(e,t,r){return n(eY(e),ev(t||{},i),r)},s&&(tx.prototype[t]=function(e,n,r){return this.add(et[t](e,x(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){tp[e]=tw(t)},parseEase:function(e,t){return arguments.length?tw(e,t):tp},getById:function(e){return l.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new tx(e);for(i.smoothChildTiming=A(e.smoothChildTiming),l.remove(i),i._dp=0,i._time=i._tTime=l._time,n=l._first;n;)r=n._next,(t||!(!n._dur&&n instanceof t$&&n.vars.onComplete===n._targets[0]))&&eN(i,n,n._start-n._delay),n=r;return eN(l,i,0),i},context:function(e,t){return e?new ne(e,t):o},matchMedia:function(e){return new nt(e)},matchMediaRefresh:function(){return t3.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||t9()},addEventListener:function(e,t){var n=t5[e]||(t5[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=t5[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return P(t)?e6(t,e(0,t.length),n):eG(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,s=2*i;return P(t)?e6(t,e(0,t.length-1),n):eG(r,function(e){return e=(s+(e-t)%s)%s||0,t+(e>i?s-e:e)})},distribute:e1,random:e5,snap:e3,normalize:function(e,t,n){return e8(e,t,0,1,n)},getUnit:eZ,clamp:function(e,t,n){return eG(n,function(n){return eK(e,t,n)})},splitColor:ts,toArray:eY,selector:eQ,mapRange:e8,pipe:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||eZ(n))}},interpolate:function e(t,n,r,i){var s=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!s){var a,o,l,u,c,d=E(t),h={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(P(t)&&!P(n)){for(o=1,l=[],c=(u=t.length)-2;o<u;o++)l.push(e(t[o-1],t[o]));u--,s=function(e){var t=Math.min(c,~~(e*=u));return l[t](e-t)},r=n}else i||(t=ey(P(t)?[]:{},t));if(!l){for(a in n)tR.call(h,t,a,"get",n[a]);s=function(e){return tX(e,h)||(d?t.p:t)}}}return eG(r,s)},shuffle:e0},install:V,effects:et,ticker:td,updateRoot:tx.updateRoot,plugins:ee,globalTimeline:l,core:{PropTween:t2,globals:q,Tween:t$,Timeline:tx,Animation:tC,getCache:ea,_removeLinkedListItem:eE,reverting:function(){return a},context:function(e){return e&&o&&(o.data.push(e),e._ctx=o),o},suppressOverwrites:function(e){return s=e}}};el("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return nn[e]=t$[e]}),td.add(tx.updateRoot),f=nn.to({},{duration:0});var nr=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},ni=function(e,t){var n,r,i,s=e._targets;for(n in t)for(r=s.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=nr(i,n)),i&&i.modifier&&i.modifier(t[n],e,s[r],n))},ns=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(E(n)&&(r={},el(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}ni(e,n)}}}},na=nn.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,a,o;for(s in this.tween=n,t)o=e.getAttribute(s)||"",(a=this.add(e,"setAttribute",(o||0)+"",t[s],r,i,0,0,s)).op=s,a.b=o,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)a?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},ns("roundProps",e2),ns("modifiers"),ns("snap",e3))||nn;t$.version=tx.version=na.version="3.12.7",h=1,M()&&th(),tp.Power0,tp.Power1,tp.Power2,tp.Power3,tp.Power4,tp.Linear,tp.Quad,tp.Cubic,tp.Quart,tp.Quint,tp.Strong,tp.Elastic,tp.Back,tp.SteppedEase,tp.Bounce,tp.Sine,tp.Expo,tp.Circ;var no,nl,nu,nc,nd,nh,np,nf={},ng=180/Math.PI,nm=Math.PI/180,nv=Math.atan2,ny=/([A-Z])/g,n_=/(left|right|width|margin|padding|x)/i,nb=/[\s,\(]\S/,nw={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nS=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nk=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nE=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},nT=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},nI=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},nC=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},nx=function(e,t,n){return e.style[t]=n},nA=function(e,t,n){return e.style.setProperty(t,n)},nM=function(e,t,n){return e._gsap[t]=n},nO=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},nR=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},nP=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},nD="transform",nN=nD+"Origin",nL=function e(t,n){var r=this,i=this.target,s=i.style,a=i._gsap;if(t in nf&&s){if(this.tfm=this.tfm||{},"transform"===t)return nw.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=nw[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=n0(i,e)}):this.tfm[t]=a.x?a[t]:n0(i,t),t===nN&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(nD)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(nN,n,"")),t=nD}(s||n)&&this.props.push(t,n,s[t])},nF=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},nU=function(){var e,t,n=this.props,r=this.target,i=r.style,s=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(ny,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)s[t]=this.tfm[t];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=nh())&&e.isStart||i[nD]||(nF(i),s.zOrigin&&i[nN]&&(i[nN]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},nj=function(e,t){var n={target:e,props:[],revert:nU,save:nL};return e._gsap||na.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},nB=function(e,t){var n=no.createElementNS?no.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):no.createElement(e);return n&&n.style?n:no.createElement(e)},nz=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(ny,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,nV(n)||n,1)||""},n$="O,Moz,ms,Ms,Webkit".split(","),nV=function(e,t,n){var r=(t||nc).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(n$[i]+e in r););return i<0?null:(3===i?"ms":i>=0?n$[i]:"")+e},nW=function(){"undefined"!=typeof window&&window.document&&(nl=(no=window.document).documentElement,nc=nB("div")||{style:{}},nB("div"),nN=(nD=nV(nD))+"Origin",nc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",np=!!nV("perspective"),nh=na.core.reverting,nu=1)},nH=function(e){var t,n=e.ownerSVGElement,r=nB("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),nl.appendChild(r);try{t=i.getBBox()}catch(e){}return r.removeChild(i),nl.removeChild(r),t},nq=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},nG=function(e){var t,n;try{t=e.getBBox()}catch(r){t=nH(e),n=1}return t&&(t.width||t.height)||n||(t=nH(e)),!t||t.width||t.x||t.y?t:{x:+nq(e,["x","cx","x1"])||0,y:+nq(e,["y","cy","y1"])||0,width:0,height:0}},nK=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&nG(e))},nZ=function(e,t){if(t){var n,r=e.style;t in nf&&t!==nN&&(t=nD),r.removeProperty?(("ms"===(n=t.substr(0,2))||"webkit"===t.substr(0,6))&&(t="-"+t),r.removeProperty("--"===n?t:t.replace(ny,"-$1").toLowerCase())):r.removeAttribute(t)}},nJ=function(e,t,n,r,i,s){var a=new t2(e._pt,t,n,0,1,s?nC:nI);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},nX={deg:1,rad:1,turn:1},nY={grid:1,flex:1},nQ=function e(t,n,r,i){var s,a,o,l,u=parseFloat(r)||0,c=(r+"").trim().substr((u+"").length)||"px",d=nc.style,h=n_.test(n),p="svg"===t.tagName.toLowerCase(),f=(p?"client":"offset")+(h?"Width":"Height"),g="px"===i,m="%"===i;if(i===c||!u||nX[i]||nX[c])return u;if("px"===c||g||(u=e(t,n,r,"px")),l=t.getCTM&&nK(t),(m||"%"===c)&&(nf[n]||~n.indexOf("adius")))return s=l?t.getBBox()[h?"width":"height"]:t[f],eu(m?u/s*100:u/100*s);if(d[h?"width":"height"]=100+(g?c:i),a="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,l&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==no&&a.appendChild||(a=no.body),(o=a._gsap)&&m&&o.width&&h&&o.time===td.time&&!o.uncache)return eu(u/o.width*100);if(m&&("height"===n||"width"===n)){var v=t.style[n];t.style[n]=100+i,s=t[f],v?t.style[n]=v:nZ(t,n)}else(m||"%"===c)&&!nY[nz(a,"display")]&&(d.position=nz(t,"position")),a===t&&(d.position="static"),a.appendChild(nc),s=nc[f],a.removeChild(nc),d.position="absolute";return h&&m&&((o=ea(a)).time=td.time,o.width=a[f]),eu(g?s*u/100:s&&u?100/s*u:0)},n0=function(e,t,n,r){var i;return nu||nW(),t in nw&&"transform"!==t&&~(t=nw[t]).indexOf(",")&&(t=t.split(",")[0]),nf[t]&&"transform"!==t?(i=rn(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:rr(nz(e,nN))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=n6[t]&&n6[t](e,t,n)||nz(e,t)||eo(e,t)||+("opacity"===t)),n&&!~(i+"").trim().indexOf(" ")?nQ(e,t,i,n)+n:i},n1=function(e,t,n,r){if(!n||"none"===n){var i=nV(t,e,1),s=i&&nz(e,i,1);s&&s!==n?(t=i,n=s):"borderColor"===t&&(n=nz(e,"borderTopColor"))}var a,o,l,u,c,d,h,p,f,g,v,y=new t2(this._pt,e.style,t,0,1,tJ),_=0,b=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(d=e.style[t],e.style[t]=r,r=nz(e,t)||r,d?e.style[t]=d:nZ(e,t)),tc(a=[n,r]),n=a[0],r=a[1],l=n.match(L)||[],(r.match(L)||[]).length){for(;o=L.exec(r);)h=o[0],f=r.substring(_,o.index),c?c=(c+1)%5:("rgba("===f.substr(-5)||"hsla("===f.substr(-5))&&(c=1),h!==(d=l[b++]||"")&&(u=parseFloat(d)||0,v=d.substr((u+"").length),"="===h.charAt(1)&&(h=ed(u,h)+v),p=parseFloat(h),g=h.substr((p+"").length),_=L.lastIndex-g.length,g||(g=g||m.units[t]||v,_!==r.length||(r+=g,y.e+=g)),v!==g&&(u=nQ(e,t,d,g)||0),y._pt={_next:y._pt,p:f||1===b?f:",",s:u,c:p-u,m:c&&c<4||"zIndex"===t?Math.round:0});y.c=_<r.length?r.substring(_,r.length):""}else y.r="display"===t&&"none"===r?nC:nI;return U.test(r)&&(y.e=0),this._pt=y,y},n2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},n3=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return("top"===n||"bottom"===n||"left"===r||"right"===r)&&(e=n,n=r,r=e),t[0]=n2[n]||n,t[1]=n2[r]||r,t.join(" ")},n5=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,s=t.t,a=s.style,o=t.u,l=s._gsap;if("all"===o||!0===o)a.cssText="",r=1;else for(i=(o=o.split(",")).length;--i>-1;)nf[n=o[i]]&&(r=1,n="transformOrigin"===n?nN:nD),nZ(s,n);r&&(nZ(s,nD),l&&(l.svg&&s.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",rn(s,1),l.uncache=1,nF(a)))}},n6={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var s=e._pt=new t2(e._pt,t,n,0,0,n5);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},n4=[1,0,0,1,0,0],n8={},n7=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},n9=function(e){var t=nz(e,nD);return n7(t)?n4:t.substr(7).match(N).map(eu)},re=function(e,t){var n,r,i,s,a=e._gsap||ea(e),o=e.style,l=n9(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?n4:l:(l!==n4||e.offsetParent||e===nl||a.svg||(i=o.display,o.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(s=1,r=e.nextElementSibling,nl.appendChild(e)),l=n9(e),i?o.display=i:nZ(e,"display"),s&&(r?n.insertBefore(e,r):n?n.appendChild(e):nl.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},rt=function(e,t,n,r,i,s){var a,o,l,u,c=e._gsap,d=i||re(e,!0),h=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,g=c.yOffset||0,m=d[0],v=d[1],y=d[2],_=d[3],b=d[4],w=d[5],S=t.split(" "),k=parseFloat(S[0])||0,E=parseFloat(S[1])||0;n?d!==n4&&(o=m*_-v*y)&&(l=_/o*k+-y/o*E+(y*w-_*b)/o,u=-v/o*k+m/o*E-(m*w-v*b)/o,k=l,E=u):(k=(a=nG(e)).x+(~S[0].indexOf("%")?k/100*a.width:k),E=a.y+(~(S[1]||S[0]).indexOf("%")?E/100*a.height:E)),r||!1!==r&&c.smooth?(c.xOffset=f+((b=k-h)*m+(w=E-p)*y)-b,c.yOffset=g+(b*v+w*_)-w):c.xOffset=c.yOffset=0,c.xOrigin=k,c.yOrigin=E,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[nN]="0px 0px",s&&(nJ(s,c,"xOrigin",h,k),nJ(s,c,"yOrigin",p,E),nJ(s,c,"xOffset",f,c.xOffset),nJ(s,c,"yOffset",g,c.yOffset)),e.setAttribute("data-svg-origin",k+" "+E)},rn=function(e,t){var n=e._gsap||new tI(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,s,a,o,l,u,c,d,h,p,f,g,v,y,_,b,w,S,k,E,T,I,C,x,A,M,O,R,P,D,N,L=e.style,F=n.scaleX<0,U=getComputedStyle(e),j=nz(e,nN)||"0";return r=i=s=l=u=c=d=h=p=0,a=o=1,n.svg=!!(e.getCTM&&nK(e)),U.translate&&(("none"!==U.translate||"none"!==U.scale||"none"!==U.rotate)&&(L[nD]=("none"!==U.translate?"translate3d("+(U.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==U.rotate?"rotate("+U.rotate+") ":"")+("none"!==U.scale?"scale("+U.scale.split(" ").join(",")+") ":"")+("none"!==U[nD]?U[nD]:"")),L.scale=L.rotate=L.translate="none"),v=re(e,n.svg),n.svg&&(n.uncache?(x=e.getBBox(),j=n.xOrigin-x.x+"px "+(n.yOrigin-x.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),rt(e,C||j,!!C||n.originIsAbsolute,!1!==n.smooth,v)),f=n.xOrigin||0,g=n.yOrigin||0,v!==n4&&(w=v[0],S=v[1],k=v[2],E=v[3],r=T=v[4],i=I=v[5],6===v.length?(a=Math.sqrt(w*w+S*S),o=Math.sqrt(E*E+k*k),l=w||S?nv(S,w)*ng:0,(d=k||E?nv(k,E)*ng+l:0)&&(o*=Math.abs(Math.cos(d*nm))),n.svg&&(r-=f-(f*w+g*k),i-=g-(f*S+g*E))):(N=v[6],P=v[7],M=v[8],O=v[9],R=v[10],D=v[11],r=v[12],i=v[13],s=v[14],u=(y=nv(N,R))*ng,y&&(C=T*(_=Math.cos(-y))+M*(b=Math.sin(-y)),x=I*_+O*b,A=N*_+R*b,M=-(T*b)+M*_,O=-(I*b)+O*_,R=-(N*b)+R*_,D=-(P*b)+D*_,T=C,I=x,N=A),c=(y=nv(-k,R))*ng,y&&(C=w*(_=Math.cos(-y))-M*(b=Math.sin(-y)),x=S*_-O*b,A=k*_-R*b,D=E*b+D*_,w=C,S=x,k=A),l=(y=nv(S,w))*ng,y&&(C=w*(_=Math.cos(y))+S*(b=Math.sin(y)),x=T*_+I*b,S=S*_-w*b,I=I*_-T*b,w=C,T=x),u&&Math.abs(u)+Math.abs(l)>359.9&&(u=l=0,c=180-c),a=eu(Math.sqrt(w*w+S*S+k*k)),o=eu(Math.sqrt(I*I+N*N)),d=Math.abs(y=nv(T,I))>2e-4?y*ng:0,p=D?1/(D<0?-D:D):0),n.svg&&(C=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!n7(nz(e,nD)),C&&e.setAttribute("transform",C))),Math.abs(d)>90&&270>Math.abs(d)&&(F?(a*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(o*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+"px",n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+"px",n.z=s+"px",n.scaleX=eu(a),n.scaleY=eu(o),n.rotation=eu(l)+"deg",n.rotationX=eu(u)+"deg",n.rotationY=eu(c)+"deg",n.skewX=d+"deg",n.skewY=h+"deg",n.transformPerspective=p+"px",(n.zOrigin=parseFloat(j.split(" ")[2])||!t&&n.zOrigin||0)&&(L[nN]=rr(j)),n.xOffset=n.yOffset=0,n.force3D=m.force3D,n.renderTransform=n.svg?rl:np?ro:rs,n.uncache=0,n},rr=function(e){return(e=e.split(" "))[0]+" "+e[1]},ri=function(e,t,n){var r=eZ(t);return eu(parseFloat(t)+parseFloat(nQ(e,"x",n+"px",r)))+r},rs=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ro(e,t)},ra="0deg",ro=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,a=n.y,o=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,d=n.skewX,h=n.skewY,p=n.scaleX,f=n.scaleY,g=n.transformPerspective,m=n.force3D,v=n.target,y=n.zOrigin,_="",b="auto"===m&&e&&1!==e||!0===m;if(y&&(c!==ra||u!==ra)){var w,S=parseFloat(u)*nm,k=Math.sin(S),E=Math.cos(S);s=ri(v,s,-(k*(w=Math.cos(S=parseFloat(c)*nm))*y)),a=ri(v,a,-(-Math.sin(S)*y)),o=ri(v,o,-(E*w*y)+y)}"0px"!==g&&(_+="perspective("+g+") "),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||"0px"!==s||"0px"!==a||"0px"!==o)&&(_+="0px"!==o||b?"translate3d("+s+", "+a+", "+o+") ":"translate("+s+", "+a+") "),l!==ra&&(_+="rotate("+l+") "),u!==ra&&(_+="rotateY("+u+") "),c!==ra&&(_+="rotateX("+c+") "),(d!==ra||h!==ra)&&(_+="skew("+d+", "+h+") "),(1!==p||1!==f)&&(_+="scale("+p+", "+f+") "),v.style[nD]=_||"translate(0, 0)"},rl=function(e,t){var n,r,i,s,a,o=t||this,l=o.xPercent,u=o.yPercent,c=o.x,d=o.y,h=o.rotation,p=o.skewX,f=o.skewY,g=o.scaleX,m=o.scaleY,v=o.target,y=o.xOrigin,_=o.yOrigin,b=o.xOffset,w=o.yOffset,S=o.forceCSS,k=parseFloat(c),E=parseFloat(d);h=parseFloat(h),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),h+=f),h||p?(h*=nm,p*=nm,n=Math.cos(h)*g,r=Math.sin(h)*g,i=-(Math.sin(h-p)*m),s=Math.cos(h-p)*m,p&&(f*=nm,i*=a=Math.sqrt(1+(a=Math.tan(p-f))*a),s*=a,f&&(n*=a=Math.sqrt(1+(a=Math.tan(f))*a),r*=a)),n=eu(n),r=eu(r),i=eu(i),s=eu(s)):(n=g,s=m,r=i=0),(k&&!~(c+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(k=nQ(v,"x",c,"px"),E=nQ(v,"y",d,"px")),(y||_||b||w)&&(k=eu(k+y-(y*n+_*i)+b),E=eu(E+_-(y*r+_*s)+w)),(l||u)&&(k=eu(k+l/100*(a=v.getBBox()).width),E=eu(E+u/100*a.height)),a="matrix("+n+","+r+","+i+","+s+","+k+","+E+")",v.setAttribute("transform",a),S&&(v.style[nD]=a)},ru=function(e,t,n,r,i){var s,a,o=E(i),l=parseFloat(i)*(o&&~i.indexOf("rad")?ng:1)-r,u=r+l+"deg";return o&&("short"===(s=i.split("_")[1])&&(l%=360)!=l%180&&(l+=l<0?360:-360),"cw"===s&&l<0?l=(l+36e9)%360-360*~~(l/360):"ccw"===s&&l>0&&(l=(l-36e9)%360-360*~~(l/360))),e._pt=a=new t2(e._pt,t,n,r,l,nk),a.e=u,a.u="deg",e._props.push(n),a},rc=function(e,t){for(var n in t)e[n]=t[n];return e},rd=function(e,t,n){var r,i,s,a,o,l,u,c=rc({},n._gsap),d=n.style;for(i in c.svg?(s=n.getAttribute("transform"),n.setAttribute("transform",""),d[nD]=t,r=rn(n,1),nZ(n,nD),n.setAttribute("transform",s)):(s=getComputedStyle(n)[nD],d[nD]=t,r=rn(n,1),d[nD]=s),nf)(s=c[i])!==(a=r[i])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)&&(o=eZ(s)!==(u=eZ(a))?nQ(n,i,s,u):parseFloat(s),l=parseFloat(a),e._pt=new t2(e._pt,r,i,o,l-o,nS),e._pt.u=u||0,e._props.push(i));rc(r,c)};el("padding,margin,Width,Radius",function(e,t){var n="Right",r="Bottom",i="Left",s=(t<3?["Top",n,r,i]:["Top"+i,"Top"+n,r+n,r+i]).map(function(n){return t<2?e+n:"border"+n+e});n6[t>1?"border"+e:e]=function(e,t,n,r,i){var a,o;if(arguments.length<4)return 5===(o=(a=s.map(function(t){return n0(e,t,n)})).join(" ")).split(a[0]).length?a[0]:o;a=(r+"").split(" "),o={},s.forEach(function(e,t){return o[e]=a[t]=a[t]||a[(t-1)/2|0]}),e.init(t,o,i)}});var rh={name:"css",register:nW,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s,a,o,l,u,c,d,h,p,f,g,v,y,_,b,w,S=this._props,k=e.style,T=n.vars.startAt;for(d in nu||nW(),this.styles=this.styles||nj(e),w=this.styles.props,this.tween=n,t){if("autoRound"!==d){if(a=t[d],!(ee[d]&&tD(d,t,n,r,e,i))){if(u=typeof a,c=n6[d],"function"===u&&(u=typeof(a=a.call(n,r,e,i))),"string"===u&&~a.indexOf("random(")&&(a=e4(a)),c)c(this,e,d,a,n)&&(b=1);else if("--"===d.substr(0,2))s=(getComputedStyle(e).getPropertyValue(d)+"").trim(),a+="",tl.lastIndex=0,tl.test(s)||(h=eZ(s),p=eZ(a)),p?h!==p&&(s=nQ(e,d,s,p)+p):h&&(a+=h),this.add(k,"setProperty",s,a,r,i,0,0,d),S.push(d),w.push(d,0,k[d]);else if("undefined"!==u){if(T&&d in T?(E(s="function"==typeof T[d]?T[d].call(n,r,e,i):T[d])&&~s.indexOf("random(")&&(s=e4(s)),eZ(s+"")||"auto"===s||(s+=m.units[d]||eZ(n0(e,d))||""),"="===(s+"").charAt(1)&&(s=n0(e,d))):s=n0(e,d),l=parseFloat(s),(f="string"===u&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),o=parseFloat(a),d in nw&&("autoAlpha"===d&&(1===l&&"hidden"===n0(e,"visibility")&&o&&(l=0),w.push("visibility",0,k.visibility),nJ(this,k,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==d&&"transform"!==d&&~(d=nw[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in nf){if(this.styles.save(d),v||((y=e._gsap).renderTransform&&!t.parseTransform||rn(e,t.parseTransform),_=!1!==t.smoothOrigin&&y.smooth,(v=this._pt=new t2(this._pt,k,nD,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===d)this._pt=new t2(this._pt,y,"scaleY",y.scaleY,(f?ed(y.scaleY,f+o):o)-y.scaleY||0,nS),this._pt.u=0,S.push("scaleY",d),d+="X";else if("transformOrigin"===d){w.push(nN,0,k[nN]),a=n3(a),y.svg?rt(e,a,0,_,0,this):((p=parseFloat(a.split(" ")[2])||0)!==y.zOrigin&&nJ(this,y,"zOrigin",y.zOrigin,p),nJ(this,k,d,rr(s),rr(a)));continue}else if("svgOrigin"===d){rt(e,a,1,_,0,this);continue}else if(d in n8){ru(this,y,d,l,f?ed(l,f+a):a);continue}else if("smoothOrigin"===d){nJ(this,y,"smooth",y.smooth,a);continue}else if("force3D"===d){y[d]=a;continue}else if("transform"===d){rd(this,a,e);continue}}else d in k||(d=nV(d)||d);if(g||(o||0===o)&&(l||0===l)&&!nb.test(a)&&d in k)h=(s+"").substr((l+"").length),o||(o=0),p=eZ(a)||(d in m.units?m.units[d]:h),h!==p&&(l=nQ(e,d,s,p)),this._pt=new t2(this._pt,g?y:k,d,l,(f?ed(l,f+o):o)-l,g||"px"!==p&&"zIndex"!==d||!1===t.autoRound?nS:nT),this._pt.u=p||0,h!==p&&"%"!==p&&(this._pt.b=s,this._pt.r=nE);else if(d in k)n1.call(this,e,d,s,f?f+a:a);else if(d in e)this.add(e,d,s||e[d],f?f+a:a,r,i);else if("parseTransform"!==d){W(d,a);continue}g||(d in k?w.push(d,0,k[d]):"function"==typeof e[d]?w.push(d,2,e[d]()):w.push(d,1,s||e[d])),S.push(d)}}}}b&&t1(this)},render:function(e,t){if(t.tween._time||!nh())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:n0,aliases:nw,getSetter:function(e,t,n){var r=nw[t];return r&&0>r.indexOf(",")&&(t=r),t in nf&&t!==nN&&(e._gsap.x||n0(e,"x"))?n&&nd===n?"scale"===t?nO:nM:(nd=n||{},"scale"===t?nR:nP):e.style&&!C(e.style[t])?nx:~t.indexOf("-")?nA:tG(e,t)},core:{_removeProperty:nZ,_getMatrix:re}};na.utils.checkPrefix=nV,na.core.getStyleSaver=nj,function(e,t,n,r){var i=el(e+","+t+","+n,function(e){nf[e]=1});el(t,function(e){m.units[e]="deg",n8[e]=1}),nw[i[13]]=e+","+t,el(r,function(e){var t=e.split(":");nw[t[1]]=i[t[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),el("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){m.units[e]="px"}),na.registerPlugin(rh);var rp=na.registerPlugin(rh)||na;rp.core.Tween},5951:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(758)}])},5955:(e,t,n)=>{"use strict";let r,i;n.d(t,{B9:()=>c,DQ:()=>h,Ri:()=>u,TV:()=>l,z$:()=>d});var s=n(8778),a=n(7132),o=n(5004);function l(e,t,n=0,r){let i=new Date;i.setTime(i.getTime()+n);let s=`expires=${i.toUTCString()}`,a=r&&r.crossSite?"none":"strict",o=r&&r.domain?`;domain=${r.domain}`:"",u=r&&r.secure?";secure":"",c=r&&r.partitioned?";partitioned":"";document.cookie=`${e}=${t};${s};path=/;samesite=${a}${o}${u}${c}`}function u(e){return(0,o.rx)(document.cookie,e)}function c(e){return r||(r=(0,o.it)(document.cookie)),r.get(e)}function d(e){if(void 0===document.cookie||null===document.cookie)return!1;try{let t=`dd_cookie_test_${(0,o.lk)()}`,n="test";l(t,n,a.iW,e);let r=u(t)===n;return l(t,"",0,e),r}catch(e){return s.Vy.error(e),!1}}function h(){if(void 0===i){let e=`dd_site_test_${(0,o.lk)()}`,t=window.location.hostname.split("."),n=t.pop();for(;t.length&&!u(e);)n=`${t.pop()}.${n}`,l(e,"test",a.OY,{domain:n});l(e,"",0,{domain:n}),i=n}return i}},6001:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleAnalytics=void 0;let s=i(n(4687)),a=n(6929);t.GoogleAnalytics=e=>{var t=r(e,[]);return(0,a.formatData)(s.default,t)}},6060:(e,t,n)=>{e.exports=n(3244)},6168:(e,t,n)=>{"use strict";function r(e,t){let n=window.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:t})}n.d(t,{b:()=>r})},6202:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.StatsigEvaluationsDataAdapter=void 0;let i=n(460),s=n(5217);class a extends i.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(e,t){super.attach(e,t),this._network=new s.default(null!=t?t:{})}getDataAsync(e,t,n){return this._getDataAsyncImpl(e,(0,i._normalizeUser)(t,this._options),n)}prefetchData(e,t){return this._prefetchDataImpl(e,t)}setData(e){let t=(0,i._typedJsonParse)(e,"has_updates","data");t&&"user"in t?super.setData(e,t.user):i.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(e,t){super.setData(e,t)}_fetchFromNetwork(e,t,n,i){var s;return r(this,void 0,void 0,function*(){let r=yield null===(s=this._network)||void 0===s?void 0:s.fetchEvaluations(this._getSdkKey(),e,null==n?void 0:n.priority,t,i);return null!=r?r:null})}_getCacheKey(e){var t;let n=(0,i._getStorageKey)(this._getSdkKey(),e,null===(t=this._options)||void 0===t?void 0:t.customUserCacheKeyFunc);return`${i.DataAdapterCachePrefix}.${this._cacheSuffix}.${n}`}_isCachedResultValidFor204(e,t){return null!=e.fullUserHash&&e.fullUserHash===(0,i._getFullUserHash)(t)}}t.StatsigEvaluationsDataAdapter=a},6247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6376:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){return Math.round(Math.random()*e)}},6435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._setObjectInStorage=t._getObjectFromStorage=t.Storage=void 0;let r=n(1414),i=n(9539),s={},a={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>s[e]?s[e]:null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]},getAllKeys:()=>Object.keys(s)},o=null;try{let e=(0,i._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(o={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:t=>e.localStorage.getItem(t),setItem:(t,n)=>e.localStorage.setItem(t,n),removeItem:t=>e.localStorage.removeItem(t),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){r.Log.warn("Failed to setup localStorageProvider.")}let l=null!=o?o:a,u=l;t.Storage={isReady:()=>u.isReady(),isReadyResolver:()=>u.isReadyResolver(),getProviderName:()=>u.getProviderName(),getItem:e=>(function(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return t.Storage._setProvider(a),null;throw e}})(()=>u.getItem(e)),setItem:(e,t)=>u.setItem(e,t),removeItem:e=>u.removeItem(e),getAllKeys:()=>u.getAllKeys(),_setProvider:e=>{l=e,u=e},_setDisabled:e=>{u=e?a:l}},t._getObjectFromStorage=function(e){let n=t.Storage.getItem(e);return JSON.parse(null!=n?n:"null")},t._setObjectInStorage=function(e,n){t.Storage.setItem(e,JSON.stringify(n))}},6450:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6464:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},6555:(e,t,n)=>{"use strict";function r(e,t,n,r){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return r}}),n(9035),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6559:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sendGAEvent=t.GoogleAnalytics=t.sendGTMEvent=t.GoogleTagManager=t.YouTubeEmbed=t.GoogleMapsEmbed=void 0;var i=n(1382);Object.defineProperty(t,"GoogleMapsEmbed",{enumerable:!0,get:function(){return r(i).default}});var s=n(9886);Object.defineProperty(t,"YouTubeEmbed",{enumerable:!0,get:function(){return r(s).default}});var a=n(4533);Object.defineProperty(t,"GoogleTagManager",{enumerable:!0,get:function(){return a.GoogleTagManager}}),Object.defineProperty(t,"sendGTMEvent",{enumerable:!0,get:function(){return a.sendGTMEvent}});var o=n(2541);Object.defineProperty(t,"GoogleAnalytics",{enumerable:!0,get:function(){return o.GoogleAnalytics}}),Object.defineProperty(t,"sendGAEvent",{enumerable:!0,get:function(){return o.sendGAEvent}})},6692:(e,t,n)=>{"use strict";let r;n.d(t,{AY:()=>a,L2:()=>o,c$:()=>l,l2:()=>s});var i=n(8345);function s(e){return l(e,location.href).href}function a(e){try{return!!l(e)}catch(e){return!1}}function o(e){let t=l(e).pathname;return"/"===t[0]?t:`/${t}`}function l(e,t){let n=function(){if(void 0===r)try{let e=new u("http://test/path");r="http://test/path"===e.href}catch(e){r=!1}return r?u:void 0}();if(n)try{return void 0!==t?new n(e,t):new n(e)}catch(n){throw Error(`Failed to construct URL: ${String(n)} ${(0,i.s)({url:e,base:t})}`)}if(void 0===t&&!/:/.test(e))throw Error(`Invalid URL: '${e}'`);let s=document,a=s.createElement("a");if(void 0!==t){let e=(s=document.implementation.createHTMLDocument("")).createElement("base");e.href=t,s.head.appendChild(e),s.body.appendChild(a)}return a.href=e,a}let u=URL},6699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(8778),i=n(8410),s=n(1791),a=n(8345),o=n(905);function l({encoder:e,request:t,flushController:n,messageBytesLimit:l}){let c={},d=n.flushObservable.subscribe(n=>(function(n){let r=(0,i.KQ)(c).join("\n");c={};let a=(0,s.Kp)(n.reason),l=a?t.sendOnExit:t.send;if(a&&e.isAsync){let t=e.finishSync();t.outputBytesCount&&l(u(t));let n=[t.pendingData,r].filter(Boolean).join("\n");n&&l({data:n,bytesCount:(0,o.WW)(n)})}else r&&e.write(e.isEmpty?r:`
${r}`),e.finish(e=>{l(u(e))})})(n));function h(t,i){let s=(0,a.s)(t),o=e.estimateEncodedBytesCount(s);if(o>=l){r.Vy.warn(`Discarded a message whose size was bigger than the maximum allowed size ${l}KB. ${r.xG} ${r.Xs}/#technical-limitations`);return}void 0!==i&&void 0!==c[i]&&!function(t){let r=c[t];delete c[t];let i=e.estimateEncodedBytesCount(r);n.notifyAfterRemoveMessage(i)}(i),n.notifyBeforeAddMessage(o),void 0!==i?(c[i]=s,n.notifyAfterAddMessage()):e.write(e.isEmpty?s:`
${s}`,e=>{n.notifyAfterAddMessage(e-o)})}return{flushController:n,add:h,upsert:h,stop:d.unsubscribe}}function u(e){let t;return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}var c=n(3404),d=n(565),h=n(9589);function p(e,t,n,r,i,s,a=l){let o=f(e,t),u=n&&f(e,n);function f(e,{endpoint:t,encoder:n}){return a({encoder:n,request:(0,c.sA)(t,e.batchBytesLimit,r),flushController:function({messagesLimit:e,bytesLimit:t,durationLimit:n,pageExitObservable:r,sessionExpireObservable:i}){let s;let a=r.subscribe(e=>p(e.reason)),o=i.subscribe(()=>p("session_expire")),l=new d.c(()=>()=>{a.unsubscribe(),o.unsubscribe()}),u=0,c=0;function p(e){if(0===c)return;let t=c,n=u;c=0,u=0,f(),l.notify({reason:e,messagesCount:t,bytesCount:n})}function f(){(0,h.DJ)(s),s=void 0}return{flushObservable:l,get messagesCount(){return c},notifyBeforeAddMessage(e){u+e>=t&&p("bytes_limit"),c+=1,u+=e,void 0===s&&(s=(0,h.wg)(()=>{p("duration_limit")},n))},notifyAfterAddMessage(n=0){u+=n,c>=e?p("messages_limit"):u>=t&&p("bytes_limit")},notifyAfterRemoveMessage(e){u-=e,0==(c-=1)&&f()}}}({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageExitObservable:i,sessionExpireObservable:s}),messageBytesLimit:e.messageBytesLimit})}return{flushObservable:o.flushController.flushObservable,add(e,t=!0){o.add(e),u&&t&&u.add(n.transformMessage?n.transformMessage(e):e)},upsert:(e,t)=>{o.upsert(e,t),u&&u.upsert(n.transformMessage?n.transformMessage(e):e,t)},stop:()=>{o.stop(),u&&u.stop()}}}},6823:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6376),i=n(8812);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},6883:(e,t,n)=>{"use strict";n.d(t,{HF:()=>e5,LD:()=>e2,xI:()=>nF,Q4:()=>nt,x8:()=>tY,dC:()=>t9,hg:()=>tp,zK:()=>te,eN:()=>to,df:()=>tX,$2:()=>t8,CI:()=>tf});var r=n(2529),i=n(1107),s=n(227);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}Object.create;Object.create;var o=("function"==typeof SuppressedError&&SuppressedError,n(1259));function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let u=new i.FA("auth","Firebase",l()),c=new s.Vy("@firebase/auth");function d(e,...t){c.logLevel<=s.$b.ERROR&&c.error(`Auth (${r.MF}): ${e}`,...t)}function h(e,...t){throw v(e,...t)}function p(e,...t){return v(e,...t)}function f(e,t,n){let r=Object.assign(Object.assign({},l()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return f(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&h(e,"argument-error"),f(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return u.create(e,...t)}function y(e,t,...n){if(!e)throw v(t,...n)}function _(e){let t="INTERNAL ASSERTION FAILED: "+e;throw d(t),Error(t)}function b(e,t){e||_(t)}function w(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||_(n),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===S()||"https:"===S()||(0,i.sr)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function E(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||_(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class T{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void _("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void _("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void _("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},C=new k(3e4,6e4);function x(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function A(e,t,n,r,s={}){return M(e,s,async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});let o=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);let u=Object.assign({method:t,headers:l},s);return(0,i.c1)()||(u.referrerPolicy="no-referrer"),T.fetch()(R(e,e.config.apiHost,n,o),u)})}async function M(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},I),t);try{let t=new P(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw D(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw D(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw D(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw D(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw f(e,a,n);h(e,a)}}catch(t){if(t instanceof i.g)throw t;h(e,"network-request-failed",{message:String(t)})}}async function O(e,t,n,r,i={}){let s=await A(e,t,n,r,i);return"mfaPendingCredential"in s&&h(e,"multi-factor-auth-required",{_serverResponse:s}),s}function R(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?E(e.config,i):`${e.config.apiScheme}://${i}`}class P{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"network-request-failed")),C.get())})}}function D(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=p(e,t,r);return i.customData._tokenResponse=n,i}function N(e){return void 0!==e&&void 0!==e.enterprise}class L{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F(e,t){return A(e,"GET","/v2/recaptchaConfig",x(e,t))}async function U(e,t){return A(e,"POST","/v1/accounts:delete",t)}async function j(e,t){return A(e,"POST","/v1/accounts:lookup",t)}function B(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function z(e,t=!1){let n=(0,i.Ku)(e),r=await n.getIdToken(t),s=V(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");let a="object"==typeof s.firebase?s.firebase:void 0,o=null==a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:B($(s.auth_time)),issuedAtTime:B($(s.iat)),expirationTime:B($(s.exp)),signInProvider:o||null,signInSecondFactor:(null==a?void 0:a.sign_in_second_factor)||null}}function $(e){return 1e3*Number(e)}function V(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,i.u)(n);if(!e)return d("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return d("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function W(e){let t=V(e);return y(t,"internal-error"),y(void 0!==t.exp,"internal-error"),y(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function H(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof i.g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){!this.isRunning&&(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class G{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=B(this.lastLoginAt),this.creationTime=B(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function K(e){var t,n,r;let i=e.auth,s=await e.getIdToken(),a=await H(e,j(i,{idToken:s}));y(null==a?void 0:a.users.length,i,"internal-error");let o=a.users[0];e._notifyReloadListener(o);let l=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?J(o.providerUserInfo):[],u=(n=e.providerData,r=l,[...n.filter(e=>!r.some(t=>t.providerId===e.providerId)),...r]),c=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null==u?void 0:u.length);Object.assign(e,{uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new G(o.createdAt,o.lastLoginAt),isAnonymous:!!c&&d})}async function Z(e){let t=(0,i.Ku)(e);await K(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}async function X(e,t){let n=await M(e,{},async()=>{let n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=R(e,r,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",T.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Y(e,t){return A(e,"POST","/v2/accounts:revokeToken",x(e,t))}class Q{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y(void 0!==e.idToken,"internal-error"),y(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):W(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");let t=W(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await X(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Q;return n&&(y("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Q,this.toJSON())}_performRefresh(){return _("not implemented")}}function ee(e,t){y("string"==typeof e||void 0===e,"internal-error",{appName:t})}class et{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await H(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return z(this,e)}reload(){return Z(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new et(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await K(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));let e=await this.getIdToken();return await H(this,U(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:b,isAnonymous:w,providerData:S,stsTokenManager:k}=t;y(_&&k,e,"internal-error");let E=Q.fromJSON(this.name,k);y("string"==typeof _,e,"internal-error"),ee(c,e.name),ee(d,e.name),y("boolean"==typeof b,e,"internal-error"),y("boolean"==typeof w,e,"internal-error"),ee(h,e.name),ee(p,e.name),ee(f,e.name),ee(g,e.name),ee(m,e.name),ee(v,e.name);let T=new et({uid:_,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:E,createdAt:m,lastLoginAt:v});return S&&Array.isArray(S)&&(T.providerData=S.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,n=!1){let r=new Q;r.updateFromServerResponse(t);let i=new et({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await K(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];y(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),a=new Q;a.updateFromIdToken(n);let o=new et({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new G(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}}let en=new Map;function er(e){var t,n;t="Expected a class definition",e instanceof Function||_(t);let r=en.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||_(n)):(r=new e,en.set(e,r)),r}class ei{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function es(e,t,n){return`firebase:${e}:${t}:${n}`}ei.type="NONE";class ea{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=es(this.userKey,r.apiKey,i),this.fullPersistenceKey=es("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?et._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ea(er(ei),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||er(ei),s=es(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=et._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new ea(i,e,n)}}function eo(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ed(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";{if(t.includes("edge/"))return"Edge";if(el(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ep(t))return"Blackberry";if(ef(t))return"Webos";if(eu(t))return"Safari";if((t.includes("chrome/")||ec(t))&&!t.includes("edge/"))return"Chrome";if(eh(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function el(e=(0,i.ZQ)()){return/firefox\//i.test(e)}function eu(e=(0,i.ZQ)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ec(e=(0,i.ZQ)()){return/crios\//i.test(e)}function ed(e=(0,i.ZQ)()){return/iemobile/i.test(e)}function eh(e=(0,i.ZQ)()){return/android/i.test(e)}function ep(e=(0,i.ZQ)()){return/blackberry/i.test(e)}function ef(e=(0,i.ZQ)()){return/webos/i.test(e)}function eg(e=(0,i.ZQ)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function em(e=(0,i.ZQ)()){return eg(e)||eh(e)||ef(e)||ep(e)||/windows phone/i.test(e)||ed(e)}function ev(e,t=[]){let n;switch(e){case"Browser":n=eo((0,i.ZQ)());break;case"Worker":n=`${eo((0,i.ZQ)())}-${e}`;break;default:n=e}let s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.MF}/${s}`}class ey{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function e_(e,t={}){return A(e,"GET","/v2/passwordPolicy",x(e,t))}class eb{constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ew{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ek(this),this.idTokenSubscription=new ek(this),this.beforeStateQueue=new ey(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=er(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ea.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await j(this,{idToken:e}),n=await et._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null==i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===r)&&(null==a?void 0:a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return(y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId)?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await K(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));let t=e?(0,i.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(er(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new eb(await e_(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await Y(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&er(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await ea.create(this,[er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(a,this,"internal-error"),a.then(()=>{!s&&i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!(!e||this.frameworks.includes(e))&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ev(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){c.logLevel<=s.$b.WARN&&c.warn(`Auth (${r.MF}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function eS(e){return(0,i.Ku)(e)}class ek{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let eE={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eT(e){return`__${e}${Math.floor(1e6*Math.random())}`}class eI{constructor(){this.enterprise=new eC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class eC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let ex="NO_RECAPTCHA";class eA{constructor(e){this.type="recaptcha-enterprise",this.auth=eS(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{F(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new L(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;N(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(ex)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eI().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&N(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=eE.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,eE.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function eM(e,t,n,r=!1,i=!1){let s;let a=new eA(e);if(i)s=ex;else try{s=await a.verify(n)}catch(e){s=await a.verify(n,!0)}let o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eO(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s||!s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await eM(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await eM(e,t,n,"getOobCode"===n);return r(e,i)}}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){let i=await eM(e,t,n);return r(e,i).catch(async i=>{var s;if((null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await eM(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await eM(e,t,n,!1,!0);return r(e,i)}}async function eR(e){let t=eS(e),n=new L(await F(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new eA(t).verify()}function eP(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eD(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class eN{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return _("not implemented")}_getIdTokenResponse(e){return _("not implemented")}_linkToIdToken(e,t){return _("not implemented")}_getReauthenticationResolver(e){return _("not implemented")}}async function eL(e,t){return A(e,"POST","/v1/accounts:resetPassword",x(e,t))}async function eF(e,t){return A(e,"POST","/v1/accounts:update",t)}async function eU(e,t){return A(e,"POST","/v1/accounts:signUp",t)}async function ej(e,t){return O(e,"POST","/v1/accounts:signInWithPassword",x(e,t))}async function eB(e,t){return A(e,"POST","/v1/accounts:sendOobCode",x(e,t))}async function ez(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",x(e,t))}async function e$(e,t){return O(e,"POST","/v1/accounts:signInWithEmailLink",x(e,t))}class eV extends eN{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new eV(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new eV(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return eO(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ej,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ez(e,{email:this._email,oobCode:this._password});default:h(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return eO(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e$(e,{idToken:t,email:this._email,oobCode:this._password});default:h(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function eW(e,t){return O(e,"POST","/v1/accounts:signInWithIdp",x(e,t))}class eH extends eN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new eH(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):h("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new eH(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return eW(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,eW(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,eW(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function eq(e,t){return A(e,"POST","/v1/accounts:sendVerificationCode",x(e,t))}async function eG(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",x(e,t))}async function eK(e,t){let n=await O(e,"POST","/v1/accounts:signInWithPhoneNumber",x(e,t));if(n.temporaryProof)throw D(e,"account-exists-with-different-credential",n);return n}let eZ={USER_NOT_FOUND:"user-not-found"};async function eJ(e,t){return O(e,"POST","/v1/accounts:signInWithPhoneNumber",x(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),eZ)}class eX extends eN{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new eX({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new eX({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return eG(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return eK(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return eJ(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new eX({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class eY{constructor(e){var t,n,r,s,a,o;let l=(0,i.I9)((0,i.hp)(e)),u=null!==(t=l.apiKey)&&void 0!==t?t:null,c=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new eY(t)}catch(e){return null}}}class eQ{constructor(){this.providerId=eQ.PROVIDER_ID}static credential(e,t){return eV._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=eY.parseLink(t);return y(n,"argument-error"),eV._fromEmailAndCode(e,n.code,n.tenantId)}}eQ.PROVIDER_ID="password",eQ.EMAIL_PASSWORD_SIGN_IN_METHOD="password",eQ.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class e0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class e1 extends e0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class e2 extends e1{static credentialFromJSON(e){let t="string"==typeof e?JSON.parse(e):e;return y("providerId"in t&&"signInMethod"in t,"argument-error"),eH._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return y(e.idToken||e.accessToken,"argument-error"),eH._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return e2.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return e2.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:a}=e;if(!n&&!r&&!t&&!i||!a)return null;try{return new e2(a)._credential({idToken:t,accessToken:n,nonce:s,pendingToken:i})}catch(e){return null}}}class e3 extends e1{constructor(){super("facebook.com")}static credential(e){return eH._fromParams({providerId:e3.PROVIDER_ID,signInMethod:e3.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e3.credentialFromTaggedObject(e)}static credentialFromError(e){return e3.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e3.credential(e.oauthAccessToken)}catch(e){return null}}}e3.FACEBOOK_SIGN_IN_METHOD="facebook.com",e3.PROVIDER_ID="facebook.com";class e5 extends e1{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eH._fromParams({providerId:e5.PROVIDER_ID,signInMethod:e5.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return e5.credentialFromTaggedObject(e)}static credentialFromError(e){return e5.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return e5.credential(t,n)}catch(e){return null}}}e5.GOOGLE_SIGN_IN_METHOD="google.com",e5.PROVIDER_ID="google.com";class e6 extends e1{constructor(){super("github.com")}static credential(e){return eH._fromParams({providerId:e6.PROVIDER_ID,signInMethod:e6.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return e6.credentialFromTaggedObject(e)}static credentialFromError(e){return e6.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return e6.credential(e.oauthAccessToken)}catch(e){return null}}}e6.GITHUB_SIGN_IN_METHOD="github.com",e6.PROVIDER_ID="github.com";class e4 extends e1{constructor(){super("twitter.com")}static credential(e,t){return eH._fromParams({providerId:e4.PROVIDER_ID,signInMethod:e4.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return e4.credentialFromTaggedObject(e)}static credentialFromError(e){return e4.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return e4.credential(t,n)}catch(e){return null}}}async function e8(e,t){return O(e,"POST","/v1/accounts:signUp",x(e,t))}e4.TWITTER_SIGN_IN_METHOD="twitter.com",e4.PROVIDER_ID="twitter.com";class e7{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new e7({user:await et._fromIdTokenResponse(e,n,r),providerId:e9(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new e7({user:e,providerId:e9(n),_tokenResponse:n,operationType:t})}}function e9(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function te(e){var t;if((0,r.xZ)(e.app))return Promise.reject(g(e));let n=eS(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new e7({user:n.currentUser,providerId:null,operationType:"signIn"});let i=await e8(n,{returnSecureToken:!0}),s=await e7._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}class tt extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tt(e,t,n,r)}}function tn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw tt._fromErrorAndOperation(e,n,t,r);throw n})}async function tr(e,t,n=!1){let r=await H(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return e7._forOperation(e,"link",r)}async function ti(e,t,n){await K(t),y(new Set(t.providerData.map(({providerId:e})=>e).filter(e=>!!e)).has(n)===e,t.auth,!1===e?"provider-already-linked":"no-such-provider")}async function ts(e,t,n=!1){let{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));let s="reauthenticate";try{let r=await H(e,tn(i,s,t,e),n);y(r.idToken,i,"internal-error");let a=V(r.idToken);y(a,i,"internal-error");let{sub:o}=a;return y(e.uid===o,i,"user-mismatch"),e7._forOperation(e,s,r)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&h(i,"user-mismatch"),e}}async function ta(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));let i="signIn",s=await tn(e,i,t),a=await e7._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function to(e,t){return ta(eS(e),t)}class tl{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tu._fromServerResponse(e,t):"totpInfo"in t?tc._fromServerResponse(e,t):h(e,"internal-error")}}class tu extends tl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tu(t)}}class tc extends tl{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new tc(t)}}class td{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class th extends td{constructor(e,t,n,r){super(e,t,n),this.username=r}}function tp(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function tf(e){return(0,i.Ku)(e).signOut()}class tg{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new tg("enroll",e,t)}static _fromMfaPendingCredential(e){return new tg("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return tg._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return tg._fromIdtoken(e.multiFactorSession.idToken)}return null}}class tm{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){let n=eS(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>tl._fromServerResponse(n,e));y(r.mfaPendingCredential,n,"internal-error");let s=tg._fromMfaPendingCredential(r.mfaPendingCredential);return new tm(s,i,async e=>{let i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;let a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":let o=await e7._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(o.user),o;case"reauthenticate":return y(t.user,n,"internal-error"),e7._forOperation(t.user,t.operationType,a);default:h(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}function tv(e,t){return A(e,"POST","/v2/accounts/mfaEnrollment:start",x(e,t))}class ty{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>tl._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new ty(e)}async getSession(){return tg._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let n=await this.getSession(),r=await H(this.user,e._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{var r;let e=await H(this.user,(r=this.user.auth,A(r,"POST","/v2/accounts/mfaEnrollment:withdraw",x(r,{idToken:n,mfaEnrollmentId:t}))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}new WeakMap;let t_="__sak";class tb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(t_,"1"),this.storage.removeItem(t_),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class tw extends tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=em(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tw.type="LOCAL";class tS extends tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tS.type="SESSION";class tk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new tk(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function tE(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}tk.receivers=[];class tT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=tE("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function tI(){return window}function tC(){return void 0!==tI().WorkerGlobalScope&&"function"==typeof tI().importScripts}async function tx(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}let tA="firebaseLocalStorageDb",tM="firebaseLocalStorage",tO="fbase_key";class tR{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function tP(e,t){return e.transaction([tM],t?"readwrite":"readonly").objectStore(tM)}function tD(){let e=indexedDB.open(tA,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(tM,{keyPath:tO})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(tM)?t(n):(n.close(),await new tR(indexedDB.deleteDatabase(tA)).toPromise(),t(await tD()))})})}async function tN(e,t,n){return new tR(tP(e,!0).put({[tO]:t,value:n})).toPromise()}async function tL(e,t){let n=tP(e,!1).get(t),r=await new tR(n).toPromise();return void 0===r?null:r.value}function tF(e,t){return new tR(tP(e,!0).delete(t)).toPromise()}class tU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await tD()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tk._getInstance(tC()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await tx(),!this.activeServiceWorker)return;this.sender=new tT(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await tD();return await tN(e,t_,"1"),await tF(e,t_),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tN(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>tL(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tF(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new tR(tP(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function tj(e,t){return A(e,"POST","/v2/accounts/mfaSignIn:start",x(e,t))}tU.type="LOCAL",eT("rcb"),new k(3e4,6e4);let tB="recaptcha";async function tz(e,t,n){var r;if(!e._getRecaptchaConfig())try{await eR(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"==typeof t?{phoneNumber:t}:t,"session"in i){let t=i.session;if("phoneNumber"in i){y("enroll"===t.type,e,"internal-error");let r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===ex){y((null==n?void 0:n.type)===tB,e,"argument-error");let r=await t$(e,t,n);return tv(e,r)}return tv(e,t)},a=eO(e,r,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");let s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;y(s,e,"missing-multi-factor-info");let a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===ex){y((null==n?void 0:n.type)===tB,e,"argument-error");let r=await t$(e,t,n);return tj(e,r)}return tj(e,t)},l=eO(e,a,"mfaSmsSignIn",o,"PHONE_PROVIDER");return(await l.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=async(e,t)=>{if(t.captchaResponse===ex){y((null==n?void 0:n.type)===tB,e,"argument-error");let r=await t$(e,t,n);return eq(e,r)}return eq(e,t)},s=eO(e,t,"sendVerificationCode",r,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{null==n||n._reset()}}async function t$(e,t,n){y(n.type===tB,e,"argument-error");let r=await n.verify();y("string"==typeof r,e,"argument-error");let i=Object.assign({},t);if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class tV{constructor(e){this.providerId=tV.PROVIDER_ID,this.auth=eS(e)}verifyPhoneNumber(e,t){return tz(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return eX._fromVerification(e,t)}static credentialFromResult(e){return tV.credentialFromTaggedObject(e)}static credentialFromError(e){return tV.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?eX._fromTokenResponse(t,n):null}}function tW(e,t){return t?er(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tV.PROVIDER_ID="phone",tV.PHONE_SIGN_IN_METHOD="phone";class tH extends eN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eW(e,this._buildIdpRequest())}_linkToIdToken(e,t){return eW(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return eW(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tq(e){return ta(e.auth,new tH(e),e.bypassAuthState)}function tG(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),ts(n,new tH(e),e.bypassAuthState)}async function tK(e){let{auth:t,user:n}=e;return y(n,t,"internal-error"),tr(n,new tH(e),e.bypassAuthState)}class tZ{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tq;case"linkViaPopup":case"linkViaRedirect":return tK;case"reauthViaPopup":case"reauthViaRedirect":return tG;default:h(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||_(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||_(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let tJ=new k(2e3,1e4);async function tX(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(p(e,"operation-not-supported-in-this-environment"));let i=eS(e);m(e,t,e0);let s=tW(i,n);return new tQ(i,"signInViaPopup",t,s).executeNotNull()}async function tY(e,t,n){let r=(0,i.Ku)(e);m(r.auth,t,e0);let s=tW(r.auth,n);return new tQ(r.auth,"linkViaPopup",t,s,r).executeNotNull()}class tQ extends tZ{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,tQ.currentPopupAction&&tQ.currentPopupAction.cancel(),tQ.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||_(t);let n=tE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tQ.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tJ.get())};e()}}tQ.currentPopupAction=null;let t0=new Map;class t1 extends tZ{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=t0.get(this.auth._key());if(!e){try{let t=await t2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}t0.set(this.auth._key(),e)}return this.bypassAuthState||t0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t2(e,t){let n=t4(t),r=t6(e);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}async function t3(e,t){return t6(e)._set(t4(t),"true")}function t5(e,t){t0.set(e._key(),t)}function t6(e){return er(e._redirectPersistence)}function t4(e){return es("pendingRedirect",e.config.apiKey,e.name)}function t8(e,t,n){return t7(e,t,n)}async function t7(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));let i=eS(e);m(e,t,e0),await i._initializationPromise;let s=tW(i,n);return await t3(s,i),s._openRedirect(i,t,"signInViaRedirect")}function t9(e,t,n){return ne(e,t,n)}async function ne(e,t,n){let r=(0,i.Ku)(e);m(r.auth,t,e0),await r.auth._initializationPromise;let s=tW(r.auth,n);await ti(!1,r,t.providerId),await t3(s,r.auth);let a=await nr(r);return s._openRedirect(r.auth,t,"linkViaRedirect",a)}async function nt(e,t){return await eS(e)._initializationPromise,nn(e,t,!1)}async function nn(e,t,n=!1){if((0,r.xZ)(e.app))return Promise.reject(g(e));let i=eS(e),s=tW(i,t),a=new t1(i,s,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function nr(e){let t=tE(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ni{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return na(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!na(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ns(e))}saveEventToCache(e){this.cachedEventUids.add(ns(e)),this.lastProcessedEventTime=Date.now()}}function ns(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function na({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function no(e,t={}){return A(e,"GET","/v1/projects",t)}let nl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nu=/^https?/;async function nc(e){if(e.config.emulator)return;let{authorizedDomains:t}=await no(e);for(let e of t)try{if(function(e){let t=w(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nu.test(n))return!1;if(nl.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}h(e,"unauthorized-domain")}let nd=new k(3e4,6e4);function nh(){let e=tI().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let np=null,nf=new k(5e3,15e3),ng={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function nv(e){let t=await (np=np||new Promise((t,n)=>{var r,i,s,a;function o(){nh(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nh(),n(p(e,"network-request-failed"))},timeout:nd.get()})}if(null===(i=null===(r=tI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=tI().gapi)||void 0===s?void 0:s.load)o();else{let t=eT("iframefcb");return tI()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},(a=`${eE.gapiScript}?onload=${t}`,eE.loadJS(a)).catch(e=>n(e))}}).catch(e=>{throw np=null,e})),n=tI().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;y(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?E(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:r.MF},a=nm.get(e.config.apiHost);a&&(s.eid=a);let o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),`${n}?${(0,i.Am)(s).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ng,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=p(e,"network-request-failed"),s=tI().setTimeout(()=>{r(i)},nf.get());function a(){tI().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}let ny={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let nb=encodeURIComponent("fac");async function nw(e,t,n,s,a,o){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");let l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:a};if(t instanceof e0)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(o||{})))l[n]=r;if(t instanceof e1){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}for(let t of(e.tenantId&&(l.tid=e.tenantId),Object.keys(l)))void 0===l[t]&&delete l[t];let u=await e._getAppCheckToken(),c=u?`#${nb}=${encodeURIComponent(u)}`:"";return`${function({config:e}){return e.emulator?E(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.Am)(l).slice(1)}${c}`}let nS="webStorageSupport";class nk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=nn,this._overrideRedirectResult=t5}async _openPopup(e,t,n,r){var s,a,o;a=null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,o="_initialize() not called before _openPopup()",a||_(o);let l=await nw(e,t,n,w(),r);return function(e,t,n,r=500,s=600){let a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),l="",u=Object.assign(Object.assign({},ny),{width:r.toString(),height:s.toString(),top:a,left:o}),c=(0,i.ZQ)().toLowerCase();n&&(l=ec(c)?"_blank":n),el(c)&&(t=t||"http://localhost",u.scrollbars="yes");let d=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.ZQ)()){var t;return eg(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==l)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new n_(null);let h=window.open(t||"",l,d);y(h,e,"popup-blocked");try{h.focus()}catch(e){}return new n_(h)}(e,l,tE())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await nw(e,t,n,w(),r),tI().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||_(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await nv(e),n=new ni(e);return t.register("authEvent",t=>(y(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nS,{type:nS},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[nS];void 0!==i&&t(!!i),h(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nc(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return em()||eu()||eg()}}class nE{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return _("unexpected MultiFactorSessionType")}}}class nT extends nE{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new nT(e)}_finalizeEnroll(e,t,n){return A(e,"POST","/v2/accounts/mfaEnrollment:finalize",x(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return A(e,"POST","/v2/accounts/mfaSignIn:finalize",x(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class nI{constructor(){}static assertion(e){return nT._fromCredential(e)}}nI.FACTOR_ID="phone";class nC{static assertionForEnrollment(e,t){return nx._fromSecret(e,t)}static assertionForSignIn(e,t){return nx._fromEnrollmentId(e,t)}static async generateSecret(e){var t,n;y(void 0!==(null===(t=e.user)||void 0===t?void 0:t.auth),"internal-error");let r=await A(n=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",x(n,{idToken:e.credential,totpEnrollmentInfo:{}}));return nA._fromStartTotpMfaEnrollmentResponse(r,e.user.auth)}}nC.FACTOR_ID="totp";class nx extends nE{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new nx(t,void 0,e)}static _fromEnrollmentId(e,t){return new nx(t,e)}async _finalizeEnroll(e,t,n){return y(void 0!==this.secret,e,"argument-error"),A(e,"POST","/v2/accounts/mfaEnrollment:finalize",x(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){y(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return A(e,"POST","/v2/accounts/mfaSignIn:finalize",x(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class nA{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new nA(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(nM(e)||nM(t))&&(r=!0),r&&(nM(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),nM(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function nM(e){return void 0===e||(null==e?void 0:e.length)===0}var nO="@firebase/auth",nR="1.8.1";class nP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let nD=(0,i.XA)("authIdTokenMaxAge")||300,nN=null,nL=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>nD)return;let i=null==n?void 0:n.token;nN!==i&&(nN=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nF(e=(0,r.Sx)()){let t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,r.j6)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!=t?t:{}))return e;h(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:nk,persistence:[tU,tw,tS]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(s,location.origin);if(location.origin===e.origin){let t=nL(e.toString());(0,i.Ku)(n).beforeAuthStateChanged(t,()=>t(n.currentUser)),(0,i.Ku)(n).onIdTokenChanged(e=>t(e),void 0,void 0)}}let a=(0,i.Tj)("auth");return a&&function(e,t,n){let r=eS(e);y(r._canInitEmulator,r,"emulator-config-failed"),y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=eP(t),{host:s,port:a}=function(e){let t=eP(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:eD(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:eD(t)}}}(t),o=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${s}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${a}`),n}eE={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document})().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},function(e){(0,r.om)(new o.uA("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;y(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let l=new ew(r,i,s,{apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ev(e)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(er);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new o.uA("auth-internal",e=>new nP(eS(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(nO,nR,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(e)),(0,r.KO)(nO,nR,"esm2017")}("Browser")},6917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTag=void 0,t.ErrorTag={NetworkError:"NetworkError"}},6919:(e,t,n)=>{"use strict";let r;n.d(t,{nd:()=>D,oC:()=>N});var i=n(9589),s=n(565),a=n(7132),o=n(2023),l=n(5004),u=n(8778),c=n(3954),d=n(5955);let h="_dd_s";var p=n(3506),f=n(8410),g=n(4912),m=n(7361);let v=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function y(e,t){let n={isExpired:"1"};return t.trackAnonymousUser&&((null==e?void 0:e.anonymousId)?n.anonymousId=null==e?void 0:e.anonymousId:n.anonymousId=(0,g.C$)()),n}function _(e){return(0,p.RI)(e)}function b(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||(0,a.x3)()-Number(t.created)<m.AQ)&&(void 0===t.expire||(0,a.x3)()<Number(t.expire)))}function w(e){e.expire=String((0,a.x3)()+m.HB)}function S(e){return(0,f.WP)(e).map(([e,t])=>"anonymousId"===e?`aid=${t}`:`${e}=${t}`).join("&")}function k(e){let t={};return e&&(-1!==e.indexOf("&")||v.test(e))&&e.split("&").forEach(e=>{let n=v.exec(e);if(null!==n){let[,e,r]=n;"aid"===e?t.anonymousId=r:t[e]=r}}),t}function E(e){let t=function(e){let t={};return t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains&&(t.domain=(0,d.DQ)()),t}(e);return(0,d.z$)(t)?{type:m.Q_.COOKIE,cookieOptions:t}:void 0}function T(){return k((0,d.Ri)(h))}function I(){try{let e=(0,l.lk)(),t=`_dd_test_${e}`;localStorage.setItem(t,e);let n=localStorage.getItem(t);return localStorage.removeItem(t),e===n?{type:m.Q_.LOCAL_STORAGE}:void 0}catch(e){return}}function C(e){localStorage.setItem(h,S(e))}function x(){return k(localStorage.getItem(h))}let A=[];function M(e,t,n=0){var i;let s;let{isLockEnabled:a,persistSession:o,expireSession:u}=t,c=e=>o({...e,lock:s}),d=()=>{let e=t.retrieveSession(),n=e.lock;return e.lock&&delete e.lock,{session:e,lock:n}};if(r||(r=e),e!==r){A.push(e);return}if(a&&n>=100){R(t);return}let h=d();if(a&&(h.lock||(s=(0,l.lk)(),c(h.session),(h=d()).lock!==s))){O(e,t,n);return}let p=e.process(h.session);if(a&&(h=d()).lock!==s){O(e,t,n);return}if(p&&(b(p)?u(p):(w(p),a?c(p):o(p))),a&&!(p&&b(p))){if((h=d()).lock!==s){O(e,t,n);return}o(h.session),p=h.session}null===(i=e.after)||void 0===i||i.call(e,p||h.session),R(t)}function O(e,t,n){(0,i.wg)(()=>{M(e,t,n+1)},10)}function R(e){r=void 0;let t=A.shift();t&&M(t,e)}let P=a.OY;function D(e){switch(e.sessionPersistence){case m.Q_.COOKIE:return E(e);case m.Q_.LOCAL_STORAGE:return I();case void 0:{let t=E(e);return!t&&e.allowFallbackToLocalStorage&&(t=I()),t}default:u.Vy.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}function N(e,t,n,r){let u;let p=new s.c,f=new s.c,g=new s.c,v=e.type===m.Q_.COOKIE?function(e,t){var n;let r={isLockEnabled:(0,c.F2)(),persistSession:(n=t,e=>{(0,d.TV)(h,S(e),m.HB,n)}),retrieveSession:T,expireSession:n=>(function(e,t,n){let r=y(t,n);(0,d.TV)(h,S(r),n.trackAnonymousUser?m._P:m.AQ,e)})(t,n,e)};return function(e){if(!(0,d.B9)(h)){let t=(0,d.B9)("_dd"),n=(0,d.B9)("_dd_r"),r=(0,d.B9)("_dd_l"),i={};t&&(i.id=t),r&&/^[01]$/.test(r)&&(i.logs=r),n&&/^[012]$/.test(n)&&(i.rum=n),!_(i)&&(w(i),e.persistSession(i))}}(r),r}(t,e.cookieOptions):{isLockEnabled:!1,persistSession:C,retrieveSession:x,expireSession:e=>{C(y(e,t))}},{expireSession:k}=v,E=(0,i.yb)(function(){M({process:e=>b(e)?y(e,t):void 0,after:O},v)},P);R();let{throttled:I,cancel:A}=(0,o.n)(()=>{M({process:e=>{if(_(e))return;let t=O(e);return function(e){if(_(e))return 0;let{trackingType:t,isTracked:i}=r(e[n]);e[n]=t,delete e.isExpired,i&&!e.id&&(e.id=(0,l.lk)(),e.created=String((0,a.x3)()))}(t),t},after:e=>{if(!_(e)&&!D())u=e,p.notify();u=e}},v)},P);function O(e){var r;return b(e)&&(e=y(e,t)),D()&&((r=e,u.id!==r.id||u[n]!==r[n])?(u=y(u,t),f.notify()):(g.notify({previousState:u,newState:e}),u=e)),e}function R(){M({process:e=>{if(_(e))return y(e,t)},after:e=>{u=e}},v)}function D(){return void 0!==u[n]}return{expandOrRenewSession:I,expandSession:function(){M({process:e=>D()?O(e):void 0},v)},getSession:()=>u,renewObservable:p,expireObservable:f,sessionStateUpdateObservable:g,restartSession:R,expire:()=>{A(),k(u),O(y(u,t))},stop:()=>{(0,i.vG)(E)},updateSessionState:function(e){M({process:t=>({...t,...e}),after:O},v)}}}},6924:(e,t,n)=>{"use strict";function r(e){return 0!==e&&100*Math.random()<=e}function i(e,t){return+e.toFixed(t)}function s(e){return a(e)&&e>=0&&e<=100}function a(e){return"number"==typeof e}n.d(t,{Et:()=>a,LI:()=>i,fp:()=>s,ic:()=>r})},6929:(e,t)=>{"use strict";function n(e,t,r=!1){return t?Object.keys(e).filter(e=>r?!t.includes(e):t.includes(e)).reduce((t,n)=>(t[n]=e[n],t),{}):{}}function r(e,t,n,r){let i=r&&Object.keys(r).length>0?new URL(Object.values(r)[0],e):new URL(e);return t&&n&&t.forEach(e=>{n[e]&&i.searchParams.set(e,n[e])}),i.toString()}function i(e,t,n,i,s){var a;if(!t)return`<${e}></${e}>`;let o=(null===(a=t.src)||void 0===a?void 0:a.url)?Object.assign(Object.assign({},t),{src:r(t.src.url,t.src.params,i,s)}):t,l=Object.keys(Object.assign(Object.assign({},o),n)).reduce((e,t)=>{let r=null==n?void 0:n[t],i=o[t],s=null!=r?r:i,a=!0===s?t:`${t}="${s}"`;return s?e+` ${a}`:e},"");return`<${e}${l}></${e}>`}Object.defineProperty(t,"__esModule",{value:!0}),t.formatData=t.createHtml=t.formatUrl=void 0,t.formatUrl=r,t.createHtml=i,t.formatData=function(e,t){var s,a,o,l,u;let c=n(t,null===(s=e.scripts)||void 0===s?void 0:s.reduce((e,t)=>[...e,...Array.isArray(t.params)?t.params:[]],[])),d=n(t,null===(o=null===(a=e.html)||void 0===a?void 0:a.attributes.src)||void 0===o?void 0:o.params),h=n(t,[null===(u=null===(l=e.html)||void 0===l?void 0:l.attributes.src)||void 0===u?void 0:u.slugParam]),p=n(t,[...Object.keys(c),...Object.keys(d),...Object.keys(h)],!0);return Object.assign(Object.assign({},e),{html:e.html?i(e.html.element,e.html.attributes,p,d,h):null,scripts:e.scripts?e.scripts.map(e=>Object.assign(Object.assign({},e),{url:r(e.url,e.params,c)})):null})}},6990:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});class r{constructor(){this.callbacks={}}notify(e,t){let n=this.callbacks[e];n&&n.forEach(e=>e(t))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter(e=>t!==e)}}}}},7060:(e,t,n)=>{"use strict";n.d(t,{f:()=>a,r:()=>s});var r=n(120);let i="_sentrySpan";function s(e,t){t?(0,r.my)(e,i,t):delete e[i]}function a(e){return e[i]}},7064:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(120);function i(e){let t=e._sentryMetrics;if(!t)return;let n={};for(let[,[e,i]]of t)(n[e]||(n[e]=[])).push((0,r.Ce)(i));return n}},7074:(e,t,n)=>{"use strict";n.d(t,{F3:()=>i,N8:()=>a,TJ:()=>s,a3:()=>r});let r=0,i=1,s=2;function a(e,t){e.setAttribute("http.response.status_code",t);let n=function(e){if(e<400&&e>=100)return{code:i};if(e>=400&&e<500)switch(e){case 401:return{code:s,message:"unauthenticated"};case 403:return{code:s,message:"permission_denied"};case 404:return{code:s,message:"not_found"};case 409:return{code:s,message:"already_exists"};case 413:return{code:s,message:"failed_precondition"};case 429:return{code:s,message:"resource_exhausted"};case 499:return{code:s,message:"cancelled"};default:return{code:s,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:s,message:"unimplemented"};case 503:return{code:s,message:"unavailable"};case 504:return{code:s,message:"deadline_exceeded"};default:return{code:s,message:"internal_error"}}return{code:s,message:"unknown_error"}}(t);"unknown_error"!==n.message&&e.setStatus(n)}},7090:(e,t,n)=>{"use strict";function r(e){let t=[],n=h(e,"stack"),r=String(e);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&n.split("\n").forEach(e=>{let n=function(e){let t=a.exec(e);if(!t)return;let n=t[2]&&0===t[2].indexOf("native"),r=t[2]&&0===t[2].indexOf("eval"),i=o.exec(t[2]);return r&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:n?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:n?void 0:t[2]}}(e)||function(e){let t=l.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){let t=u.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){let t=c.exec(e);if(!t)return;let n=t[3]&&t[3].indexOf(" > eval")>-1,r=d.exec(t[3]);return n&&r&&(t[3]=r[1],t[4]=r[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}(e);n&&(!n.func&&n.line&&(n.func="?"),t.push(n))}),{message:h(e,"message"),name:h(e,"name"),stack:t}}n.d(t,{T:()=>r,h:()=>p});let i="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",s="(?::(\\d+))",a=RegExp(`^\\s*at (.*?) ?\\(${i}${s}?${s}?\\)?\\s*$`,"i"),o=RegExp(`\\((\\S*)${s}${s}\\)`),l=RegExp(`^\\s*at ?${i}${s}?${s}??\\s*$`,"i"),u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,c=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,d=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function h(e,t){if("object"!=typeof e||!e||!(t in e))return;let n=e[t];return"string"==typeof n?n:void 0}function p(e,t,n,r){var i;let s,a;let{name:o,message:l}=(i=e,"[object String]"===({}).toString.call(i)&&([,s,a]=f.exec(i)),{name:s,message:a});return{name:o,message:l,stack:[{url:t,column:r,line:n}]}}let f=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/},7132:(e,t,n)=>{"use strict";let r;n.d(t,{$H:()=>l,$S:()=>g,FR:()=>u,Gw:()=>_,M8:()=>m,MA:()=>o,OY:()=>s,Oc:()=>v,TP:()=>d,Zj:()=>h,gs:()=>b,iW:()=>a,jR:()=>c,nx:()=>f,pu:()=>w,vk:()=>y,x3:()=>p});var i=n(6924);let s=1e3,a=6e4,o=36e5,l=31536e6;function u(e){return{relative:e,timeStamp:function(e){var t;let n=p()-performance.now();return n>S()?Math.round(function(e,t){return e+t}(n,e)):(t=e,Math.round(S()+t))}(e)}}function c(e){return{relative:b(e),timeStamp:e}}function d(){var e;return Math.round(p()-(e=S(),e+performance.now()))}function h(e){return(0,i.Et)(e)?(0,i.LI)(1e6*e,0):e}function p(){return new Date().getTime()}function f(){return p()}function g(){return performance.now()}function m(){return{relative:g(),timeStamp:f()}}function v(){return{relative:0,timeStamp:S()}}function y(e,t){return t-e}function _(e,t){return e+t}function b(e){return e-S()}function w(e){return e<l}function S(){return void 0===r&&(r=performance.timing.navigationStart),r}},7211:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let i=n(460),s=n(8536),a=n(5217),o=n(2649),l=n(6202);class u extends i.StatsigClientBase{static instance(e){let t=(0,i._getStatsigGlobal)().instance(e);return t instanceof u?t:(i.Log.warn((0,i._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new u(null!=e?e:"",{}))}constructor(e,t,n=null){var r,o;i.SDKType._setClientType(e,"javascript-client");let u=new a.default(n,e=>{this.$emt(e)});for(let a of(super(e,null!==(r=null==n?void 0:n.dataAdapter)&&void 0!==r?r:new l.StatsigEvaluationsDataAdapter,u,n),this.getFeatureGate=this._memoize(i.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(i.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(i.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(i.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(i.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new s.default(e),this._network=u,this._user=this._configureUser(t,n),null!==(o=null==n?void 0:n.plugins)&&void 0!==o?o:[]))a.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,i.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return r(this,void 0,void 0,function*(){return this._initializePromise||(this._initializePromise=this._initializeAsyncImpl(e)),this._initializePromise})}updateUserSync(e,t){var n;let r=performance.now(),s=[...null!==(n=this._store.getWarnings())&&void 0!==n?n:[]];this._resetForUser(e);let a=this.dataAdapter.getDataSync(this._user);null==a&&s.push("NoCachedValues"),this._store.setValues(a,this._user),this._finalizeUpdate(a);let o=null==t?void 0:t.disableBackgroundCacheRefresh;return!0===o||null==o&&(null==a?void 0:a.source)==="Bootstrap"||this._runPostUpdate(null!=a?a:null,this._user),(0,i.createUpdateDetails)(!0,this._store.getSource(),performance.now()-r,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s)}updateUserAsync(e,t){return r(this,void 0,void 0,function*(){this._resetForUser(e);let n=this._user;i.Diagnostics._markInitOverallStart(this._sdkKey);let r=this.dataAdapter.getDataSync(n);if(this._store.setValues(r,this._user),this._setStatus("Loading",r),r=yield this.dataAdapter.getDataAsync(r,n,t),n!==this._user)return(0,i.createUpdateDetails)(!1,this._store.getSource(),-1,Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=r&&(i.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(r,this._user),i.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(r),s||(this._errorBoundary.attachErrorIfNoneExists(i.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),i.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());let a=i.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,i.createUpdateDetails)(s,this._store.getSource(),a,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:i.StatsigSession.get(this._sdkKey),stableID:i.StableID.get(this._sdkKey)}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,n){this._logger.enqueue(Object.assign(Object.assign({},"string"==typeof e?{eventName:e,value:t,metadata:n}:e),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return r(this,void 0,void 0,function*(){return i.Storage.isReady()||(yield i.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{i.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var n;let r=(0,i._normalizeUser)(e,t),s=null===(n=r.customIDs)||void 0===n?void 0:n.stableID;return s&&i.StableID.setOverride(s,this._sdkKey),r}_getFeatureGateImpl(e,t){var n,r;let{result:s,details:a}=this._store.getGate(e),o=(0,i._makeFeatureGate)(e,a,s),l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getGateOverride)||void 0===r?void 0:r.call(n,o,this._user,t),u=null!=l?l:o;return this._enqueueExposure(e,(0,i._createGateExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:u}),u}_getDynamicConfigImpl(e,t){var n,r;let{result:s,details:a}=this._store.getConfig(e),o=(0,i._makeDynamicConfig)(e,a,s),l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getDynamicConfigOverride)||void 0===r?void 0:r.call(n,o,this._user,t),u=null!=l?l:o;return this._enqueueExposure(e,(0,i._createConfigExposure)(this._user,u,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:u}),u}_getExperimentImpl(e,t){var n,r,s,a;let{result:o,details:l}=this._store.getConfig(e),u=(0,i._makeExperiment)(e,l,o);null!=u.__evaluation&&(u.__evaluation.secondary_exposures=(0,i._mapExposures)(null!==(r=null===(n=u.__evaluation)||void 0===n?void 0:n.secondary_exposures)&&void 0!==r?r:[],this._store.getExposureMapping()));let c=null===(a=null===(s=this.overrideAdapter)||void 0===s?void 0:s.getExperimentOverride)||void 0===a?void 0:a.call(s,u,this._user,t),d=null!=c?c:u;return this._enqueueExposure(e,(0,i._createConfigExposure)(this._user,d,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:d}),d}_getLayerImpl(e,t){var n,r,s;let{result:a,details:o}=this._store.getLayer(e),l=(0,i._makeLayer)(e,o,a),u=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getLayerOverride)||void 0===r?void 0:r.call(n,l,this._user,t);(null==t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);let c=(0,i._mergeOverride)(l,u,null!==(s=null==u?void 0:u.__value)&&void 0!==s?s:l.__value,n=>{(null==t||!t.disableExposureLog)&&this._enqueueExposure(e,(0,i._createLayerParameterExposure)(this._user,c,n,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:c}),c}_getParameterStoreImpl(e,t){var n,r;let{result:i,details:s}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);let a={name:e,details:s,__configuration:i,get:(0,o._makeParamStoreGetter)(this,i,t)},l=null===(r=null===(n=this.overrideAdapter)||void 0===n?void 0:n.getParamStoreOverride)||void 0===r?void 0:r.call(n,a,t);return null!=l&&(a.__configuration=l.config,a.details=l.details,a.get=(0,o._makeParamStoreGetter)(this,l.config,t)),a}}t.default=u},7358:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return l}});let r=n(7178),i=n(6253),s="function"==typeof IntersectionObserver,a=new Map,o=[];function l(e){let{rootRef:t,rootMargin:n,disabled:l}=e,u=l||!s,[c,d]=(0,r.useState)(!1),h=(0,r.useRef)(null),p=(0,r.useCallback)(e=>{h.current=e},[]);return(0,r.useEffect)(()=>{if(s){if(u||c)return;let e=h.current;if(e&&e.tagName)return function(e,t,n){let{id:r,observer:i,elements:s}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},r=o.find(e=>e.root===n.root&&e.margin===n.margin);if(r&&(t=a.get(r)))return t;let i=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:i},o.push(n),a.set(n,t),t}(n);return s.set(e,t),i.observe(e),function(){if(s.delete(e),i.unobserve(e),0===s.size){i.disconnect(),a.delete(r);let e=o.findIndex(e=>e.root===r.root&&e.margin===r.margin);e>-1&&o.splice(e,1)}}}(e,e=>e&&d(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!c){let e=(0,i.requestIdleCallback)(()=>d(!0));return()=>(0,i.cancelIdleCallback)(e)}},[u,n,t,c,h.current]),[p,c,(0,r.useCallback)(()=>{d(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7361:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>i,HB:()=>s,Q_:()=>o,_P:()=>a});var r=n(7132);let i=4*r.MA,s=15*r.iW,a=r.$H,o={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"}},7452:(e,t,n)=>{e.exports=n(6850)},7460:(e,t,n)=>{"use strict";let r;n.d(t,{b:()=>o,e:()=>s});var i=n(846);let s="RP-Web";class a{async init(e,t){r=new i.vq(s,e,!0).getAnalyticsManager();let n=t.getConfig(i.mC.DATADOG_CONFIG);await r.initialize({rudderstackWriteKey:e.rudderstackWriteKey,datadogRumClientToken:e.datadogRumKey,datadogRumAppId:e.datadogRumAppId,datadogEnabled:n.rum_enabled,datadogSampleRate:n.rum_session_sample_rate})}getAnalyticsManager(){return r}}let o=new a},7464:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._createLayerParameterExposure=t._createConfigExposure=t._mapExposures=t._createGateExposure=t._isExposureEvent=void 0;let n="statsig::config_exposure",r="statsig::gate_exposure",i="statsig::layer_exposure",s=(e,t,n,r,i)=>(n.bootstrapMetadata&&(r.bootstrapMetadata=n.bootstrapMetadata),{eventName:e,user:t,value:null,metadata:o(n,r),secondaryExposures:i,time:Date.now()});function a(e,t){return e.map(e=>"string"==typeof e?(null!=t?t:{})[e]:e).filter(e=>null!=e)}t._isExposureEvent=({eventName:e})=>e===r||e===n||e===i,t._createGateExposure=(e,t,n)=>{var i,o,l;let u={gate:t.name,gateValue:String(t.value),ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(u.configVersion=t.__evaluation.version),s(r,e,t.details,u,a(null!==(l=null===(o=t.__evaluation)||void 0===o?void 0:o.secondary_exposures)&&void 0!==l?l:[],n))},t._mapExposures=a,t._createConfigExposure=(e,t,r)=>{var i,o,l,u;let c={config:t.name,ruleID:t.ruleID};return(null===(i=t.__evaluation)||void 0===i?void 0:i.version)!=null&&(c.configVersion=t.__evaluation.version),(null===(o=t.__evaluation)||void 0===o?void 0:o.passed)!=null&&(c.rulePassed=String(t.__evaluation.passed)),s(n,e,t.details,c,a(null!==(u=null===(l=t.__evaluation)||void 0===l?void 0:l.secondary_exposures)&&void 0!==u?u:[],r))},t._createLayerParameterExposure=(e,t,n,r)=>{var o,l,u,c;let d=t.__evaluation,h=(null===(o=null==d?void 0:d.explicit_parameters)||void 0===o?void 0:o.includes(n))===!0,p="",f=null!==(l=null==d?void 0:d.undelegated_secondary_exposures)&&void 0!==l?l:[];h&&(p=null!==(u=d.allocated_experiment_name)&&void 0!==u?u:"",f=d.secondary_exposures);let g={config:t.name,parameterName:n,ruleID:t.ruleID,allocatedExperiment:p,isExplicitParameter:String(h)};return(null===(c=t.__evaluation)||void 0===c?void 0:c.version)!=null&&(g.configVersion=t.__evaluation.version),s(i,e,t.details,g,a(f,r))};let o=(e,t)=>(t.reason=e.reason,e.lcut&&(t.lcut=String(e.lcut)),e.receivedAt&&(t.receivedAt=String(e.receivedAt)),t)},7509:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,S:()=>a});var r=n(581),i=n(8530);function s(){return a(i.O),i.O}function a(e){let t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||r.M,t[r.M]=t[r.M]||{}}},7520:()=>{},7600:(e,t,n)=>{"use strict";n.d(t,{S8:()=>a,cd:()=>function e(t,n=3,r=102400){let i=a(t,n);return~-encodeURI(JSON.stringify(i)).split(/%..|./).length>r?e(t,n-1,r):i}});var r=n(2419),i=n(120),s=n(2402);function a(e,t=100,n=Infinity){try{return function e(t,n,a=Infinity,o=Infinity,l=function(){let e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){let[u,c]=l;if(null==n||["boolean","string"].includes(typeof n)||"number"==typeof n&&Number.isFinite(n))return n;let d=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,r.L2)(t))return"[VueViewModel]";if((0,r.mE)(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${(0,s.qQ)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;let n=function(e){let t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);if(/^HTML(\w*)Element$/.test(n))return`[HTMLElement: ${n}]`;return`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(t,n);if(!d.startsWith("[object "))return d;if(n.__sentry_skip_normalization__)return n;let h="number"==typeof n.__sentry_override_normalization_depth__?n.__sentry_override_normalization_depth__:a;if(0===h)return d.replace("object ","");if(u(n))return"[Circular ~]";if(n&&"function"==typeof n.toJSON)try{let t=n.toJSON();return e("",t,h-1,o,l)}catch(e){}let p=Array.isArray(n)?[]:{},f=0,g=(0,i.W4)(n);for(let t in g){if(!Object.prototype.hasOwnProperty.call(g,t))continue;if(f>=o){p[t]="[MaxProperties ~]";break}let n=g[t];p[t]=e(t,n,h-1,o,l),f++}return c(n),p}("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}},7627:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(7982),i=n(3511),s=n(8453),a=n(565);function o(e){let t={},n=new a.c,o={getContext:()=>(0,r.Go)(t),setContext:r=>{"object"===(0,i.P)(r)?(t=(0,s.a)(r),null==e||e.updateCustomerData(t)):o.clearContext(),n.notify()},setContextProperty:(r,i)=>{t[r]=(0,s.a)(i),null==e||e.updateCustomerData(t),n.notify()},removeContextProperty:r=>{delete t[r],null==e||e.updateCustomerData(t),n.notify()},clearContext:()=>{t={},null==e||e.resetCustomerData(),n.notify()},changeObservable:n};return o}},7664:(e,t,n)=>{"use strict";function r(){var e;let t=window.navigator;return{status:t.onLine?"connected":"not_connected",interfaces:t.connection&&t.connection.type?[t.connection.type]:void 0,effective_type:null===(e=t.connection)||void 0===e?void 0:e.effectiveType}}n.d(t,{q:()=>r})},7818:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeEmbed=void 0;let s=i(n(8864)),a=n(6929);t.YouTubeEmbed=e=>{var t=r(e,[]);return(0,a.formatData)(s.default,t)}},7927:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(9589),i=n(8976),s=n(7132);let a=1/0,o=s.iW;function l({expireDelay:e,maxEntries:t}){let n=[],l=[],u=(0,r.yb)(()=>(function(){let t=(0,s.$S)()-e;for(;n.length>0&&n[n.length-1].endTime<t;){let e=n.pop();e&&l.push(e.startTime)}})(),o);return{add:function(e,r){let s={value:e,startTime:r,endTime:a,remove:()=>{(0,i.A)(n,s)},close:e=>{s.endTime=e}};return t&&n.length>=t&&n.pop(),n.unshift(s),s},find:function(e=a,t={returnInactive:!1}){for(let r of n)if(r.startTime<=e){if(t.returnInactive||e<=r.endTime)return r.value;break}},closeActive:function(e){let t=n[0];t&&t.endTime===a&&t.close(e)},findAll:function(e=a,t=0){let r=(0,s.Gw)(e,t);return n.filter(t=>t.startTime<=r&&e<=t.endTime).map(e=>e.value)},reset:function(){n=[]},stop:function(){(0,r.vG)(u)},getAllEntries:function(){return n.map(({startTime:e,endTime:t,value:n})=>({startTime:e,endTime:t===a?"Infinity":t,value:n}))},getDeletedEntries:function(){return l}}}},7934:(e,t,n)=>{"use strict";let r,i,s,a,o,l,u,c,d,h,p,f,g,m,v,y,_,b,w;function S(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}var k,E,T,I,C=n(8530),x=n(581);function A(e,t,n=[t],r="npm"){let i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:x.M})),version:x.M}),e._metadata=i}var M=n(4694),O=n(432),R=n(5587);let P=[];function D(e,t){for(let n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function N(e,t,n){if(n[t.name]){O.T&&R.vF.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,-1===P.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),P.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){let n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>n(t,r,e))}if("function"==typeof t.processEvent){let n=t.processEvent.bind(t),r=Object.assign((t,r)=>n(t,r,e),{id:t.name});e.addEventProcessor(r)}O.T&&R.vF.log(`Integration installed: ${t.name}`)}var L=n(3399),F=n(1742);let U=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],j=(e={})=>({name:"InboundFilters",processEvent:(t,n,r)=>!function(e,t){var n,r,i;return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(O.T&&R.vF.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,L.$X)(e)}`),!0):(n=e,r=t.ignoreErrors,!n.type&&r&&r.length&&(function(e){let t;let n=[];e.message&&n.push(e.message);try{t=e.exception.values[e.exception.values.length-1]}catch(e){}return t&&t.value&&(n.push(t.value),t.type&&n.push(`${t.type}: ${t.value}`)),n})(n).some(e=>(0,F.Xr)(e,r)))?(O.T&&R.vF.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,L.$X)(e)}`),!0):(i=e).type||!i.exception||!i.exception.values||0===i.exception.values.length||i.message||i.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value)?!function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;let n=e.transaction;return!!n&&(0,F.Xr)(n,t)}(e,t.ignoreTransactions)?!function(e,t){if(!t||!t.length)return!1;let n=B(e);return!!n&&(0,F.Xr)(n,t)}(e,t.denyUrls)?!function(e,t){if(!t||!t.length)return!0;let n=B(e);return!n||(0,F.Xr)(n,t)}(e,t.allowUrls)&&(O.T&&R.vF.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,L.$X)(e)}.
Url: ${B(e)}`),!0):(O.T&&R.vF.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,L.$X)(e)}.
Url: ${B(e)}`),!0):(O.T&&R.vF.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${(0,L.$X)(e)}`),!0):(O.T&&R.vF.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${(0,L.$X)(e)}`),!0)}(t,function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:U],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,r.getOptions()))?t:null});function B(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return O.T&&R.vF.error(`Cannot extract url for event ${(0,L.$X)(e)}`),null}}var z=n(2229),$=n(120);let V=new WeakMap,W=()=>({name:"FunctionToString",setupOnce(){r=Function.prototype.toString;try{Function.prototype.toString=function(...e){let t=(0,$.sp)(this),n=V.has((0,z.KU)())&&void 0!==t?t:this;return r.apply(n,e)}}catch(e){}},setup(e){V.set(e,!0)}});var H=n(2402);let q=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{var n,r;if(n=t,(r=e)&&(function(e,t){let n=e.message,r=t.message;return!!((n||r)&&(!n||r)&&(n||!r)&&n===r&&K(e,t)&&G(e,t))}(n,r)||function(e,t){let n=Z(t),r=Z(e);return!!(n&&r&&n.type===r.type&&n.value===r.value&&K(e,t)&&G(e,t))}(n,r)))return O.T&&R.vF.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function G(e,t){let n=(0,H.RV)(e),r=(0,H.RV)(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||r.length!==n.length)return!1;for(let e=0;e<r.length;e++){let t=r[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function K(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return n.join("")===r.join("")}catch(e){return!1}}function Z(e){return e.exception&&e.exception.values&&e.exception.values[0]}var J=n(8051);let X=C.O;function Y(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}var Q=n(8771),ee=n(9189),et=n(2399),en=n(3379),er=n(9146),ei=n(2584);class es extends Error{constructor(e,t="warn"){super(e),this.message=e,this.logLevel=t}}var ea=n(2419),eo=n(4601),el=n(3908),eu=n(1885),ec=n(9542);let ed="Not capturing exception because it's already been captured.";class eh{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,ei.AD)(e.dsn):O.T&&R.vF.warn("No DSN provided, client will not send events."),this._dsn){let t=function(e,t,n){return t||`${function(e){let t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/?${function(e,t){let n={sentry_version:"7"};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}(e,n)}`}(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}let t=["enableTracing","tracesSampleRate","tracesSampler"].find(t=>t in e&&void 0==e[t]);t&&(0,R.pq)(()=>{console.warn(`[Sentry] Deprecation warning: \`${t}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(e,t,n){let r=(0,L.eJ)();if((0,L.GR)(e))return O.T&&R.vF.log(ed),r;let i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id}captureMessage(e,t,n,r){let i={event_id:(0,L.eJ)(),...n},s=(0,ea.NF)(e)?e:String(e),a=(0,ea.sO)(e)?this.eventFromMessage(s,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,r))),i.event_id}captureEvent(e,t,n){let r=(0,L.eJ)();if(t&&t.originalException&&(0,L.GR)(t.originalException))return O.T&&R.vF.log(ed),r;let i={event_id:r,...t},s=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,s||n)),i.event_id}captureSession(e){"string"!=typeof e.release?O.T&&R.vF.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,ee.qO)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):(0,eo.XW)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(e){return this._integrations[e]}addIntegration(e){let t=this._integrations[e.name];N(this,e,this._integrations),t||D(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=(0,Q.V7)(e,this._dsn,this._options._metadata,this._options.tunnel);for(let e of t.attachments||[])n=(0,en.W3)(n,(0,en.bm)(e));let r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null)}sendSession(e){let t=(0,Q.LE)(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){let r="number"==typeof n?n:1,i=`${e}:${t}`;O.T&&R.vF.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(e,t){let n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{let e=n.indexOf(t);e>-1&&n.splice(e,1)}}emit(e,...t){let n=this._hooks[e];n&&n.forEach(e=>e(...t))}sendEnvelope(e){return(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)?this._transport.send(e).then(null,e=>(O.T&&R.vF.error("Error while sending envelope:",e),e)):(O.T&&R.vF.error("Transport disabled"),(0,eo.XW)({}))}_setupIntegrations(){let{integrations:e}=this._options;this._integrations=function(e,t){let n={};return t.forEach(t=>{t&&N(e,t,n)}),n}(this,e),D(this,e)}_updateSessionFromEvent(e,t){let n="fatal"===t.level,r=!1,i=t.exception&&t.exception.values;if(i)for(let e of(r=!0,i)){let t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}let s="ok"===e.status;(s&&0===e.errors||s&&n)&&((0,ee.qO)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new eo.T2(t=>{let n=0,r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n=(0,z.o5)(),r=(0,z.rm)()){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),(0,eu.mG)(i,e,t,n,this,r).then(e=>(null===e||(e.contexts={trace:(0,z.vn)(n),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:(0,et.ao)(this,n),...e.sdkProcessingMetadata}),e))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{O.T&&(e instanceof es&&"log"===e.logLevel?R.vF.log(e.message):R.vF.warn(e))})}_processEvent(e,t,n){let r=this.getOptions(),{sampleRate:i}=r,s=ef(e),a=ep(e),o=e.type||"error",l=`before send for type \`${o}\``,u=void 0===i?void 0:(0,el.i)(i);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",e),(0,eo.xg)(new es(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));let c="replay_event"===o?"replay":o,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new es("An event processor returned `null`, will not send event.","log");return t.data&&!0===t.data.__sentry__?n:function(e,t){let n=`${t} must return \`null\` or a valid event.`;if((0,ea.Qg)(e))return e.then(e=>{if(!(0,ea.Qd)(e)&&null!==e)throw new es(n);return e},e=>{throw new es(`${t} rejected with ${e}`)});if(!(0,ea.Qd)(e)&&null!==e)throw new es(n);return e}(function(e,t,n,r){let{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:a}=t;if(ep(n)&&i)return i(n,r);if(ef(n)){if(n.spans&&a){let t=[];for(let r of n.spans){let n=a(r);n?t.push(n):((0,ec.xl)(),e.recordDroppedEvent("before_send","span"))}n.spans=t}if(s){if(n.spans){let e=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return s(n,r)}}return n}(this,r,n,t),l)}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",c,e),s){let t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new es(`${l} returned \`null\`, will not send event.`,"log")}let i=n&&n.getSession();if(!s&&i&&this._updateSessionFromEvent(i,r),s){let e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}let a=r.transaction_info;return s&&a&&r.transaction!==e.transaction&&(r.transaction_info={...a,source:"custom"}),this.sendEvent(r,t),r}).then(null,e=>{if(e instanceof es)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new es(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${e}`)})}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e))}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{let[n,r]=e.split(":");return{reason:n,category:r,quantity:t}})}_flushOutcomes(){O.T&&R.vF.log("Flushing outcomes...");let e=this._clearOutcomes();if(0===e.length){O.T&&R.vF.log("No outcomes to send");return}if(!this._dsn){O.T&&R.vF.log("No dsn provided, will not send outcomes");return}O.T&&R.vF.log("Sending outcomes:",e);let t=function(e,t,n){let r=[{type:"client_report"},{timestamp:(0,er.lu)(),discarded_events:e}];return(0,en.h4)(t?{dsn:t}:{},[r])}(e,this._options.tunnel&&(0,ei.SB)(this._dsn));this.sendEnvelope(t)}}function ep(e){return void 0===e.type}function ef(e){return"transaction"===e.type}var eg=n(7600);function em(e,t){let n=ey(e,t),r={type:function(e){let t=e&&e.name;return!t&&eb(e)?e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception":t}(t),value:function(e){let t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:eb(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message"}(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function ev(e,t){return{exception:{values:[em(e,t)]}}}function ey(e,t){var n,r;let i=t.stacktrace||t.stack||"",s=(n=t)&&e_.test(n.message)?1:0,a="number"==typeof(r=t).framesToPop?r.framesToPop:0;try{return e(i,s,a)}catch(e){}return[]}let e_=/Minified React error #\d+;/i;function eb(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception}function ew(e,t,n,r,i){let s;if((0,ea.T2)(t)&&t.error)return ev(e,t.error);if((0,ea.BD)(t)||(0,ea.W6)(t)){if("stack"in t)s=ev(e,t);else{let i=t.name||((0,ea.BD)(t)?"DOMError":"DOMException"),a=t.message?`${i}: ${t.message}`:i;s=eS(e,a,n,r),(0,L.gO)(s,a)}return"code"in t&&(s.tags={...s.tags,"DOMException.code":`${t.code}`}),s}return(0,ea.bJ)(t)?ev(e,t):((0,ea.Qd)(t)||(0,ea.xH)(t)?s=function(e,t,n,r){let i=(0,z.KU)(),s=i&&i.getOptions().normalizeDepth,a=function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){let n=e[t];if(n instanceof Error)return n}}(t),o={__serialized__:(0,eg.cd)(t,s)};if(a)return{exception:{values:[em(e,a)]},extra:o};let l={exception:{values:[{type:(0,ea.xH)(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:function(e,{isUnhandledRejection:t}){let n=(0,$.HF)(e),r=t?"promise rejection":"exception";if((0,ea.T2)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,ea.xH)(e)){let t=function(e){try{let t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e);return`Event \`${t}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}(t,{isUnhandledRejection:r})}]},extra:o};if(n){let t=ey(e,n);t.length&&(l.exception.values[0].stacktrace={frames:t})}return l}(e,t,n,i):(s=eS(e,t,n,r),(0,L.gO)(s,`${t}`,void 0)),(0,L.M6)(s,{synthetic:!0}),s)}function eS(e,t,n,r){let i={};if(r&&n){let r=ey(e,n);r.length&&(i.exception={values:[{value:t,stacktrace:{frames:r}}]}),(0,L.M6)(i,{synthetic:!0})}if((0,ea.NF)(t)){let{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}let ek=C.O,eE=0;function eT(e,t={}){if("function"!=typeof e)return e;try{let t=e.__sentry_wrapped__;if(t){if("function"==typeof t)return t;return e}if((0,$.sp)(e))return e}catch(t){return e}let n=function(...n){try{let r=n.map(e=>eT(e,t));return e.apply(this,r)}catch(e){throw eE++,setTimeout(()=>{eE--}),(0,z.v4)(r=>{r.addEventProcessor(e=>(t.mechanism&&((0,L.gO)(e,void 0,void 0),(0,L.M6)(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),(0,M.Cp)(e)}),e}};try{for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}catch(e){}(0,$.pO)(n,e),(0,$.my)(e,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:()=>e.name})}catch(e){}return n}class eI extends eh{constructor(e){let t={parentSpanIsAlwaysRootSpan:!0,...e};A(t,"browser",["browser"],ek.SENTRY_SDK_SOURCE||"npm"),super(t),t.sendClientReports&&ek.document&&ek.document.addEventListener("visibilitychange",()=>{"hidden"===ek.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return function(e,t,n,r){let i=ew(e,t,n&&n.syntheticException||void 0,r);return(0,L.M6)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,eo.XW)(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,i){let s=eS(e,t,r&&r.syntheticException||void 0,i);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),(0,eo.XW)(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return;let t=function(e,{metadata:t,tunnel:n,dsn:r}){let i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:(0,ei.SB)(r)}},s=[{type:"user_report"},e];return(0,en.h4)(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}}let eC={},ex={};function eA(e,t){eC[e]=eC[e]||[],eC[e].push(t)}function eM(e,t){if(!ex[e]){ex[e]=!0;try{t()}catch(t){J.T&&R.vF.error(`Error while instrumenting ${e}`,t)}}}function eO(e,t){let n=e&&eC[e];if(n)for(let r of n)try{r(t)}catch(t){J.T&&R.vF.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${(0,H.qQ)(r)}
Error:`,t)}}let eR=C.O;function eP(e){eA("dom",e),eM("dom",eD)}function eD(){if(!eR.document)return;let e=eO.bind(null,"dom"),t=eN(e,!0);eR.document.addEventListener("click",t,!1),eR.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{let n=eR[t],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&((0,$.GS)(r,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{let r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){let r=eN(e);s.handler=r,t.call(this,n,r,i)}s.refCount++}catch(e){}return t.call(this,n,r,i)}}),(0,$.GS)(r,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{let n=this.__sentry_instrumentation_handlers__||{},i=n[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete n[t]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}}))})}function eN(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;let r=function(e){try{return e.target}catch(e){return null}}(n);if("keypress"===n.type&&(!r||!r.tagName||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName&&!r.isContentEditable))return;(0,$.my)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,$.my)(r,"_sentryId",(0,L.eJ)());let o="keypress"===n.type?"input":n.type;!function(e){if(e.type!==s)return!1;try{if(!e.target||e.target._sentryId!==a)return!1}catch(e){}return!0}(n)&&(e({event:n,name:o,global:t}),s=n.type,a=r?r._sentryId:void 0),clearTimeout(i),i=eR.setTimeout(()=>{a=void 0,s=void 0},1e3)}}let eL="__sentry_xhr_v3__";function eF(e){eA("xhr",e),eM("xhr",eU)}function eU(){if(!eR.XMLHttpRequest)return;let e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){let r=Error(),i=1e3*(0,er.zf)(),s=(0,ea.Kg)(n[0])?n[0].toUpperCase():void 0,a=function(e){if((0,ea.Kg)(e))return e;try{return e.toString()}catch(e){}}(n[1]);if(!s||!a)return e.apply(t,n);t[eL]={method:s,url:a,request_headers:{}},"POST"===s&&a.match(/sentry_key/)&&(t.__sentry_own_request__=!0);let o=()=>{let e=t[eL];if(e&&4===t.readyState){try{e.status_code=t.status}catch(e){}eO("xhr",{endTimestamp:1e3*(0,er.zf)(),startTimestamp:i,xhr:t,virtualError:r})}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(o(),e.apply(t,n))}):t.addEventListener("readystatechange",o),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){let[r,i]=n,s=t[eL];return s&&(0,ea.Kg)(r)&&(0,ea.Kg)(i)&&(s.request_headers[r.toLowerCase()]=i),e.apply(t,n)}}),e.apply(t,n)}}),e.send=new Proxy(e.send,{apply(e,t,n){let r=t[eL];return r&&(void 0!==n[0]&&(r.body=n[0]),eO("xhr",{startTimestamp:1e3*(0,er.zf)(),xhr:t})),e.apply(t,n)}})}let ej=C.O;function eB(e){let t="history";eA(t,e),eM(t,ez)}function ez(){if(!function(){let e=ej.chrome,t=e&&e.app&&e.app.runtime,n="history"in ej&&!!ej.history.pushState&&!!ej.history.replaceState;return!t&&n}())return;let e=eR.onpopstate;function t(e){return function(...t){let n=t.length>2?t[2]:void 0;if(n){let e=o,t=String(n);o=t,eO("history",{from:e,to:t})}return e.apply(this,t)}}eR.onpopstate=function(...t){let n=eR.location.href,r=o;if(o=n,eO("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},(0,$.GS)(eR.history,"pushState",t),(0,$.GS)(eR.history,"replaceState",t)}function e$(){"console"in C.O&&R.Ow.forEach(function(e){e in C.O.console&&(0,$.GS)(C.O.console,e,function(t){return R.Z9[e]=t,function(...t){eO("console",{args:t,level:e});let n=R.Z9[e];n&&n.apply(C.O.console,t)}})})}function eV(e,t){let n="fetch";eA(n,e),eM(n,()=>eW(void 0,t))}function eW(e,t=!1){(!t||function(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in X))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(Y(X.fetch))return!0;let e=!1,t=X.document;if(t&&"function"==typeof t.createElement)try{let n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Y(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){J.T&&R.vF.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}())&&(0,$.GS)(C.O,"fetch",function(t){return function(...n){let r=Error(),{method:i,url:s}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){let[t,n]=e;return{url:eK(t),method:eG(n,"method")?String(n.method).toUpperCase():"GET"}}let t=e[0];return{url:eK(t),method:eG(t,"method")?String(t.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:i,url:s},startTimestamp:1e3*(0,er.zf)(),virtualError:r};return e||eO("fetch",{...a}),t.apply(C.O,n).then(async t=>(e?e(t):eO("fetch",{...a,endTimestamp:1e3*(0,er.zf)(),response:t}),t),e=>{throw eO("fetch",{...a,endTimestamp:1e3*(0,er.zf)(),error:e}),(0,ea.bJ)(e)&&void 0===e.stack&&(e.stack=r.stack,(0,$.my)(e,"framesToPop",1)),e})}})}async function eH(e,t){if(e&&e.body){let n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},9e4),s=!0;for(;s;){let e;try{e=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);let{done:i}=await r.read();clearTimeout(e),i&&(t(),s=!1)}catch(e){s=!1}finally{clearTimeout(e)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function eq(e){let t;try{t=e.clone()}catch(e){return}eH(t,()=>{eO("fetch-body-resolved",{endTimestamp:1e3*(0,er.zf)(),response:e})})}function eG(e,t){return!!e&&"object"==typeof e&&!!e[t]}function eK(e){return"string"==typeof e?e:e?eG(e,"url")?e.url:e.toString?e.toString():"":""}function eZ(e,t){let n=(0,z.KU)(),r=(0,z.rm)();if(!n)return;let{beforeBreadcrumb:i=null,maxBreadcrumbs:s=100}=n.getOptions();if(s<=0)return;let a={timestamp:(0,er.lu)(),...e},o=i?(0,R.pq)(()=>i(a,t)):a;null!==o&&(n.emit&&n.emit("beforeAddBreadcrumb",o,t),r.addBreadcrumb(o,s))}var eJ=n(2845);function eX(e){if(void 0!==e)return e>=400&&e<500?"warning":e>=500?"error":void 0}function eY(e){if(!e)return{};let t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};let n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}let eQ=(e={})=>{let t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){var n,r,i,s,a,o,l;t.console&&function(e){let t="console";eA(t,e),eM(t,e$)}((n=e,function(e){var t;if((0,z.KU)()!==n)return;let r={category:"console",data:{arguments:e.args,logger:"console"},level:"warn"===(t=e.level)?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log",message:(0,F.gt)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;r.message=`Assertion failed: ${(0,F.gt)(e.args.slice(1)," ")||"console.assert"}`,r.data.arguments=e.args.slice(1)}eZ(r,{input:e.args,level:e.level})})),t.dom&&eP((r=e,i=t.dom,function(e){let t,n;if((0,z.KU)()!==r)return;let s="object"==typeof i?i.serializeAttribute:void 0,a="object"==typeof i&&"number"==typeof i.maxStringLength?i.maxStringLength:void 0;a&&a>1024&&(a=1024),"string"==typeof s&&(s=[s]);try{var o;let r=e.event,i=(o=r)&&o.target?r.target:r;t=(0,eJ.Hd)(i,{keyAttrs:s,maxStringLength:a}),n=(0,eJ.xE)(i)}catch(e){t="<unknown>"}if(0===t.length)return;let l={category:`ui.${e.name}`,message:t};n&&(l.data={"ui.component_name":n}),eZ(l,{event:e.event,name:e.name,global:e.global})})),t.xhr&&eF((s=e,function(e){if((0,z.KU)()!==s)return;let{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[eL];if(!t||!n||!r)return;let{method:i,url:a,status_code:o,body:l}=r,u={xhr:e.xhr,input:l,startTimestamp:t,endTimestamp:n},c=eX(o);eZ({category:"xhr",data:{method:i,url:a,status_code:o},type:"http",level:c},u)})),t.fetch&&eV((a=e,function(e){if((0,z.KU)()!==a)return;let{startTimestamp:t,endTimestamp:n}=e;if(!(!n||e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method)){if(e.error)eZ({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:t,endTimestamp:n});else{let r=e.response,i={...e.fetchData,status_code:r&&r.status},s={input:e.args,response:r,startTimestamp:t,endTimestamp:n},a=eX(i.status_code);eZ({category:"fetch",data:i,type:"http",level:a},s)}}})),t.history&&eB((o=e,function(e){if((0,z.KU)()!==o)return;let t=e.from,n=e.to,r=eY(ek.location.href),i=t?eY(t):void 0,s=eY(n);i&&i.path||(i=r),r.protocol===s.protocol&&r.host===s.host&&(n=s.relative),r.protocol===i.protocol&&r.host===i.host&&(t=i.relative),eZ({category:"navigation",data:{from:t,to:n}})})),t.sentry&&e.on("beforeSendEvent",(l=e,function(e){(0,z.KU)()===l&&eZ({category:`sentry.${"transaction"===e.type?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:(0,L.$X)(e)},{event:e})}))}}},e0=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],e1=(e={})=>{let t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&(0,$.GS)(ek,"setTimeout",e2),t.setInterval&&(0,$.GS)(ek,"setInterval",e2),t.requestAnimationFrame&&(0,$.GS)(ek,"requestAnimationFrame",e3),t.XMLHttpRequest&&"XMLHttpRequest"in ek&&(0,$.GS)(XMLHttpRequest.prototype,"send",e5);let e=t.eventTarget;e&&(Array.isArray(e)?e:e0).forEach(e6)}}};function e2(e){return function(...t){let n=t[0];return t[0]=eT(n,{mechanism:{data:{function:(0,H.qQ)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function e3(e){return function(t){return e.apply(this,[eT(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,H.qQ)(e)},handled:!1,type:"instrument"}})])}}function e5(e){return function(...t){let n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&(0,$.GS)(n,e,function(t){let n={mechanism:{data:{function:e,handler:(0,H.qQ)(t)},handled:!1,type:"instrument"}},r=(0,$.sp)(t);return r&&(n.mechanism.data.handler=(0,H.qQ)(r)),eT(t,n)})}),e.apply(this,t)}}function e6(e){let t=ek[e],n=t&&t.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,$.GS)(n,"addEventListener",function(t){return function(n,r,i){try{var s;s=r,"function"==typeof s.handleEvent&&(r.handleEvent=eT(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,H.qQ)(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,eT(r,{mechanism:{data:{function:"addEventListener",handler:(0,H.qQ)(r),target:e},handled:!1,type:"instrument"}}),i])}}),(0,$.GS)(n,"removeEventListener",function(e){return function(t,n,r){try{let i=n.__sentry_wrapped__;i&&e.call(this,t,i,r)}catch(e){}return e.call(this,t,n,r)}}))}let e4=()=>({name:"BrowserSession",setupOnce(){void 0!==ek.document&&((0,M.J0)({ignoreDuration:!0}),(0,M.J5)(),eB(({from:e,to:t})=>{void 0!==e&&e!==t&&((0,M.J0)({ignoreDuration:!0}),(0,M.J5)())}))}}),e8=null;function e7(e){let t="error";eA(t,e),eM(t,e9)}function e9(){e8=C.O.onerror,C.O.onerror=function(e,t,n,r,i){return eO("error",{column:r,error:i,line:n,msg:e,url:t}),!!e8&&e8.apply(this,arguments)},C.O.onerror.__SENTRY_INSTRUMENTED__=!0}let te=null;function tt(e){let t="unhandledrejection";eA(t,e),eM(t,tn)}function tn(){te=C.O.onunhandledrejection,C.O.onunhandledrejection=function(e){return eO("unhandledrejection",e),!te||te.apply(this,arguments)},C.O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}let tr=(e={})=>{let t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(e){var n,r;t.onerror&&(n=e,e7(e=>{let{stackParser:t,attachStacktrace:r}=ts();if((0,z.KU)()!==n||eE>0)return;let{msg:i,url:s,line:a,column:o,error:l}=e,u=function(e,t,n,r){let i=e.exception=e.exception||{},s=i.values=i.values||[],a=s[0]=s[0]||{},o=a.stacktrace=a.stacktrace||{},l=o.frames=o.frames||[],u=(0,ea.Kg)(t)&&t.length>0?t:(0,eJ.$N)();return 0===l.length&&l.push({colno:r,filename:u,function:H.yF,in_app:!0,lineno:n}),e}(ew(t,l||i,void 0,r,!1),s,a,o);u.level="error",(0,M.r)(u,{originalException:l,mechanism:{handled:!1,type:"onerror"}})})),t.onunhandledrejection&&(r=e,tt(e=>{var t;let{stackParser:n,attachStacktrace:i}=ts();if((0,z.KU)()!==r||eE>0)return;let s=function(e){if((0,ea.sO)(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch(e){}return e}(e),a=(0,ea.sO)(s)?(t=s,{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}):ew(n,s,void 0,i,!0);a.level="error",(0,M.r)(a,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}}};function ti(e){}function ts(){let e=(0,z.KU)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}let ta=()=>({name:"HttpContext",preprocessEvent(e){if(!ek.navigator&&!ek.location&&!ek.document)return;let t=e.request&&e.request.url||ek.location&&ek.location.href,{referrer:n}=ek.document||{},{userAgent:r}=ek.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});function to(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function tl(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}let tu=(e={})=>{let t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){let s=i.getOptions();!function(e,t,n=250,r,i,s,a){var o,l;if(!s.exception||!s.exception.values||!a||!(0,ea.tH)(a.originalException,Error))return;let u=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;u&&(s.exception.values=(o=function e(t,n,r,i,s,a,o,l){if(a.length>=r+1)return a;let u=[...a];if((0,ea.tH)(i[s],Error)){to(o,l);let a=t(n,i[s]),c=u.length;tl(a,s,c,l),u=e(t,n,r,i[s],s,[a,...u],a,c)}return Array.isArray(i.errors)&&i.errors.forEach((i,a)=>{if((0,ea.tH)(i,Error)){to(o,l);let c=t(n,i),d=u.length;tl(c,`errors[${a}]`,d,l),u=e(t,n,r,i,s,[c,...u],c,d)}}),u}(e,t,i,a.originalException,r,s.exception.values,u,0),l=n,o.map(e=>(e.value&&(e.value=(0,F.xv)(e.value,l)),e))))}(em,s.stackParser,s.maxValueLength,n,t,e,r)}}};function tc(e,t,n,r){let i={filename:e,function:"<anonymous>"===t?H.yF:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}let td=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,th=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,tp=/\((\S*)(?::(\d+))(?::(\d+))\)/,tf=[30,e=>{let t=td.exec(e);if(t){let[,e,n,r]=t;return tc(e,H.yF,+n,+r)}let n=th.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){let e=tp.exec(n[2]);e&&(n[2]=e[1],n[3]=e[2],n[4]=e[3])}let[e,t]=t_(n[1]||H.yF,n[2]);return tc(t,e,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],tg=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tm=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,tv=[50,e=>{let t=tg.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){let e=tm.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||H.yF;return[n,e]=t_(n,e),tc(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],ty=(0,H.gd)(tf,tv),t_=(e,t)=>{let n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:H.yF,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tb={};function tw(e){let t=tb[e];if(t)return t;let n=eR[e];if(Y(n))return tb[e]=n.bind(eR);let r=eR.document;if(r&&"function"==typeof r.createElement)try{let t=r.createElement("iframe");t.hidden=!0,r.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(n=i[e]),r.head.removeChild(t)}catch(e){}return n?tb[e]=n.bind(eR):n}function tS(...e){return tw("setTimeout")(...e)}function tk(e,t,n=Date.now()){return(e[t]||e.all||0)>n}function tE(e,{statusCode:t,headers:n},r=Date.now()){let i={...e},s=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(s)for(let e of s.trim().split(",")){let[t,n,,,s]=e.split(":",5),a=parseInt(t,10),o=(isNaN(a)?60:a)*1e3;if(n)for(let e of n.split(";"))"metric_bucket"===e?(!s||s.split(";").includes("custom"))&&(i[e]=r+o):i[e]=r+o;else i.all=r+o}else a?i.all=r+function(e,t=Date.now()){let n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;let r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(a,r):429===t&&(i.all=r+6e4);return i}function tT(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function tI(e,t=tw("fetch")){let n=0,r=0;return function(e,t,n=function(e){let t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return(0,eo.xg)(new es("Not adding Promise because buffer limit was reached."));let i=r();return -1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i},drain:function(e){return new eo.T2((n,r)=>{let i=t.length;if(!i)return n(!0);let s=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,eo.XW)(e).then(()=>{--i||(clearTimeout(s),n(!0))},r)})})}}}(e.bufferSize||64)){let r={};return{send:function(i){let s=[];if((0,en.yH)(i,(t,n)=>{let i=(0,en.zk)(n);if(tk(r,i)){let r=tT(t,n);e.recordDroppedEvent("ratelimit_backoff",i,r)}else s.push(t)}),0===s.length)return(0,eo.XW)({});let a=(0,en.h4)(i[0],s),o=t=>{(0,en.yH)(a,(n,r)=>{let i=tT(n,r);e.recordDroppedEvent(t,(0,en.zk)(r),i)})};return n.add(()=>t({body:(0,en.bN)(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&O.T&&R.vF.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=tE(r,e),e),e=>{throw o("network_error"),e})).then(e=>e,e=>{if(e instanceof es)return O.T&&R.vF.error("Skipped sending event because buffer is full."),o("queue_overflow"),(0,eo.XW)({});throw e})},flush:e=>n.drain(e)}}(e,function(i){let s=i.body.length;n+=s,r++;let a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return tb.fetch=void 0,(0,eo.xg)("No fetch implementation available");try{return t(e.url,a).then(e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))}catch(e){return tb.fetch=void 0,n-=s,r--,(0,eo.xg)(e)}})}function tC(e){let t=[j(),W(),e1(),eQ(),tr(),tu(),q(),ta()];return!1!==e.autoSessionTracking&&t.push(e4()),t}var tx=n(7178),tA=n(6604),tM=n(5838),tO=n(5071);let tR=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",tP=(e,t,n,r)=>{let i,s;return a=>{t.value>=0&&(a||r)&&((s=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=s,t.rating=tR(t.value,n),e(t))}},tD=()=>`v4-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,tN=(e=!0)=>{let t=eR.performance&&eR.performance.getEntriesByType&&eR.performance.getEntriesByType("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},tL=()=>{let e=tN();return e&&e.activationStart||0},tF=(e,t)=>{let n=tN(),r="navigate";return n&&(eR.document&&eR.document.prerendering||tL()>0?r="prerender":eR.document&&eR.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:tD(),navigationType:r}},tU=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){let r=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},tj=e=>{let t=t=>{("pagehide"===t.type||eR.document&&"hidden"===eR.document.visibilityState)&&e(t)};eR.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},tB=e=>{let t=!1;return()=>{t||(e(),t=!0)}},tz=-1,t$=()=>"hidden"!==eR.document.visibilityState||eR.document.prerendering?1/0:0,tV=e=>{"hidden"===eR.document.visibilityState&&tz>-1&&(tz="visibilitychange"===e.type?e.timeStamp:0,tH())},tW=()=>{addEventListener("visibilitychange",tV,!0),addEventListener("prerenderingchange",tV,!0)},tH=()=>{removeEventListener("visibilitychange",tV,!0),removeEventListener("prerenderingchange",tV,!0)},tq=()=>(eR.document&&tz<0&&(tz=t$(),tW()),{get firstHiddenTime(){return tz}}),tG=e=>{eR.document&&eR.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},tK=[1800,3e3],tZ=(e,t={})=>{tG(()=>{let n;let r=tq(),i=tF("FCP"),s=tU("paint",e=>{e.forEach(e=>{"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-tL(),0),i.entries.push(e),n(!0)))})});s&&(n=tP(e,i,tK,t.reportAllChanges))})},tJ=[.1,.25],tX=(e,t={})=>{tZ(tB(()=>{let n;let r=tF("CLS",0),i=0,s=[],a=e=>{e.forEach(e=>{if(!e.hadRecentInput){let t=s[0],n=s[s.length-1];i&&t&&n&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,s.push(e)):(i=e.value,s=[e])}}),i>r.value&&(r.value=i,r.entries=s,n())},o=tU("layout-shift",a);o&&(n=tP(e,r,tJ,t.reportAllChanges),tj(()=>{a(o.takeRecords()),n(!0)}),setTimeout(n,0))}))},tY=[100,300],tQ=(e,t={})=>{tG(()=>{let n;let r=tq(),i=tF("FID"),s=e=>{e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),n(!0))},a=e=>{e.forEach(s)},o=tU("first-input",a);n=tP(e,i,tY,t.reportAllChanges),o&&tj(tB(()=>{a(o.takeRecords()),o.disconnect()}))})},t0=0,t1=1/0,t2=0,t3=e=>{e.forEach(e=>{e.interactionId&&(t1=Math.min(t1,e.interactionId),t0=(t2=Math.max(t2,e.interactionId))?(t2-t1)/7+1:0)})},t5=()=>l?t0:performance.interactionCount||0,t6=()=>{"interactionCount"in performance||l||(l=tU("event",t3,{type:"event",buffered:!0,durationThreshold:0}))},t4=[],t8=new Map,t7=()=>t5()-0,t9=()=>{let e=Math.min(t4.length-1,Math.floor(t7()/50));return t4[e]},ne=[],nt=e=>{if(ne.forEach(t=>t(e)),!(e.interactionId||"first-input"===e.entryType))return;let t=t4[t4.length-1],n=t8.get(e.interactionId);if(n||t4.length<10||t&&e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===(n.entries[0]&&n.entries[0].startTime)&&n.entries.push(e);else{let t={id:e.interactionId,latency:e.duration,entries:[e]};t8.set(t.id,t),t4.push(t)}t4.sort((e,t)=>t.latency-e.latency),t4.length>10&&t4.splice(10).forEach(e=>t8.delete(e.id))}},nn=e=>{let t=eR.requestIdleCallback||eR.setTimeout,n=-1;return e=tB(e),eR.document&&"hidden"===eR.document.visibilityState?e():(n=t(e),tj(e)),n},nr=[200,500],ni=(e,t={})=>{"PerformanceEventTiming"in eR&&"interactionId"in PerformanceEventTiming.prototype&&tG(()=>{let n;t6();let r=tF("INP"),i=e=>{nn(()=>{e.forEach(nt);let t=t9();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,n())})},s=tU("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});n=tP(e,r,nr,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),tj(()=>{i(s.takeRecords()),n(!0)}))})},ns=[2500,4e3],na={},no=(e,t={})=>{tG(()=>{let n;let r=tq(),i=tF("LCP"),s=e=>{t.reportAllChanges||(e=e.slice(-1)),e.forEach(e=>{e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-tL(),0),i.entries=[e],n())})},a=tU("largest-contentful-paint",s);if(a){n=tP(e,i,ns,t.reportAllChanges);let r=tB(()=>{na[i.id]||(s(a.takeRecords()),a.disconnect(),na[i.id]=!0,n(!0))});["keydown","click"].forEach(e=>{eR.document&&addEventListener(e,()=>nn(r),{once:!0,capture:!0})}),tj(r)}})},nl=[800,1800],nu=e=>{eR.document&&eR.document.prerendering?tG(()=>nu(e)):eR.document&&"complete"!==eR.document.readyState?addEventListener("load",()=>nu(e),!0):setTimeout(e,0)},nc=(e,t={})=>{let n=tF("TTFB"),r=tP(e,n,nl,t.reportAllChanges);nu(()=>{let e=tN();e&&(n.value=Math.max(e.responseStart-tL(),0),n.entries=[e],r(!0))})},nd={},nh={};function np(e,t=!1){return nE("cls",e,n_,u,t)}function nf(e,t=!1){return nE("lcp",e,nw,d,t)}function ng(e){return nE("fid",e,nb,c)}function nm(e){return nE("inp",e,nk,p)}function nv(e,t){return nT(e,t),nh[e]||(function(e){let t={};"event"===e&&(t.durationThreshold=0),tU(e,t=>{ny(e,{entries:t})},t)}(e),nh[e]=!0),nI(e,t)}function ny(e,t){let n=nd[e];if(n&&n.length)for(let e of n)try{e(t)}catch(e){}}function n_(){return tX(e=>{ny("cls",{metric:e}),u=e},{reportAllChanges:!0})}function nb(){return tQ(e=>{ny("fid",{metric:e}),c=e})}function nw(){return no(e=>{ny("lcp",{metric:e}),d=e},{reportAllChanges:!0})}function nS(){return nc(e=>{ny("ttfb",{metric:e}),h=e})}function nk(){return ni(e=>{ny("inp",{metric:e}),p=e})}function nE(e,t,n,r,i=!1){let s;return nT(e,t),nh[e]||(s=n(),nh[e]=!0),r&&t({metric:r}),nI(e,t,i?s:void 0)}function nT(e,t){nd[e]=nd[e]||[],nd[e].push(t)}function nI(e,t,n){return()=>{n&&n();let r=nd[e];if(!r)return;let i=r.indexOf(t);-1!==i&&r.splice(i,1)}}var nC=n(5340);function nx(e){return"number"==typeof e&&isFinite(e)}function nA(e,t,n,{...r}){let i=(0,ec.et)(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),(0,nC.hb)(e,()=>{let e=(0,nC.Uk)({startTime:t,...r});return e&&e.end(n),e})}function nM(e){let t;let n=(0,z.KU)();if(!n)return;let{name:r,transaction:i,attributes:s,startTime:a}=e,{release:o,environment:l}=n.getOptions(),u=n.getIntegrationByName("Replay"),c=u&&u.getReplayId(),d=(0,z.o5)(),h=d.getUser(),p=void 0!==h?h.email||h.id||h.ip_address:void 0;try{t=d.getScopeData().contexts.profile.profile_id}catch(e){}let f={release:o,environment:l,user:p||void 0,profile_id:t||void 0,replay_id:c||void 0,transaction:i,"user_agent.original":eR.navigator&&eR.navigator.userAgent,...s};return(0,nC.Uk)({name:r,attributes:f,startTime:a,experimental:{standalone:!0}})}function nO(){return eR&&eR.addEventListener&&eR.performance}function nR(e){return e/1e3}function nP(e){let t="unknown",n="unknown",r="";for(let i of e){if("/"===i){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}let nD=0,nN={};function nL(e,t,n,r,i=n){var s;let a=t["secureConnection"===(s=n)?"connectEnd":"fetch"===s?"domainLookupStart":`${s}End`],o=t[`${n}Start`];o&&a&&nA(e,r+nR(o),r+nR(a),{op:`browser.${i}`,name:t.name,attributes:{[tM.JD]:"auto.ui.browser.metrics"}})}function nF(e,t,n,r){let i=t[n];null!=i&&i<0x7fffffff&&(e[r]=i)}let nU=[],nj=new Map,nB={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};var nz=n(4724),n$=n(7060),nV=n(7993),nW=n(7074);let nH={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3};function nq(e,t={}){let n;let r=new Map,i=!1,s="externalFinish",a=!t.disableAutoFinish,o=[],{idleTimeout:l=nH.idleTimeout,finalTimeout:u=nH.finalTimeout,childSpanTimeout:c=nH.childSpanTimeout,beforeSpanEnd:d}=t,h=(0,z.KU)();if(!h||!(0,nz.w)())return new nV.w;let p=(0,z.o5)(),f=(0,ec.Bk)(),g=function(e){let t=(0,nC.Uk)(e);return(0,n$.r)((0,z.o5)(),t),O.T&&R.vF.log("[Tracing] Started span is an idle span"),t}(e);function m(){n&&(clearTimeout(n),n=void 0)}function v(e){m(),n=setTimeout(()=>{!i&&0===r.size&&a&&(s="idleTimeout",g.end(e))},l)}function y(e){n=setTimeout(()=>{!i&&a&&(s="heartbeatFailed",g.end(e))},c)}function _(e){i=!0,r.clear(),o.forEach(e=>e()),(0,n$.r)(p,f);let t=(0,ec.et)(g),{start_timestamp:n}=t;if(!n)return;(t.data||{})[tM.fs]||g.setAttribute(tM.fs,s),R.vF.log(`[Tracing] Idle span "${t.op}" finished`);let a=(0,ec.xO)(g).filter(e=>e!==g),c=0;a.forEach(t=>{t.isRecording()&&(t.setStatus({code:nW.TJ,message:"cancelled"}),t.end(e),O.T&&R.vF.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));let{timestamp:n=0,start_timestamp:r=0}=(0,ec.et)(t),i=r<=e,s=n-r<=(u+l)/1e3;if(O.T){let e=JSON.stringify(t,void 0,2);i?s||R.vF.log("[Tracing] Discarding span since it finished after idle span final timeout",e):R.vF.log("[Tracing] Discarding span since it happened after idle span was finished",e)}(!s||!i)&&((0,ec.VS)(g,t),c++)}),c>0&&g.setAttribute("sentry.idle_span_discarded_spans",c)}return g.end=new Proxy(g.end,{apply(e,t,n){d&&d(g);let[r,...i]=n,s=r||(0,er.zf)(),a=(0,ec.cI)(s),o=(0,ec.xO)(g).filter(e=>e!==g);if(!o.length)return _(a),Reflect.apply(e,t,[a,...i]);let l=o.map(e=>(0,ec.et)(e).timestamp).filter(e=>!!e),c=l.length?Math.max(...l):void 0,h=(0,ec.et)(g).start_timestamp,p=Math.min(h?h+u/1e3:1/0,Math.max(h||-1/0,Math.min(a,c||1/0)));return _(p),Reflect.apply(e,t,[p,...i])}}),o.push(h.on("spanStart",e=>{if(!i&&e!==g&&!(0,ec.et)(e).timestamp&&(0,ec.xO)(g).includes(e)){var t;t=e.spanContext().spanId,m(),r.set(t,!0),y((0,er.zf)()+c/1e3)}})),o.push(h.on("spanEnd",e=>{var t;!i&&(t=e.spanContext().spanId,r.has(t)&&r.delete(t),0===r.size&&v((0,er.zf)()+l/1e3))})),o.push(h.on("idleSpanEnableAutoFinish",e=>{e===g&&(a=!0,v(),r.size&&y())})),t.disableAutoFinish||v(),setTimeout(()=>{i||(g.setStatus({code:nW.TJ,message:"deadline_exceeded"}),s="finalTimeout",g.end())},u),g}let nG=!1;function nK(){let e=(0,ec.Bk)(),t=e&&(0,ec.zU)(e);if(t){let e="internal_error";O.T&&R.vF.log(`[Tracing] Root span: ${e} -> Global error occurred`),t.setStatus({code:nW.TJ,message:e})}}nK.tag="sentry_tracingErrorCallback";var nZ=n(4007),nJ=n(2670),nX=n(9915),nY=n(4788),nQ=n(7509);function n0(e={}){let t=(0,z.KU)();if(!(0,M.Ol)()||!t)return{};let n=(0,nQ.E)(),r=(0,nY.h)(n);if(r.getTraceData)return r.getTraceData(e);let i=(0,z.o5)(),s=e.span||(0,ec.Bk)(),a=s?(0,ec.Qh)(s):function(e){let{traceId:t,sampled:n,spanId:r}=e.getPropagationContext();return(0,nZ.TC)(t,r,n)}(i),o=s?(0,et.k1)(s):(0,et.ao)(t,i),l=(0,nX.De)(o);return nZ.MI.test(a)?{"sentry-trace":a,baggage:l}:(R.vF.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function n1(e){return e.split(",").filter(e=>!e.split("=")[0].startsWith(nX.sv)).join(",")}let n2=new WeakMap,n3=new Map,n5={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function n6(e){let{url:t}=(0,ec.et)(e).data||{};if(!t||"string"!=typeof t)return;let n=nv("resource",({entries:r})=>{r.forEach(r=>{"resource"===r.entryType&&"initiatorType"in r&&"string"==typeof r.nextHopProtocol&&("fetch"===r.initiatorType||"xmlhttprequest"===r.initiatorType)&&r.name.endsWith(t)&&((function(e){let{name:t,version:n}=nP(e.nextHopProtocol),r=[];return(r.push(["network.protocol.version",n],["network.protocol.name",t]),er.k3)?[...r,["http.request.redirect_start",n4(e.redirectStart)],["http.request.fetch_start",n4(e.fetchStart)],["http.request.domain_lookup_start",n4(e.domainLookupStart)],["http.request.domain_lookup_end",n4(e.domainLookupEnd)],["http.request.connect_start",n4(e.connectStart)],["http.request.secure_connection_start",n4(e.secureConnectionStart)],["http.request.connection_end",n4(e.connectEnd)],["http.request.request_start",n4(e.requestStart)],["http.request.response_start",n4(e.responseStart)],["http.request.response_end",n4(e.responseEnd)]]:r})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n))})})}function n4(e=0){return((er.k3||performance.timeOrigin)+e)/1e3}function n8(e){try{return new URL(e,ek.location.origin).href}catch(e){return}}let n7={...nH,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...n5},n9=(e={})=>{nG||(nG=!0,e7(nK),tt(nK));let{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:s},beforeStartSpan:a,idleTimeout:o,finalTimeout:l,childSpanTimeout:u,markBackgroundSpan:c,traceFetch:d,traceXHR:p,trackFetchStreamPerformance:m,shouldCreateSpanForRequest:v,enableHTTPTimings:y,instrumentPageLoad:_,instrumentNavigation:b}={...n7,...e},w=function({recordClsStandaloneSpans:e}){let t=nO();if(t&&er.k3){t.mark&&eR.performance.mark("sentry-tracing-init");let n=ng(({metric:e})=>{let t=e.entries[e.entries.length-1];if(!t)return;let n=nR(er.k3),r=nR(t.startTime);nN.fid={value:e.value,unit:"millisecond"},nN["mark.fid"]={value:n+r,unit:"second"}}),r=nf(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(nN.lcp={value:e.value,unit:"millisecond"},f=t)},!0),i=nE("ttfb",({metric:e})=>{e.entries[e.entries.length-1]&&(nN.ttfb={value:e.value,unit:"millisecond"})},nS,h),s=e?function(){let e,t,n=0;if(!function(){try{return PerformanceObserver.supportedEntryTypes.includes("layout-shift")}catch(e){return!1}}())return;let r=!1;function i(){!r&&(r=!0,t&&function(e,t,n){let r=nR((er.k3||0)+(t&&t.startTime||0)),i=(0,z.o5)().getScopeData().transactionName,s=nM({name:t?(0,eJ.Hd)(t.sources[0]&&t.sources[0].node):"Layout shift",transaction:i,attributes:(0,$.Ce)({[tM.JD]:"auto.http.browser.cls",[tM.uT]:"ui.webvital.cls",[tM.jG]:t&&t.duration||0,"sentry.pageload.span_id":n}),startTime:r});s&&(s.addEvent("cls",{[tM.Sn]:"",[tM.xc]:e}),s.end(r))}(n,e,t),s())}let s=np(({metric:t})=>{let r=t.entries[t.entries.length-1];r&&(n=t.value,e=r)},!0);tj(()=>{i()}),setTimeout(()=>{let e=(0,z.KU)();if(!e)return;let n=e.on("startNavigationSpan",()=>{i(),n&&n()}),r=(0,ec.Bk)(),s=r&&(0,ec.zU)(r),a=s&&(0,ec.et)(s);a&&"pageload"===a.op&&(t=s.spanContext().spanId)},0)}():np(({metric:e})=>{let t=e.entries[e.entries.length-1];t&&(nN.cls={value:e.value,unit:""},g=t)},!0);return()=>{n(),r(),i(),s&&s()}}return()=>void 0}({recordClsStandaloneSpans:s||!1});t&&function(){if(nO()&&er.k3){let e=nm(({metric:e})=>{if(void 0==e.value)return;let t=e.entries.find(t=>t.duration===e.value&&nB[t.name]);if(!t)return;let{interactionId:n}=t,r=nB[t.name],i=nR(er.k3+t.startTime),s=nR(e.value),a=(0,ec.Bk)(),o=a?(0,ec.zU)(a):void 0,l=(null!=n?nj.get(n):void 0)||o,u=l?(0,ec.et)(l).description:(0,z.o5)().getScopeData().transactionName,c=nM({name:(0,eJ.Hd)(t.target),transaction:u,attributes:(0,$.Ce)({[tM.JD]:"auto.http.browser.inp",[tM.uT]:`ui.interaction.${r}`,[tM.jG]:t.duration}),startTime:i});c&&(c.addEvent("inp",{[tM.Sn]:"millisecond",[tM.xc]:e.value}),c.end(i+s))});()=>{e()}}}(),r&&C.O.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?new PerformanceObserver(e=>{let t=(0,ec.Bk)();if(t)for(let n of e.getEntries()){if(!n.scripts[0])continue;let e=nR(er.k3+n.startTime),{start_timestamp:r,op:i}=(0,ec.et)(t);if("navigation"===i&&r&&e<r)continue;let s=nR(n.duration),a={[tM.JD]:"auto.ui.browser.metrics"},{invoker:o,invokerType:l,sourceURL:u,sourceFunctionName:c,sourceCharPosition:d}=n.scripts[0];a["browser.script.invoker"]=o,a["browser.script.invoker_type"]=l,u&&(a["code.filepath"]=u),c&&(a["code.function"]=c),-1!==d&&(a["browser.script.source_char_position"]=d),nA(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:a})}}).observe({type:"long-animation-frame",buffered:!0}):n&&nv("longtask",({entries:e})=>{let t=(0,ec.Bk)();if(!t)return;let{op:n,start_timestamp:r}=(0,ec.et)(t);for(let i of e){let e=nR(er.k3+i.startTime),s=nR(i.duration);("navigation"!==n||!r||!(e<r))&&nA(t,e,e+s,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[tM.JD]:"auto.ui.browser.metrics"}})}}),i&&nv("event",({entries:e})=>{let t=(0,ec.Bk)();if(t){for(let n of e)if("click"===n.name){let e=nR(er.k3+n.startTime),r=nR(n.duration),i={name:(0,eJ.Hd)(n.target),op:`ui.interaction.${n.name}`,startTime:e,attributes:{[tM.JD]:"auto.ui.browser.metrics"}},s=(0,eJ.xE)(n.target);s&&(i.attributes["ui.component_name"]=s),nA(t,e,e+r,i)}}});let S={name:void 0,source:void 0};function k(e,t){let n="pageload"===t.op,r=a?a(t):t,i=r.attributes||{};t.name!==r.name&&(i[tM.i_]="custom",r.attributes=i),S.name=r.name,S.source=i[tM.i_];let c=nq(r,{idleTimeout:o,finalTimeout:l,childSpanTimeout:u,disableAutoFinish:n,beforeSpanEnd:e=>{w(),function(e,t){let n=nO();if(!n||!n.getEntries||!er.k3)return;let r=nR(er.k3),i=n.getEntries(),{op:s,start_timestamp:a}=(0,ec.et)(e);if(i.slice(nD).forEach(t=>{let n=nR(t.startTime),i=nR(Math.max(0,t.duration));if("navigation"!==s||!a||!(r+n<a))switch(t.entryType){case"navigation":var o,l,u;o=e,l=t,u=r,["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(e=>{nL(o,l,e,u)}),nL(o,l,"secureConnection",u,"TLS/SSL"),nL(o,l,"fetch",u,"cache"),nL(o,l,"domainLookup",u,"DNS"),function(e,t,n){let r=n+nR(t.requestStart),i=n+nR(t.responseEnd),s=n+nR(t.responseStart);t.responseEnd&&(nA(e,r,i,{op:"browser.request",name:t.name,attributes:{[tM.JD]:"auto.ui.browser.metrics"}}),nA(e,s,i,{op:"browser.response",name:t.name,attributes:{[tM.JD]:"auto.ui.browser.metrics"}}))}(o,l,u);break;case"mark":case"paint":case"measure":{(function(e,t,n,r,i){let s=tN(!1),a=i+Math.max(n,nR(s?s.requestStart:0)),o=i+n,l={[tM.JD]:"auto.resource.browser.metrics"};a!==o&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=a),nA(e,a,o+r,{name:t.name,op:t.entryType,attributes:l})})(e,t,n,i,r);let s=tq(),a=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&a&&(nN.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&a&&(nN.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":(function(e,t,n,r,i,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;let a=eY(n),o={[tM.JD]:"auto.resource.browser.metrics"};nF(o,t,"transferSize","http.response_transfer_size"),nF(o,t,"encodedBodySize","http.response_content_length"),nF(o,t,"decodedBodySize","http.decoded_response_content_length");let l=t.deliveryType;null!=l&&(o["http.response_delivery_type"]=l);let u=t.renderBlockingStatus;u&&(o["resource.render_blocking_status"]=u),a.protocol&&(o["url.scheme"]=a.protocol.split(":").pop()),a.host&&(o["server.address"]=a.host),o["url.same_origin"]=n.includes(eR.location.origin);let{name:c,version:d}=nP(t.nextHopProtocol);o["network.protocol.name"]=c,o["network.protocol.version"]=d;let h=s+r;nA(e,h,h+i,{name:n.replace(eR.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:o})})(e,t,t.name,n,i,r)}}),nD=Math.max(i.length-1,0),function(e){let t=eR.navigator;if(!t)return;let n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),nx(n.rtt)&&(nN["connection.rtt"]={value:n.rtt,unit:"millisecond"})),nx(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),nx(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===s){var o;(function(e){let t=tN(!1);if(!t)return;let{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})})(nN);let n=nN["mark.fid"];n&&nN.fid&&(nA(e,n.value,n.value+nR(nN.fid.value),{name:"first input delay",op:"ui.action",attributes:{[tM.JD]:"auto.ui.browser.metrics"}}),delete nN["mark.fid"]),"fcp"in nN&&t.recordClsOnPageloadSpan||delete nN.cls,Object.entries(nN).forEach(([e,t])=>{(0,tO.X)(e,t.value,t.unit)}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",tL()),o=e,f&&(f.element&&o.setAttribute("lcp.element",(0,eJ.Hd)(f.element)),f.id&&o.setAttribute("lcp.id",f.id),f.url&&o.setAttribute("lcp.url",f.url.trim().slice(0,200)),null!=f.loadTime&&o.setAttribute("lcp.loadTime",f.loadTime),null!=f.renderTime&&o.setAttribute("lcp.renderTime",f.renderTime),o.setAttribute("lcp.size",f.size)),g&&g.sources&&g.sources.forEach((e,t)=>o.setAttribute(`cls.source.${t+1}`,(0,eJ.Hd)(e.node)))}f=void 0,g=void 0,nN={}}(e,{recordClsOnPageloadSpan:!s})}});function d(){["interactive","complete"].includes(ek.document.readyState)&&e.emit("idleSpanEnableAutoFinish",c)}return n&&ek.document&&(ek.document.addEventListener("readystatechange",()=>{d()}),d()),c}return{name:"BrowserTracing",afterAllSetup(e){var n,r,s,a;let h,f;let g=ek.location&&ek.location.href;function w(){h&&!(0,ec.et)(h).timestamp&&h.end()}e.on("startNavigationSpan",t=>{(0,z.KU)()===e&&(w(),h=k(e,{op:"navigation",...t}))}),e.on("startPageLoadSpan",(t,n={})=>{if((0,z.KU)()!==e)return;w();let r=n.sentryTrace||rn("sentry-trace"),i=n.baggage||rn("baggage"),s=(0,nZ.kM)(r,i);(0,z.o5)().setPropagationContext(s),h=k(e,{op:"pageload",...t})}),e.on("spanEnd",e=>{let t=(0,ec.et)(e).op;if(e!==(0,ec.zU)(e)||"navigation"!==t&&"pageload"!==t)return;let n=(0,z.o5)(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:(0,ec.pK)(e),dsc:r.dsc||(0,et.k1)(e)})}),ek.location&&(_&&re(e,{name:ek.location.pathname,startTime:er.k3?er.k3/1e3:void 0,attributes:{[tM.i_]:"url",[tM.JD]:"auto.pageload.browser"}}),b&&eB(({to:t,from:n})=>{if(void 0===n&&g&&-1!==g.indexOf(t)){g=void 0;return}n!==t&&(g=void 0,rt(e,{name:ek.location.pathname,attributes:{[tM.i_]:"url",[tM.JD]:"auto.navigation.browser"}}))})),c&&ek&&ek.document&&ek.document.addEventListener("visibilitychange",()=>{let e=(0,ec.Bk)();if(!e)return;let t=(0,ec.zU)(e);if(ek.document.hidden&&t){let{op:e,status:n}=(0,ec.et)(t);n||t.setStatus({code:nW.TJ,message:"cancelled"}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}),i&&(n=o,r=l,s=u,a=S,ek.document&&addEventListener("click",()=>{let e=(0,ec.Bk)(),t=e&&(0,ec.zU)(e);if(!(t&&["navigation","pageload"].includes((0,ec.et)(t).op)))f&&(f.setAttribute(tM.fs,"interactionInterrupted"),f.end(),f=void 0),a.name&&(f=nq({name:a.name,op:"ui.action.click",attributes:{[tM.i_]:a.source||"url"}},{idleTimeout:n,finalTimeout:r,childSpanTimeout:s}))},{once:!1,capture:!0})),t&&function(){let e=({entries:e})=>{let t=(0,ec.Bk)(),n=t&&(0,ec.zU)(t);e.forEach(e=>{if(!("duration"in e)||!n)return;let t=e.interactionId;if(!(null==t||nj.has(t))){if(nU.length>10){let e=nU.shift();nj.delete(e)}nU.push(t),nj.set(t,n)}})};nv("event",e),nv("first-input",e)}(),function(e,t){let{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:a,tracePropagationTargets:o}={traceFetch:n5.traceFetch,traceXHR:n5.traceXHR,trackFetchStreamPerformance:n5.trackFetchStreamPerformance,...t},l="function"==typeof s?s:e=>!0,u=e=>(function(e,t){let n=ek.location&&ek.location.href;if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch(e){return!1}let s=r.origin===i;return t?(0,F.Xr)(r.toString(),t)||s&&(0,F.Xr)(r.pathname,t):s}{let n=!!e.match(/^\/(?!\/)/);return t?(0,F.Xr)(e,t):n}})(e,o),c={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){let t=n3.get(e.span_id);t&&(e.timestamp=t/1e3,n3.delete(e.span_id))}}),e)),i&&function(e){let t="fetch-body-resolved";eA(t,e),eM(t,()=>eW(eq))}(e=>{if(e.response){let t=n2.get(e.response);t&&e.endTimestamp&&n3.set(t,e.endTimestamp)}}),eV(e=>{let t=function(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;let s=(0,nz.w)()&&t(e.fetchData.url);if(e.endTimestamp&&s){let t=e.fetchData.__span;if(!t)return;let n=r[t];n&&(function(e,t){if(t.response){(0,nW.N8)(e,t.response.status);let n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){let t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus({code:nW.TJ,message:"internal_error"});e.end()}(n,e),delete r[t]);return}let{method:a,url:o}=e.fetchData,l=function(e){try{return new URL(e).href}catch(e){return}}(o),u=l?eY(l).host:void 0,c=!!(0,ec.Bk)(),d=s&&c?(0,nC.Uk)({name:`${a} ${o}`,attributes:{url:o,type:"fetch","http.method":a,"http.url":l,"server.address":u,[tM.JD]:i,[tM.uT]:"http.client"}}):new nV.w;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){let t=e.args[0],n=e.args[1]||{},r=function(e,t,n){var r,i;let s=n0({span:n}),a=s["sentry-trace"],o=s.baggage;if(!a)return;let l=t.headers||((r=e,"undefined"!=typeof Request&&(0,ea.tH)(r,Request))?e.headers:void 0);if(!l)return{...s};if(i=l,"undefined"!=typeof Headers&&(0,ea.tH)(i,Headers)){let e=new Headers(l);if(e.set("sentry-trace",a),o){let t=e.get("baggage");if(t){let n=n1(t);e.set("baggage",n?`${n},${o}`:o)}else e.set("baggage",o)}return e}if(Array.isArray(l)){let e=[...l.filter(e=>!(Array.isArray(e)&&"sentry-trace"===e[0])).map(e=>{if(!Array.isArray(e)||"baggage"!==e[0]||"string"!=typeof e[1])return e;{let[t,n,...r]=e;return[t,n1(n),...r]}}),["sentry-trace",a]];return o&&e.push(["baggage",o]),e}{let e="baggage"in l?l.baggage:void 0,t=[];return Array.isArray(e)?t=e.map(e=>"string"==typeof e?n1(e):e).filter(e=>""===e):e&&t.push(n1(e)),o&&t.push(o),{...l,"sentry-trace":a,baggage:t.length>0?t.join(","):void 0}}}(t,n,(0,nz.w)()&&c?d:void 0);r&&(e.args[1]=n,n.headers=r)}return d}(e,l,u,c);if(e.response&&e.fetchData.__span&&n2.set(e.response,e.fetchData.__span),t){let n=n8(e.fetchData.url),r=n?eY(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}a&&t&&n6(t)})),r&&eF(e=>{let t=function(e,t,n,r){let i=e.xhr,s=i&&i[eL];if(!i||i.__sentry_own_request__||!s)return;let a=(0,nz.w)()&&t(s.url);if(e.endTimestamp&&a){let e=i.__sentry_xhr_span_id__;if(!e)return;let t=r[e];t&&void 0!==s.status_code&&((0,nW.N8)(t,s.status_code),t.end(),delete r[e]);return}let o=n8(s.url),l=o?eY(o).host:void 0,u=!!(0,ec.Bk)(),c=a&&u?(0,nC.Uk)({name:`${s.method} ${s.url}`,attributes:{type:"xhr","http.method":s.method,"http.url":o,url:s.url,"server.address":l,[tM.JD]:"auto.http.browser",[tM.uT]:"http.client"}}):new nV.w;return i.__sentry_xhr_span_id__=c.spanContext().spanId,r[i.__sentry_xhr_span_id__]=c,n(s.url)&&function(e,t){let{"sentry-trace":n,baggage:r}=n0({span:t});n&&function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader("baggage",n)}catch(e){}}(e,n,r)}(i,(0,nz.w)()&&u?c:void 0),c}(e,l,u,c);a&&t&&n6(t)})}(e,{traceFetch:d,traceXHR:p,trackFetchStreamPerformance:m,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:y})}}};function re(e,t,n){e.emit("startPageLoadSpan",t,n),(0,z.o5)().setTransactionName(t.name);let r=(0,ec.Bk)();return"pageload"===(r&&(0,ec.et)(r).op)?r:void 0}function rt(e,t){(0,z.rm)().setPropagationContext({traceId:(0,nJ.el)()}),(0,z.o5)().setPropagationContext({traceId:(0,nJ.el)()}),e.emit("startNavigationSpan",t),(0,z.o5)().setTransactionName(t.name);let n=(0,ec.Bk)();return"navigation"===(n&&(0,ec.et)(n).op)?n:void 0}function rn(e){let t=(0,eJ.NX)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}let rr="incomplete-app-router-transaction",ri=C.O;function rs(e){try{return new URL(e,"http://example.com/").pathname}catch(e){return"/"}}var ra=n(6060),ro=n(3926);let rl=ra.events?ra:ra.default,ru=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function rc(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){let i=r>=0?e[r]:"/";i&&(t=`${i}/${t}`,n="/"===i.charAt(0))}return t=(function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){let r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e})(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||"."}function rd(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}let rh=(e={})=>{let t=e.root,n=e.prefix||"app:///",r="window"in C.O&&void 0!==C.O.window,i=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;let i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){let e=r.filename;0===e.indexOf(t)&&(r.filename=e.replace(t,n))}}else if(i||s){let e;let s=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?function(e,t){e=rc(e).slice(1),t=rc(t).slice(1);let n=rd(e.split("/")),r=rd(t.split("/")),i=Math.min(n.length,r.length),s=i;for(let e=0;e<i;e++)if(n[e]!==r[e]){s=e;break}let a=[];for(let e=s;e<n.length;e++)a.push("..");return(a=a.concat(r.slice(s))).join("/")}(t,s):e=function(e){let t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=ru.exec(t);return n?n.slice(1):[]}(s)[2]||"";r.filename=`${n}${a}`}return r}}({isBrowser:r,root:t,prefix:n});return{name:"RewriteFrames",processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>{var t;return{...e,...e.stacktrace&&{stacktrace:{...t=e.stacktrace,frames:t&&t.frames&&t.frames.map(e=>i(e))}}}})}}}catch(t){return e}}(t)),t}}},rp=({assetPrefixPath:e})=>({...rh({iteratee:t=>{try{let{origin:n}=new URL(t.filename);t.filename=S([t,"access",e=>e.filename,"optionalAccess",e=>e.replace,"call",e=>e(n,"app://"),"access",e=>e.replace,"call",t=>t(e,"")])}catch(e){}return t.filename&&t.filename.startsWith("app:///_next")&&(t.filename=decodeURI(t.filename)),t.filename&&t.filename.match(/^app:\/\/\/_next\/static\/chunks\/(main-|main-app-|polyfills-|webpack-|framework-|framework\.)[0-9a-f]+\.js$/)&&(t.in_app=!1),t}}),name:"NextjsClientStackFrameNormalization"}),rf=C.O;function rg(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var rm=n(6604);function rv(){return"undefined"!=typeof window&&(!(!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call(void 0!==rm?rm:0))||function(){let e=C.O.process;return!!e&&"renderer"===e.type}())}let ry=C.O,r_="sentryReplaySession",rb="Unable to send Replay";function rw(e,t){return null!=e?e:t()}function rS(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}function rk(e){let t=rS([e,"optionalAccess",e=>e.host]);return rS([t,"optionalAccess",e=>e.shadowRoot])===e}function rE(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function rT(e){try{var t;let n=e.rules||e.cssRules;return n?((t=Array.from(n,rI).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}}function rI(e){let t;if("styleSheet"in e)try{t=rT(e.styleSheet)||function(e){let{cssText:t}=e;if(t.split('"').length<3)return t;let n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if("selectorText"in e){let t=e.cssText,n=e.selectorText.includes(":"),r="string"==typeof e.style.all&&e.style.all;if(r&&(t=function(e){let t="";for(let n=0;n<e.style.length;n++){let r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}(e)),n&&(t=t.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2")),n||r)return t}return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(k||(k={}));class rC{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){return e?rw(rS([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]),()=>-1):-1}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){let t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){let n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){let n=this.getNode(e);if(n){let e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function rx({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function rA({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function rM(e){return e.toLowerCase()}function rO(e){return e.toUpperCase()}let rR="__rrweb_original__";function rP(e){let t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?rM(t):null}function rD(e,t,n){return"INPUT"===t&&("radio"===n||"checkbox"===n)?e.getAttribute("value")||"":e.value}function rN(e,t){let n;try{n=new URL(e,rw(t,()=>window.location.href))}catch(e){return null}return rw(rS([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",e=>e[1]]),()=>null)}let rL={};function rF(e){let t=rL[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return rL[e]=r.bind(window)}function rU(...e){return rF("setTimeout")(...e)}function rj(...e){return rF("clearTimeout")(...e)}function rB(e){try{return e.contentDocument}catch(e){}}let rz=1,r$=RegExp("[^a-z0-9-_:]");function rV(){return rz++}let rW=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,rH=/^(?:[a-z+]+:)?\/\//i,rq=/^www\..*/i,rG=/^(data:)([^,]*),(.*)/i;function rK(e,t){return(e||"").replace(rW,(e,n,r,i,s,a)=>{let o=r||s||a,l=n||i||"";if(!o)return e;if(rH.test(o)||rq.test(o)||rG.test(o))return`url(${l}${o}${l})`;if("/"===o[0]){let e;return`url(${l}${(t.indexOf("//")>-1?t.split("/").slice(0,3).join("/"):t.split("/")[0]).split("?")[0]+o}${l})`}let u=t.split("/"),c=o.split("/");for(let e of(u.pop(),c))"."!==e&&(".."===e?u.pop():u.push(e));return`url(${l}${u.join("/")}${l})`})}let rZ=/^[^ \t\n\r\u000c]+/,rJ=/^[, \t\n\r\u000c]+/,rX=new WeakMap;function rY(e,t){return t&&""!==t.trim()?rQ(e,t):t}function rQ(e,t){let n=rX.get(e);if(n||(n=e.createElement("a"),rX.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t}else t="";return n.setAttribute("href",t),n.href}function r0(e,t,n,r,i,s){if(!r)return r;if("src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0])return rY(e,r);if("background"===n&&("table"===t||"td"===t||"th"===t))return rY(e,r);if("srcset"===n)return function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;let i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):""}let i=[];for(;r(rJ),!(n>=t.length);){let s=r(rZ);if(","===s.slice(-1))s=rY(e,s.substring(0,s.length-1)),i.push(s);else{let r="";s=rY(e,s);let a=!1;for(;;){let e=t.charAt(n);if(""===e){i.push((s+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,i.push((s+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return i.join(", ")}(e,r);if("style"===n)return rK(r,rQ(e));else if("object"===t&&"data"===n)return rY(e,r);return"function"==typeof s?s(n,r,i):r}function r1(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function r2(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:r2(e.parentNode,t,n,r+1)}function r3(e,t){return n=>{if(null===n)return!1;try{if(e){if("string"==typeof e){if(n.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}return!1}(n,e))return!0}if(t&&n.matches(t))return!0;return!1}catch(e){return!1}}}function r5(e,t,n,r,i,s){try{let a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){let e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let o=-1,l=-1;if(s){if((l=r2(a,r3(r,i)))<0)return!0;o=r2(a,r3(t,n),l>=0?l:1/0)}else{if((o=r2(a,r3(t,n)))<0)return!1;l=r2(a,r3(r,i),o>=0?o:1/0)}return o>=0?!(l>=0)||o<=l:!(l>=0)&&!!s}catch(e){}return!!s}function r6(e){return null==e?"":e.toLowerCase()}function r4(e,t){let n;let{doc:r,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:g={},maskAttributeFn:y,maskTextFn:_,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S={},inlineImages:E=!1,recordCanvas:T=!1,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:x=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:M=5e3,keepIframeSrcFn:O=()=>!1,newlyAddedElement:R=!1}=t,{preserveWhiteSpace:P=!0}=t,D=function(e,t){let{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:a,maskAllText:o,maskAttributeFn:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:f={},maskTextFn:g,maskInputFn:y,dataURLOptions:_={},inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:E=!1}=t,T=function(e,t){if(!t.hasNode(e))return;let n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:if("CSS1Compat"!==e.compatMode)return{type:k.Document,childNodes:[],compatMode:e.compatMode};return{type:k.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:k.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:T};case e.ELEMENT_NODE:return function(e,t){let n;let{doc:r,blockClass:i,blockSelector:s,unblockSelector:a,inlineStylesheet:o,maskInputOptions:l={},maskAttributeFn:u,maskInputFn:c,dataURLOptions:d={},inlineImages:h,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:g=!1,rootId:y,maskAllText:_,maskTextClass:b,unmaskTextClass:w,maskTextSelector:S,unmaskTextSelector:E}=t,T=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){let r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,i,s,a),I=function(e){if(e instanceof HTMLFormElement)return"form";let t=rM(e.tagName);return r$.test(t)?"div":t}(e),C={},x=e.attributes.length;for(let t=0;t<x;t++){let n=e.attributes[t];n.name&&!r1(I,n.name,n.value)&&(C[n.name]=r0(r,I,rM(n.name),n.value,e,u))}if("link"===I&&o){let t=Array.from(r.styleSheets).find(t=>t.href===e.href),n=null;t&&(n=rT(t)),n&&(C.rel=null,C.href=null,C.crossorigin=null,C._cssText=rK(n,t.href))}if("style"===I&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){let t=rT(e.sheet);t&&(C._cssText=rK(t,rQ(r)))}if("input"===I||"textarea"===I||"select"===I||"option"===I){let t=rP(e),n=rD(e,rO(I),t),r=e.checked;if("submit"!==t&&"button"!==t&&n){let r=r5(e,b,S,w,E,rx({type:t,tagName:rO(I),maskInputOptions:l}));C.value=rA({isMasked:r,element:e,value:n,maskInputFn:c})}r&&(C.checked=r)}if("option"===I&&(e.selected&&!l.select?C.selected=!0:delete C.selected),"canvas"===I&&p){if("2d"===e.__context)!function(e){let t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){let i=t.getImageData;if(new Uint32Array((rR in i?i[rR]:i).call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some(e=>0!==e))return!1}return!0}(e)&&(C.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){let t=e.toDataURL(d.type,d.quality),n=r.createElement("canvas");n.width=e.width,n.height=e.height,t!==n.toDataURL(d.type,d.quality)&&(C.rr_dataURL=t)}}if("img"===I&&h){m||(v=(m=r.createElement("canvas")).getContext("2d"));let t=e.currentSrc||e.getAttribute("src")||"<unknown-src>",n=e.crossOrigin,i=()=>{e.removeEventListener("load",i);try{m.width=e.naturalWidth,m.height=e.naturalHeight,v.drawImage(e,0,0),C.rr_dataURL=m.toDataURL(d.type,d.quality)}catch(n){if("anonymous"!==e.crossOrigin){e.crossOrigin="anonymous",e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i);return}console.warn(`Cannot inline img src=${t}! Error: ${n}`)}"anonymous"===e.crossOrigin&&(n?C.crossOrigin=n:e.removeAttribute("crossorigin"))};e.complete&&0!==e.naturalWidth?i():e.addEventListener("load",i)}if(("audio"===I||"video"===I)&&(C.rr_mediaState=e.paused?"paused":"played",C.rr_mediaCurrentTime=e.currentTime),!g&&(e.scrollLeft&&(C.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(C.rr_scrollTop=e.scrollTop)),T){let{width:t,height:n}=e.getBoundingClientRect();C={class:C.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==I||f(C.src)||(T||rB(e)||(C.rr_src=C.src),delete C.src);try{customElements.get(I)&&(n=!0)}catch(e){}return{type:k.Element,tagName:I,attributes:C,childNodes:[],isSVG:!!("svg"===e.tagName||e.ownerSVGElement)||void 0,needBlock:T,rootId:y,isCustom:n}}(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:f,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:w,keepIframeSrcFn:S,newlyAddedElement:E,rootId:T,maskAllText:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h});case e.TEXT_NODE:return function(e,t){let{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:a,maskTextFn:o,maskInputOptions:l,maskInputFn:u,rootId:c}=t,d=e.parentNode&&e.parentNode.tagName,h=e.textContent,p="STYLE"===d||void 0,f="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(p&&h){try{e.nextSibling||e.previousSibling||rS([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(h=rT(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}h=rK(h,rQ(t.doc))}f&&(h="SCRIPT_PLACEHOLDER");let m=r5(e,r,s,i,a,n);return p||f||g||!h||!m||(h=o?o(h,e.parentElement):h.replace(/[\S]/g,"*")),g&&h&&(l.textarea||m)&&(h=u?u(h,e.parentNode):h.replace(/[\S]/g,"*")),"OPTION"===d&&h&&(h=rA({isMasked:r5(e,r,s,i,a,rx({type:null,tagName:d,maskInputOptions:l})),element:e,value:h,maskInputFn:u})),{type:k.Text,textContent:h||"",isStyle:p,rootId:c}}(e,{doc:n,maskAllText:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,maskTextFn:g,maskInputOptions:f,maskInputFn:y,rootId:T});case e.CDATA_SECTION_NODE:return{type:k.CDATA,textContent:"",rootId:T};case e.COMMENT_NODE:return{type:k.Comment,textContent:e.textContent||"",rootId:T};default:return!1}}(e,{doc:r,mirror:i,blockClass:s,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:y,maskTextFn:_,maskInputFn:b,dataURLOptions:S,inlineImages:E,recordCanvas:T,keepIframeSrcFn:O,newlyAddedElement:R});if(!D)return console.warn(e,"not serialized"),null;n=i.hasNode(e)?i.getId(e):!function(e,t){if(t.comment&&e.type===k.Comment)return!0;if(e.type===k.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===rN(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(r6(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===r6(e.attributes.name)||"icon"===r6(e.attributes.rel)||"apple-touch-icon"===r6(e.attributes.rel)||"shortcut icon"===r6(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&r6(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(r6(e.attributes.property).match(/^(og|twitter|fb):/)||r6(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===r6(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===r6(e.attributes.name)||"googlebot"===r6(e.attributes.name)||"bingbot"===r6(e.attributes.name)))return!0;else if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;else if(t.headMetaAuthorship&&("author"===r6(e.attributes.name)||"generator"===r6(e.attributes.name)||"framework"===r6(e.attributes.name)||"publisher"===r6(e.attributes.name)||"progid"===r6(e.attributes.name)||r6(e.attributes.property).match(/^article:/)||r6(e.attributes.property).match(/^product:/)))return!0;else if(t.headMetaVerification&&("google-site-verification"===r6(e.attributes.name)||"yandex-verification"===r6(e.attributes.name)||"csrf-token"===r6(e.attributes.name)||"p:domain_verify"===r6(e.attributes.name)||"verify-v1"===r6(e.attributes.name)||"verification"===r6(e.attributes.name)||"shopify-checkout-api-token"===r6(e.attributes.name)))return!0}}return!1}(D,w)&&(P||D.type!==k.Text||D.isStyle||D.textContent.replace(/^\s+|\s+$/gm,"").length)?rV():-2;let N=Object.assign(D,{id:n});if(i.add(e,N),-2===n)return null;I&&I(e);let L=!p;if(N.type===k.Element){L=L&&!N.needBlock,delete N.needBlock;let t=e.shadowRoot;t&&rE(t)&&(N.isShadowHost=!0)}if((N.type===k.Document||N.type===k.Element)&&L){w.headWhitespace&&N.type===k.Element&&"head"===N.tagName&&(P=!1);let t={doc:r,mirror:i,blockClass:s,blockSelector:a,maskAllText:l,unblockSelector:o,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,skipChild:p,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:y,maskTextFn:_,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:E,recordCanvas:T,preserveWhiteSpace:P,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:x,onStylesheetLoad:A,stylesheetLoadTimeout:M,keepIframeSrcFn:O};for(let n of Array.from(e.childNodes)){let e=r4(n,t);e&&N.childNodes.push(e)}if(e.nodeType===e.ELEMENT_NODE&&e.shadowRoot)for(let n of Array.from(e.shadowRoot.childNodes)){let r=r4(n,t);r&&(rE(e.shadowRoot)&&(r.isShadow=!0),N.childNodes.push(r))}}return e.parentNode&&rk(e.parentNode)&&rE(e.parentNode)&&(N.isShadow=!0),N.type===k.Element&&"iframe"===N.tagName&&function(e,t,n){let r;let i=e.contentWindow;if(!i)return;let s=!1;try{r=i.document.readyState}catch(e){return}if("complete"!==r){let r=rU(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{rj(r),s=!0,t()});return}let a="about:blank";if(i.location.href!==a||e.src===a||""===e.src)return rU(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,()=>{let t=rB(e);if(t&&C){let n=r4(t,{doc:t,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:y,maskTextFn:_,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:E,recordCanvas:T,preserveWhiteSpace:P,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:x,onStylesheetLoad:A,stylesheetLoadTimeout:M,keepIframeSrcFn:O});n&&C(e,n)}},x),N.type===k.Element&&"link"===N.tagName&&"string"==typeof N.attributes.rel&&("stylesheet"===N.attributes.rel||"preload"===N.attributes.rel&&"string"==typeof N.attributes.href&&"css"===rN(N.attributes.href))&&function(e,t,n){let r,i=!1;try{r=e.sheet}catch(e){return}if(r)return;let s=rU(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{rj(s),i=!0,t()})}(e,()=>{if(A){let t=r4(e,{doc:r,mirror:i,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:l,maskTextClass:u,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:h,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskAttributeFn:y,maskTextFn:_,maskInputFn:b,slimDOMOptions:w,dataURLOptions:S,inlineImages:E,recordCanvas:T,preserveWhiteSpace:P,onSerialize:I,onIframeLoad:C,iframeLoadTimeout:x,onStylesheetLoad:A,stylesheetLoadTimeout:M,keepIframeSrcFn:O});t&&A(e,t)}},M),N}function r8(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}function r7(e,t,n=document){let r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let r9="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",ie={map:{},getId:()=>(console.error(r9),-1),getNode:()=>(console.error(r9),null),removeNodeFromMap(){console.error(r9)},has:()=>(console.error(r9),!1),reset(){console.error(r9)}};function it(e,t,n={}){let r=null,i=0;return function(...s){let a=Date.now();i||!1!==n.leading||(i=a);let o=t-(a-i),l=this;o<=0||o>t?(r&&(function(...e){ib("clearTimeout")(...e)}(r),r=null),i=a,e.apply(l,s)):r||!1===n.trailing||(r=iw(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(l,s)},o))}}function ir(e,t,n){try{if(!(t in e))return()=>{};let r=e[t],i=n(r);return"function"==typeof i&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ie=new Proxy(ie,{get:(e,t,n)=>("map"===t&&console.error(r9),Reflect.get(e,t,n))}));let ii=Date.now;function is(e){let t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:r8([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||r8([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||r8([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:r8([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||r8([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||r8([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function ia(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function io(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function il(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}function iu(e,t,n,r,i){if(!e)return!1;let s=il(e);if(!s)return!1;let a=r3(t,n);if(!i){let e=r&&s.matches(r);return a(s)&&!e}let o=r2(s,a),l=-1;return!(o<0)&&(r&&(l=r2(s,r3(null,r))),o>-1&&l<0||o<l)}function ic(e,t){return -2===t.getId(e)}function id(e){return!!e.changedTouches}function ih(e,t){return!!("IFRAME"===e.nodeName&&t.getMeta(e))}function ip(e,t){return!!("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function ig(e){return!!r8([e,"optionalAccess",e=>e.shadowRoot])}/[1-9][0-9]{12}/.test(Date.now().toString())||(ii=()=>new Date().getTime());class im{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){var t;return t=this.styleIDMap.get(e),null!=t?t:-1}has(e){return this.styleIDMap.has(e)}add(e,t){let n;return this.has(e)?this.getId(e):(n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n)}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function iv(e){let t=null;return r8([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function iy(e){let t=e.ownerDocument;return!!t&&(t.contains(e)||function(e){let t=e.ownerDocument;if(!t)return!1;let n=function(e){let t,n=e;for(;t=iv(n);)n=t;return n}(e);return t.contains(n)}(e))}let i_={};function ib(e){let t=i_[e];if(t)return t;let n=window.document,r=window[e];if(n&&"function"==typeof n.createElement)try{let t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);let i=t.contentWindow;i&&i[e]&&(r=i[e]),n.head.removeChild(t)}catch(e){}return i_[e]=r.bind(window)}function iw(...e){return ib("setTimeout")(...e)}var iS=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(iS||{}),ik=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(ik||{}),iE=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(iE||{}),iT=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(iT||{});function iI(e){try{return e.contentDocument}catch(e){}}(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(E||(E={})),function(e){e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE"}(T||(T={}));class iC{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=function(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){let t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&"__ln"in e.previousSibling){let n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&"__ln"in e.nextSibling&&e.nextSibling.__ln.previous){let n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){let t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}let ix=(e,t)=>`${e}@${t}`;class iA{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let e=[],t=new Set,n=new iC,r=e=>{let t=e,n=-2;for(;-2===n;)n=(t=t&&t.nextSibling)&&this.mirror.getId(t);return n},i=i=>{if(!i.parentNode||!iy(i))return;let s=rk(i.parentNode)?this.mirror.getId(iv(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===s||-1===a)return n.addNode(i);let o=r4(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{ih(e,this.mirror)&&!iu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),ip(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),ig(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{!iu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e))},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});o&&(e.push({parentId:s,nextId:a,node:o}),t.add(o.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let e of this.movedSet)(!iO(this.removes,e,this.mirror)||this.movedSet.has(e.parentNode))&&i(e);for(let e of this.addedSet)iR(this.droppedSet,e)||iO(this.removes,e,this.mirror)?iR(this.movedSet,e)?i(e):this.droppedSet.add(e):i(e);let s=null;for(;n.length;){let e=null;if(s){let t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){let n=t;if(t=t.previous,n){let t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{let t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),i(e.value)}let a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{let{attributes:t}=e;if("string"==typeof t.style){let n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!ic(e.target,this.mirror))switch(e.type){case"characterData":{let t=e.target.textContent;iu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:r5(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,il(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{let t=e.target,n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){let n=rP(t),i=t.tagName;r=rD(t,i,n);let s=rx({maskInputOptions:this.maskInputOptions,tagName:i,type:n});r=rA({isMasked:r5(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:t,value:r,maskInputFn:this.maskInputFn})}if(iu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let i=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(iI(t))return;n="rr_src"}if(i||(i={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(i),this.attributeMap.set(e.target,i)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!r1(t.tagName,n)&&(i.attributes[n]=r0(this.doc,rM(t.tagName),rM(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}let n=this.unattachedDoc.createElement("span");for(let r of(e.oldValue&&n.setAttribute("style",e.oldValue),Array.from(t.style))){let e=t.style.getPropertyValue(r),s=t.style.getPropertyPriority(r);e!==n.style.getPropertyValue(r)||s!==n.style.getPropertyPriority(r)?""===s?i.styleDiff[r]=e:i.styleDiff[r]=[e,s]:i._unchangedStyles[r]=[e,s]}for(let e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(i.styleDiff[e]=!1)}break}case"childList":if(iu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{let n=this.mirror.getId(t),r=rk(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);!(iu(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ic(t,this.mirror))&&-1!==this.mirror.getId(t)&&(this.addedSet.has(t)?(iM(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||function e(t,n){if(rk(t))return!1;let r=n.getId(t);return!n.has(r)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode,n))}(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ix(n,r)]?iM(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!!(rk(e.target)&&rE(e.target))||void 0})),this.mapRemoves.push(t))})}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!(this.addedSet.has(e)||this.movedSet.has(e))){if(this.mirror.hasNode(e)){if(ic(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[ix(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);!iu(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&(e.childNodes.forEach(e=>this.genAdds(e)),ig(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)}))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function iM(e,t){e.delete(t),t.childNodes.forEach(t=>iM(e,t))}function iO(e,t,n){return 0!==e.length&&function(e,t,n){let r=t.parentNode;for(;r;){let t=n.getId(r);if(e.some(e=>e.id===t))return!0;r=r.parentNode}return!1}(e,t,n)}function iR(e,t){return 0!==e.size&&function e(t,n){let{parentNode:r}=n;return!!r&&(!!t.has(r)||e(t,r))}(e,t)}let iP=e=>y?(...t)=>{try{return e(...t)}catch(e){if(y&&!0===y(e))return()=>{};throw e}}:e;function iD(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}let iN=[];function iL(e){try{if("composedPath"in e){let t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function iF(e,t){let n=new iA;iN.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver,i=iD([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);let s=new r(iP(t=>{(!e.onMutation||!1!==e.onMutation(t))&&n.processMutations.bind(n)(t)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function iU({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:a}){return r7("scroll",iP(it(iP(a=>{let o=iL(a);if(!o||iu(o,r,i,s,!0))return;let l=n.getId(o);if(o===t&&t.defaultView){let n=is(t.defaultView);e({id:l,x:n.left,y:n.top})}else e({id:l,x:o.scrollLeft,y:o.scrollTop})}),a.scroll||100)),t)}let ij=["INPUT","TEXTAREA","SELECT"],iB=new WeakMap;function iz(e){var t,n;return t=e,n=[],iH("CSSGroupingRule")&&t.parentRule instanceof CSSGroupingRule||iH("CSSMediaRule")&&t.parentRule instanceof CSSMediaRule||iH("CSSSupportsRule")&&t.parentRule instanceof CSSSupportsRule||iH("CSSConditionRule")&&t.parentRule instanceof CSSConditionRule?n.unshift(Array.from(t.parentRule.cssRules).indexOf(t)):t.parentStyleSheet&&n.unshift(Array.from(t.parentStyleSheet.cssRules).indexOf(t)),n}function i$(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function iV({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);let i="#document"===n.nodeName?iD([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):iD([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=iD([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(iD([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&s?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return iD([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){let n=iD([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),iP(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})})):()=>{}}function iW(e,t={}){let n;let r=e.doc.defaultView;if(!r)return()=>{};e.recordDOM&&(n=iF(e,e.doc));let i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){let i;if(!1===t.mousemove)return()=>{};let s="number"==typeof t.mousemove?t.mousemove:50,a="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,o=[],l=it(iP(t=>{let n=Date.now()-i;e(o.map(e=>(e.timeOffset-=n,e)),t),o=[],i=null}),a),u=iP(it(iP(e=>{let t=iL(e),{clientX:n,clientY:s}=id(e)?e.changedTouches[0]:e;i||(i=ii()),o.push({x:n,y:s,id:r.getId(t),timeOffset:ii()-i}),l("undefined"!=typeof DragEvent&&e instanceof DragEvent?ik.Drag:e instanceof MouseEvent?ik.MouseMove:ik.TouchMove)}),s,{trailing:!1})),c=[r7("mousemove",u,n),r7("touchmove",u,n),r7("drag",u,n)];return iP(()=>{c.forEach(e=>e())})}(e),s=function({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:a}){if(!1===a.mouseInteraction)return()=>{};let o=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,l=[],u=null,c=t=>a=>{let o=iL(a);if(iu(o,r,i,s,!0))return;let l=null,c=t;if("pointerType"in a){switch(a.pointerType){case"mouse":l=iT.Mouse;break;case"touch":l=iT.Touch;break;case"pen":l=iT.Pen}l===iT.Touch?iE[t]===iE.MouseDown?c="TouchStart":iE[t]===iE.MouseUp&&(c="TouchEnd"):iT.Pen}else id(a)&&(l=iT.Touch);null!==l?(u=l,(c.startsWith("Touch")&&l===iT.Touch||c.startsWith("Mouse")&&l===iT.Mouse)&&(l=null)):iE[t]===iE.Click&&(l=u,u=null);let d=id(a)?a.changedTouches[0]:a;if(!d)return;let h=n.getId(o),{clientX:p,clientY:f}=d;iP(e)({type:iE[c],id:h,x:p,y:f,...null!==l&&{pointerType:l}})};return Object.keys(iE).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==o[e]).forEach(e=>{let n=rM(e),r=c(e);if(window.PointerEvent)switch(iE[e]){case iE.MouseDown:case iE.MouseUp:n=n.replace("mouse","pointer");break;case iE.TouchStart:case iE.TouchEnd:return}l.push(r7(n,r,t))}),iP(()=>{l.forEach(e=>e())})}(e),a=iU(e),o=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return r7("resize",iP(it(iP(()=>{let t=ia(),i=io();(n!==t||r!==i)&&(e({width:Number(i),height:Number(t)}),n=t,r=i)}),200)),t)}(e,{win:r}),l=function({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:a,ignoreSelector:o,maskInputOptions:l,maskInputFn:u,sampling:c,userTriggeredOnInput:d,maskTextClass:h,unmaskTextClass:p,maskTextSelector:f,unmaskTextSelector:g}){function m(e){let n=iL(e),c=e.isTrusted,m=n&&rO(n.tagName);if("OPTION"===m&&(n=n.parentElement),!n||!m||0>ij.indexOf(m)||iu(n,r,i,s,!0))return;let y=n;if(y.classList.contains(a)||o&&y.matches(o))return;let _=rP(n),b=rD(y,m,_),w=!1,S=rx({maskInputOptions:l,tagName:m,type:_}),k=r5(n,h,f,p,g,S);("radio"===_||"checkbox"===_)&&(w=n.checked),b=rA({isMasked:k,element:n,value:b,maskInputFn:u}),v(n,d?{text:b,isChecked:w,userTriggered:c}:{text:b,isChecked:w});let E=n.name;"radio"===_&&E&&w&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach(e=>{if(e!==n){let t=rA({isMasked:k,element:e,value:rD(e,m,_),maskInputFn:u});v(e,d?{text:t,isChecked:!w,userTriggered:!1}:{text:t,isChecked:!w})}})}function v(t,r){let i=iB.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){iB.set(t,r);let i=n.getId(t);iP(e)({...r,id:i})}}let y=("last"===c.input?["change"]:["input","change"]).map(e=>r7(e,iP(m),t)),_=t.defaultView;if(!_)return()=>{y.forEach(e=>e())};let b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),w=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&y.push(...w.map(e=>(function e(t,n,r,i,s=window){let a=s.Object.getOwnPropertyDescriptor(t,n);return s.Object.defineProperty(t,n,i?r:{set(e){iw(()=>{r.set.call(this,e)},0),a&&a.set&&a.set.call(this,e)}}),()=>e(t,n,a||{},!0)})(e[0],e[1],{set(){iP(m)({target:this,isTrusted:!1})}},!1,_))),iP(()=>{y.forEach(e=>e())})}(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:a}){let o=iP(a=>it(iP(s=>{let o=iL(s);if(!o||iu(o,t,n,r,!0))return;let{currentTime:l,volume:u,muted:c,playbackRate:d}=o;e({type:a,id:i.getId(o),currentTime:l,volume:u,muted:c,playbackRate:d})}),s.media||500)),l=[r7("play",o(0),a),r7("pause",o(1),a),r7("seeked",o(2),a),r7("volumechange",o(3),a),r7("ratechange",o(4),a)];return iP(()=>{l.forEach(e=>e())})}(e),c=()=>{},d=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(c=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){let i,s;if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};let a=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(a,{apply:iP((r,i,s)=>{let[a,o]=s,{id:l,styleId:u}=i$(i,t,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:a,index:o}]}),r.apply(i,s)})});let o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:iP((r,i,s)=>{let[a]=s,{id:o,styleId:l}=i$(i,t,n.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,removes:[{index:a}]}),r.apply(i,s)})}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:iP((r,i,s)=>{let[a]=s,{id:o,styleId:l}=i$(i,t,n.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,replace:a}),r.apply(i,s)})})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:iP((r,i,s)=>{let[a]=s,{id:o,styleId:l}=i$(i,t,n.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,replaceSync:a}),r.apply(i,s)})}));let l={};iq("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(iq("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),iq("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),iq("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));let u={};return Object.entries(l).forEach(([r,i])=>{u[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[r].insertRule,{apply:iP((r,i,s)=>{let[a,o]=s,{id:l,styleId:u}=i$(i.parentStyleSheet,t,n.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,adds:[{rule:a,index:[...iz(i),o||0]}]}),r.apply(i,s)})}),i.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:iP((r,i,s)=>{let[a]=s,{id:o,styleId:l}=i$(i.parentStyleSheet,t,n.styleMirror);return(o&&-1!==o||l&&-1!==l)&&e({id:o,styleId:l,removes:[{index:[...iz(i),a]}]}),r.apply(i,s)})})}),iP(()=>{r.CSSStyleSheet.prototype.insertRule=a,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(l).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule})})}(e,{win:r}),d=iV(e,e.doc),h=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){let s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:iP((i,a,o)=>{let[l,u,c]=o;if(n.has(l))return s.apply(a,[l,u,c]);let{id:d,styleId:h}=i$(iD([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||h&&-1!==h)&&e({id:d,styleId:h,set:{property:l,value:u,priority:c},index:iz(a.parentRule)}),i.apply(a,o)})});let a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:iP((i,s,o)=>{let[l]=o;if(n.has(l))return a.apply(s,[l]);let{id:u,styleId:c}=i$(iD([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(u&&-1!==u||c&&-1!==c)&&e({id:u,styleId:c,remove:{property:l},index:iz(s.parentRule)}),i.apply(s,o)})}),iP(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=a})}(e,{win:r}),e.collectFonts&&(p=function({fontCb:e,doc:t}){let n=t.defaultView;if(!n)return()=>{};let r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(e,t,n){let r=new s(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};let a=ir(t.fonts,"add",function(t){return function(n){return iw(iP(()=>{let t=i.get(n);t&&(e(t),i.delete(n))}),0),t.apply(this,[n])}});return r.push(()=>{n.FontFace=s}),r.push(a),iP(()=>{r.forEach(e=>e())})}(e)));let f=function(e){let{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:a}=e,o=!0,l=iP(()=>{let e=t.getSelection();if(!e||o&&iD([e,"optionalAccess",e=>e.isCollapsed]))return;o=e.isCollapsed||!1;let l=[],u=e.rangeCount||0;for(let t=0;t<u;t++){let{startContainer:a,startOffset:o,endContainer:u,endOffset:c}=e.getRangeAt(t);iu(a,r,i,s,!0)||iu(u,r,i,s,!0)||l.push({start:n.getId(a),startOffset:o,end:n.getId(u),endOffset:c})}a({ranges:l})});return l(),r7("selectionchange",l)}(e),g=function({doc:e,customElementCb:t}){let n=e.defaultView;return n&&n.customElements?ir(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,i])}}):()=>{}}(e),m=[];for(let t of e.plugins)m.push(t.observer(t.callback,r,t.options));return iP(()=>{iN.forEach(e=>e.reset()),iD([n,"optionalAccess",e=>e.disconnect,"call",e=>e()]),i(),s(),a(),o(),l(),u(),c(),d(),h(),p(),f(),g(),m.forEach(e=>e())})}function iH(e){return void 0!==window[e]}function iq(e){return!!(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class iG{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){let i=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e),a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),s.set(a,t)),a}getIds(e,t){let n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r))}getRemoteId(e,t,n){let r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;let i=r.get(t);return i||-1}getRemoteIds(e,t){let n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n))}reset(e){if(!e){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function iK(e){let t;let n=e[0],r=1;for(;r<e.length;){let i=e[r],s=e[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(t=n,n=s(n)):("call"===i||"optionalCall"===i)&&(n=s((...e)=>n.call(t,...e)),t=void 0)}return n}class iZ{constructor(){this.crossOriginIframeMirror=new iG(rV),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class iJ{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new iG(rV),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new iG(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),iK([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]);let n=iI(e);n&&n.adoptedStyleSheets&&n.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(n.adoptedStyleSheets,this.mirror.getId(n))}handleMessage(e){if("rrweb"!==e.data.type||e.origin!==e.data.origin||!e.source)return;let t=this.crossOriginIframeMap.get(e.source);if(!t)return;let n=this.transformCrossOriginEvent(t,e.data.event);n&&this.wrappedEmit(n,e.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case iS.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);let n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:iS.IncrementalSnapshot,data:{source:ik.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case iS.Meta:case iS.Load:case iS.DomContentLoaded:break;case iS.Plugin:return t;case iS.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case iS.IncrementalSnapshot:switch(t.data.source){case ik.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);let n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"])}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"])}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case ik.Drag:case ik.TouchMove:case ik.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"])}),t;case ik.ViewportResize:return!1;case ik.MediaInteraction:case ik.MouseInteraction:case ik.Scroll:case ik.CanvasMutation:case ik.Input:return this.replaceIds(t.data,e,["id"]),t;case ik.StyleSheetRule:case ik.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case ik.Font:return t;case ik.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"])}),t;case ik.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),iK([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"])})]),t}}return!1}replace(e,t,n,r){for(let i of r)(Array.isArray(t[i])||"number"==typeof t[i])&&(Array.isArray(t[i])?t[i]=e.getIds(n,t[i]):t[i]=e.getId(n,t[i]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t)})}patchRootIdOnNode(e,t){e.type===k.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t)})}}class iX{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class iY{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!rE(e)||this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);let n=iF({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(iU({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),iw(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(iV({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))},0)}observeAttachShadow(e){let t=iI(e),n=function(e){try{return e.contentWindow}catch(e){}}(e);t&&n&&this.patchAttachShadow(n.Element,t)}patchAttachShadow(e,t){let n=this;this.restoreHandlers.push(ir(e.prototype,"attachShadow",function(e){return function(r){let i=e.call(this,r);return this.shadowRoot&&iy(this)&&n.addShadowRoot(this.shadowRoot,t),i}}))}reset(){this.restoreHandlers.forEach(e=>{try{e()}catch(e){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}class iQ{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class i0{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new im,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;let n={id:t,styleIds:[]},r=[];for(let t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,(e,t)=>({rule:rI(e),index:t}))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class i1{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(e,t){let n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t)}add(e,t){this.active||(this.active=!0,function(...e){ib("requestAnimationFrame")(...e)}(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}destroy(){}}try{if(2!==Array.from([1],e=>2*e)[0]){let e=document.createElement("iframe");document.body.appendChild(e),Array.from=S([e,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}let i2=new rC;function i3(e={}){let t;let{emit:n,checkoutEveryNms:r,checkoutEveryNth:i,blockClass:s="rr-block",blockSelector:a=null,unblockSelector:o=null,ignoreClass:l="rr-ignore",ignoreSelector:u=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:h=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:g=!0,maskAllInputs:m,maskInputOptions:v,slimDOMOptions:w,maskAttributeFn:k,maskInputFn:E,maskTextFn:T,maxCanvasSize:I=null,packFn:C,sampling:x={},dataURLOptions:A={},mousemoveWait:M,recordDOM:O=!0,recordCanvas:R=!1,recordCrossOriginIframes:P=!1,recordAfter:D="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:N=!1,collectFonts:L=!1,inlineImages:F=!1,plugins:U,keepIframeSrcFn:j=()=>!1,ignoreCSSAttributes:B=new Set([]),errorHandler:z,onMutation:$,getCanvasManager:V}=e;y=z;let W=!P||window.parent===window,H=!1;if(!W)try{window.parent.document&&(H=!1)}catch(e){H=!0}if(W&&!n)throw Error("emit function is required");if(!W&&!H)return()=>{};void 0!==M&&void 0===x.mousemove&&(x.mousemove=M),i2.reset();let q=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==v?v:{},G=!0===w||"all"===w?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===w,headMetaDescKeywords:"all"===w}:w||{};!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw TypeError("1 argument is required");do if(this===t)return!0;while(t=t&&t.parentNode);return!1})}();let K=0,Z=e=>{for(let t of U||[])t.eventProcessor&&(e=t.eventProcessor(e));return C&&!H&&(e=C(e)),e};_=(e,s)=>{if(e.timestamp=ii(),S([iN,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])&&e.type!==iS.FullSnapshot&&(e.type!==iS.IncrementalSnapshot||e.data.source!==ik.Mutation)&&iN.forEach(e=>e.unfreeze()),W)S([n,"optionalCall",t=>t(Z(e),s)]);else if(H){let t={type:"rrweb",event:Z(e),origin:window.location.origin,isCheckout:s};window.parent.postMessage(t,"*")}if(e.type===iS.FullSnapshot)t=e,K=0;else if(e.type===iS.IncrementalSnapshot){if(e.data.source===ik.Mutation&&e.data.isAttachIframe)return;K++;let n=i&&K>=i,s=r&&t&&e.timestamp-t.timestamp>r;(n||s)&&ei(!0)}};let J=e=>{_({type:iS.IncrementalSnapshot,data:{source:ik.Mutation,...e}})},X=e=>_({type:iS.IncrementalSnapshot,data:{source:ik.Scroll,...e}}),Y=e=>_({type:iS.IncrementalSnapshot,data:{source:ik.CanvasMutation,...e}}),Q=new i0({mutationCb:J,adoptedStyleSheetCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.AdoptedStyleSheet,...e}})}),ee="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new iZ:new iJ({mirror:i2,mutationCb:J,stylesheetManager:Q,recordCrossOriginIframes:P,wrappedEmit:_});for(let e of U||[])e.getMirror&&e.getMirror({nodeMirror:i2,crossOriginIframeMirror:ee.crossOriginIframeMirror,crossOriginIframeStyleMirror:ee.crossOriginIframeStyleMirror});let et=new i1,en=function(e,t){try{return e?e(t):new iQ}catch(e){return console.warn("Unable to initialize CanvasManager"),new iQ}}(V,{mirror:i2,win:window,mutationCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.CanvasMutation,...e}}),recordCanvas:R,blockClass:s,blockSelector:a,unblockSelector:o,maxCanvasSize:I,sampling:x.canvas,dataURLOptions:A,errorHandler:z}),er="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new iX:new iY({mutationCb:J,scrollCb:X,bypassOptions:{onMutation:$,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:g,maskInputOptions:q,dataURLOptions:A,maskAttributeFn:k,maskTextFn:T,maskInputFn:E,recordCanvas:R,inlineImages:F,sampling:x,slimDOMOptions:G,iframeManager:ee,stylesheetManager:Q,canvasManager:en,keepIframeSrcFn:j,processedNodeManager:et},mirror:i2}),ei=(e=!1)=>{if(!O)return;_({type:iS.Meta,data:{href:window.location.href,width:io(),height:ia()}},e),Q.reset(),er.init(),iN.forEach(e=>e.lock());let t=function(e,t){let{mirror:n=new rC,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:a=!1,maskTextClass:o="rr-mask",unmaskTextClass:l=null,maskTextSelector:u=null,unmaskTextSelector:c=null,inlineStylesheet:d=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:f=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:I=()=>!1}=t||{};return r4(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:a,maskTextClass:o,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:c,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:h,recordCanvas:p,preserveWhiteSpace:b,onSerialize:w,onIframeLoad:S,iframeLoadTimeout:k,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:I,newlyAddedElement:!1})}(document,{mirror:i2,blockClass:s,blockSelector:a,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:g,maskAllInputs:q,maskAttributeFn:k,maskInputFn:E,maskTextFn:T,slimDOM:G,dataURLOptions:A,recordCanvas:R,inlineImages:F,onSerialize:e=>{ih(e,i2)&&ee.addIframe(e),ip(e,i2)&&Q.trackLinkElement(e),ig(e)&&er.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{ee.attachIframe(e,t),e.contentWindow&&en.addWindow(e.contentWindow),er.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{Q.attachLinkElement(e,t)},keepIframeSrcFn:j});if(!t)return console.warn("Failed to snapshot the document");_({type:iS.FullSnapshot,data:{node:t,initialOffset:is(window)}}),iN.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Q.adoptStyleSheets(document.adoptedStyleSheets,i2.getId(document))};b=ei;try{let e=[],t=e=>iP(iW)({onMutation:$,mutationCb:J,mousemoveCb:(e,t)=>_({type:iS.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.MouseInteraction,...e}}),scrollCb:X,viewportResizeCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.ViewportResize,...e}}),inputCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.Input,...e}}),mediaInteractionCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.MediaInteraction,...e}}),styleSheetRuleCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.StyleSheetRule,...e}}),styleDeclarationCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.StyleDeclaration,...e}}),canvasMutationCb:Y,fontCb:e=>_({type:iS.IncrementalSnapshot,data:{source:ik.Font,...e}}),selectionCb:e=>{_({type:iS.IncrementalSnapshot,data:{source:ik.Selection,...e}})},customElementCb:e=>{_({type:iS.IncrementalSnapshot,data:{source:ik.CustomElement,...e}})},blockClass:s,ignoreClass:l,ignoreSelector:u,maskAllText:c,maskTextClass:d,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:q,inlineStylesheet:g,sampling:x,recordDOM:O,recordCanvas:R,inlineImages:F,userTriggeredOnInput:N,collectFonts:L,doc:e,maskAttributeFn:k,maskInputFn:E,maskTextFn:T,keepIframeSrcFn:j,blockSelector:a,unblockSelector:o,slimDOMOptions:G,dataURLOptions:A,mirror:i2,iframeManager:ee,stylesheetManager:Q,shadowDomManager:er,processedNodeManager:et,canvasManager:en,ignoreCSSAttributes:B,plugins:S([U,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>_({type:iS.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});ee.addLoadListener(n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}});let n=()=>{ei(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(r7("DOMContentLoaded",()=>{_({type:iS.DomContentLoaded,data:{}}),"DOMContentLoaded"===D&&n()})),e.push(r7("load",()=>{_({type:iS.Load,data:{}}),"load"===D&&n()},window))),()=>{e.forEach(e=>e()),et.destroy(),b=void 0,y=void 0}}catch(e){console.warn(e)}}function i5(e){return e>0x2540be3ff?e:1e3*e}function i6(e){return e>0x2540be3ff?e/1e3:e}function i4(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:iS.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:(0,eg.S8)(t,10,1e3)}}),"console"===t.category)))}function i8(e){return e.closest("button,a")||e}function i7(e){let t=i9(e);return t&&t instanceof Element?i8(t):t}function i9(e){var t;return"object"==typeof(t=e)&&t&&"target"in t?e.target:e}i3.mirror=i2,i3.takeFullSnapshot=function(e){if(!b)throw Error("please take full snapshot after start recording");b(e)};let se=new Set([ik.Mutation,ik.StyleSheetRule,ik.StyleDeclaration,ik.AdoptedStyleSheet,ik.CanvasMutation,ik.Selection,ik.MediaInteraction]);class st{constructor(e,t,n=i4){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scrollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){var e;let t=(e=()=>{this._lastMutation=sr()},w||(w=[],(0,$.GS)(ry,"open",function(e){return function(...t){if(w)try{w.forEach(e=>e())}catch(e){}return e.apply(ry,t)}})),w.push(e),()=>{let t=w?w.indexOf(e):-1;t>-1&&w.splice(t,1)});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){var n,r,i;if(n=t,r=this._ignoreSelector,!sn.includes(n.tagName)||"INPUT"===n.tagName&&!["submit","button"].includes(n.getAttribute("type")||"")||"A"===n.tagName&&(n.hasAttribute("download")||n.hasAttribute("target")&&"_self"!==n.getAttribute("target"))||r&&n.matches(r)||!((i=e).data&&"number"==typeof i.data.nodeId&&i.timestamp))return;let s={timestamp:i6(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};!this._clicks.some(e=>e.node===s.node&&1>Math.abs(e.timestamp-s.timestamp))&&(this._clicks.push(s),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=i6(e)}registerScroll(e=Date.now()){this._lastScroll=i6(e)}registerClick(e){let t=i8(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++})}_getClicks(e){return this._clicks.filter(t=>t.node===e)}_checkClicks(){let e=[],t=sr();for(let n of(this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}),e)){let e=this._clicks.indexOf(n);e>-1&&(this._generateBreadcrumbs(n),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){let t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scrollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,{clickCount:i,clickBreadcrumb:s}=e;if(!n&&!r){let n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",a={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.slowClickDetected",data:{...s.data,url:ry.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,a);return}if(i>1){let e={type:"default",message:s.message,timestamp:s.timestamp,category:"ui.multiClick",data:{...s.data,url:ry.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=tS(()=>this._checkClicks(),1e3)}}let sn=["A","BUTTON","INPUT"];function sr(){return Date.now()/1e3}function si(e){return{timestamp:Date.now()/1e3,type:"default",...e}}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(I||(I={}));let ss=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]),sa=e=>t=>{if(!e.isEnabled())return;let n=function(e){let{target:t,message:n}=function(e){let t;let n="click"===e.name,r=null;try{r=n?i7(e.event):i9(e.event),t=(0,eJ.Hd)(r,{maxStringLength:200})||"<unknown>"}catch(e){t="<unknown>"}return{target:r,message:t}}(e);return si({category:`ui.${e.name}`,...so(t,n)})}(t);if(!n)return;let r="click"===t.name,i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,i7(t.event)),i4(e,n)};function so(e,t){let n=i3.mirror.getId(e),r=n&&i3.mirror.getNode(n),i=r&&i3.mirror.getMeta(r),s=i&&i.type===I.Element?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(e=>e.type===I.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:function(e){let t={};for(let n in!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]),e)if(ss.has(n)){let r=n;("data-testid"===n||"data-test-id"===n)&&(r="testId"),t[r]=e[n]}return t}(s.attributes)}}:{}}}let sl={resource:function(e){let{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:a,encodedBodySize:o,responseStatus:l,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:sd(s),end:sd(i),name:r,data:{size:u,statusCode:l,decodedBodySize:a,encodedBodySize:o}}},paint:function(e){let{duration:t,entryType:n,name:r,startTime:i}=e,s=sd(i);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){let{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:a,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,domInteractive:u,loadEventStart:c,loadEventEnd:d,redirectCount:h,startTime:p,transferSize:f,type:g}=e;return 0===i?null:{type:`${t}.${g}`,start:sd(p),end:sd(s),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:o,domContentLoadedEventEnd:l,loadEventStart:c,loadEventEnd:d,domComplete:s,redirectCount:h}}}};function su(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function sc(e){let t=sl[e.entryType];return t?t(e):null}function sd(e){return((er.k3||ry.performance.timeOrigin)+e)/1e3}function sh(e){let t=e.entries[e.entries.length-1];return sm(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0)}function sp(e){let t=[],n=[];for(let r of e.entries)if(void 0!==r.sources){let e=[];for(let t of r.sources)if(t.node){n.push(t.node);let r=i3.mirror.getId(t.node);r&&e.push(r)}t.push({value:r.value,nodeIds:e.length?e:void 0})}return sm(e,"cumulative-layout-shift",n,t)}function sf(e){let t=e.entries[e.entries.length-1];return sm(e,"first-input-delay",t&&t.target?[t.target]:void 0)}function sg(e){let t=e.entries[e.entries.length-1];return sm(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0)}function sm(e,t,n,r){let i=e.value,s=e.rating,a=sd(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:s,nodeIds:n?n.map(e=>i3.mirror.getId(e)):void 0,attributions:r}}}let sv=["info","warn","error","log"];(function(){let e=!1,t=!1,n={exception:()=>void 0,infoTick:()=>void 0,setConfig:e=>{e.captureExceptions,e.traceInternals}};sv.forEach(e=>{n[e]=()=>void 0})})();class sy extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class s_{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){let t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>2e7)throw new sy;this.events.push(e)}finish(){return new Promise(e=>{let t=this.events;this.clear(),e(JSON.stringify(t))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){let e=this.events.map(e=>e.timestamp).sort()[0];return e?i5(e):null}}class sb{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t()},{once:!0}),this._worker.addEventListener("error",e=>{t(e)},{once:!0})})),this._ensureReadyPromise}destroy(){this._worker.terminate()}postMessage(e,t){let n=this._getAndIncrementId();return new Promise((r,i)=>{let s=({data:t})=>{if(t.method===e&&t.id===n){if(this._worker.removeEventListener("message",s),!t.success){i(Error("Error in compression worker"));return}r(t.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})})}_getAndIncrementId(){return this._id++}}class sw{constructor(e){this._worker=new sb(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){let t=i5(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);let n=JSON.stringify(e);return(this._totalSize+=n.length,this._totalSize>2e7)?Promise.reject(new sy):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){let e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class sS{constructor(e){this._fallback=new s_,this._compression=new sw(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}set waitForCheckout(e){this._used.waitForCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){let{events:e,hasCheckout:t,waitForCheckout:n}=this._fallback,r=[];for(let t of e)r.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._compression.waitForCheckout=n,this._used=this._compression;try{await Promise.all(r),this._fallback.clear()}catch(e){}}}function sk(){try{return"sessionStorage"in ry&&!!ry.sessionStorage}catch(e){return!1}}function sE(e){return void 0!==e&&Math.random()<e}function sT(e){let t=Date.now(),n=e.id||(0,L.eJ)(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:e.sampled,previousSessionId:e.previousSessionId}}function sI(e){if(sk())try{ry.sessionStorage.setItem(r_,JSON.stringify(e))}catch(e){}}function sC({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){let i=sT({sampled:sE(e)?"session":!!t&&"buffer",previousSessionId:r});return n&&sI(i),i}function sx(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function sA(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return sx(e.started,t,r)||sx(e.lastActivity,n,r)}function sM(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!sA(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function sO({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){let i=r.stickySession&&function(){if(!sk())return null;try{let e=ry.sessionStorage.getItem(r_);if(!e)return null;let t=JSON.parse(e);return sT(t)}catch(e){return null}}();return i?sM(i,{sessionIdleExpire:e,maxReplayDuration:t})?sC(r,{previousSessionId:i.id}):i:sC(r,{previousSessionId:n})}function sR(e,t,n){return!!sD(e,t)&&(sP(e,t,n),!0)}async function sP(e,t,n){let{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;let i="buffer"===e.recordingMode;try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);let s=e.getOptions(),a=function(e,t){try{if("function"==typeof t&&e.type===iS.Custom)return t(e)}catch(e){return null}return e}(t,s.beforeAddRecordingEvent);if(!a)return;return await r.addEvent(a)}catch(s){let t=s&&s instanceof sy;if(t&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:t?"addEventSizeExceeded":"addEvent"});let n=(0,z.KU)();n&&n.recordDroppedEvent("internal_sdk_error","replay")}}function sD(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;let n=i5(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)}function sN(e){return"transaction"===e.type}function sL(e){return"feedback"===e.type}function sF(e){return!!e.category}function sU(){let e=(0,z.o5)().getPropagationContext().dsc;e&&delete e.replay_id;let t=(0,ec.Bk)();if(t){let e=(0,et.k1)(t);delete e.replay_id}}function sj(e,t){return t.map(({type:t,start:n,end:r,name:i,data:s})=>{let a=e.throttledAddEvent({type:iS.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:s}}});return"string"==typeof a?Promise.resolve(null):a})}function sB(e,t){if(e.isEnabled()&&null!==t)!function(e,t){var n,r,i,s;let a=t&&t.getDsn(),o=t&&t.getOptions().tunnel;return n=e,!!(r=a)&&n.includes(r.host)||(i=e,!!(s=o)&&rg(i)===rg(s))}(t.name,(0,z.KU)())&&e.addUpdate(()=>(sj(e,[t]),!0))}function sz(e){if(!e)return;let t=new TextEncoder;try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){let n=sZ(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function s$(e){if(!e)return;let t=parseInt(e,10);return isNaN(t)?void 0:t}function sV(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[sZ(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}function sW(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};let n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function sH(e,t){if(!t)return null;let{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:a,request:o,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:(0,$.Ce)({method:s,statusCode:a,request:o,response:l})}}function sq(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function sG(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};let r={headers:e,size:t},{body:i,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};let t=e.length>15e4,n=function(e){let t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){let t=e.slice(0,15e4);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function sK(e,t){return Object.entries(e).reduce((n,[r,i])=>{let s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function sZ(e){return new URLSearchParams(e).toString()}function sJ(e,t){let n=function(e,t=ry.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ry.location.origin))return e;let n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;let r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}(e);return(0,F.Xr)(n,t)}async function sX(e,t,n){try{let r=await sY(e,t,n),i=sH("resource.fetch",r);sB(n.replay,i)}catch(e){}}async function sY(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:a,method:o,status_code:l=0,request_body_size:u,response_body_size:c}=e.data,d=sJ(a,n.networkDetailAllowUrls)&&!sJ(a,n.networkDetailDenyUrls);return{startTimestamp:i,endTimestamp:s,url:a,method:o,statusCode:l,request:d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){var i,s;let a=n?(i=n,s=t,1===i.length&&"string"!=typeof i[0]?s3(i[0],s):2===i.length?s3(i[1],s):{}):{};if(!e)return sG(a,r,void 0);let[o,l]=sV(s1(n)),u=sG(a,r,o);return l?sW(u,l):u}(n,t.input,u):sq(u),response:await sQ(d,n,t.response,c)}}async function sQ(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return sq(i);let s=r?s2(r.headers,n):{};if(!r||!t&&void 0!==i)return sG(s,i,void 0);let[a,o]=await s0(r),l=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{let s=e&&e.length&&void 0===n?sz(e):n;if(!r)return sq(s);if(t)return sG(i,s,e);return sG(i,s,void 0)}catch(e){return sG(i,n,void 0)}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return o?sW(l,o):l}async function s0(e){let t=function(e){try{return e.clone()}catch(e){}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{var n;return[await (n=t,new Promise((e,t)=>{let r=tS(()=>t(Error("Timeout while trying to read response body")),500);s5(n).then(t=>e(t),e=>t(e)).finally(()=>clearTimeout(r))}))]}catch(e){if(e instanceof Error&&e.message.indexOf("Timeout")>-1)return[void 0,"BODY_PARSE_TIMEOUT"];return[void 0,"BODY_PARSE_ERROR"]}}function s1(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function s2(e,t){let n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t))}),n}function s3(e,t){if(!e)return{};let n=e.headers;return n?n instanceof Headers?s2(n,t):Array.isArray(n)?{}:sK(n,t):{}}async function s5(e){return await e.text()}async function s6(e,t,n){try{let r=function(e,t,n){let r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:a,xhr:o}=t,{url:l,method:u,status_code:c=0,request_body_size:d,response_body_size:h}=e.data;if(!l)return null;if(!o||!sJ(l,n.networkDetailAllowUrls)||sJ(l,n.networkDetailDenyUrls)){let e=sq(d);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:c,request:e,response:sq(h)}}let p=o[eL],f=p?sK(p.request_headers,n.networkRequestHeaders):{},g=sK(function(e){let t=e.getAllResponseHeaders();return t?t.split("\r\n").reduce((e,t)=>{let[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e},{}):{}}(o),n.networkResponseHeaders),[m,v]=n.networkCaptureBodies?sV(a):[void 0],[y,_]=n.networkCaptureBodies?function(e){let t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(e){return[void 0,"BODY_PARSE_ERROR"]}return[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return[void 0]}(o):[void 0],b=sG(f,d,m),w=sG(g,h,y);return{startTimestamp:i,endTimestamp:s,url:l,method:u,statusCode:c,request:v?sW(b,v):b,response:_?sW(w,_):w}}(e,t,n),i=sH("resource.xhr",r);sB(n.replay,i)}catch(e){}}async function s4(e){try{return Promise.all(sj(e,[function(e){let{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}(ry.performance.memory)]))}catch(e){return[]}}let s8=C.O.navigator;async function s7({client:e,scope:t,replayId:n,event:r}){let i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);let s=await (0,eu.mG)(e.getOptions(),r,i,t,e,(0,z.rm)());if(!s)return null;s.platform=s.platform||"javascript";let a=e.getSdkMetadata(),{name:o,version:l}=a&&a.sdk||{};return s.sdk={...s.sdk,name:o||"sentry.javascript.unknown",version:l||"0.0.0"},s}async function s9({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){var a;let o;let l=function({recordingData:e,headers:t}){let n;let r=`${JSON.stringify(t)}
`;if("string"==typeof e)n=`${r}${e}`;else{let t=new TextEncoder().encode(r);(n=new Uint8Array(t.length+e.length)).set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:u,errorIds:c,traceIds:d,initialTimestamp:h}=r,p=(0,z.KU)(),f=(0,z.o5)(),g=p&&p.getTransport(),m=p&&p.getDsn();if(!p||!g||!m||!s.sampled)return(0,eo.XW)({});let v={type:"replay_event",replay_start_timestamp:h/1e3,timestamp:i/1e3,error_ids:c,trace_ids:d,urls:u,replay_id:t,segment_id:n,replay_type:s.sampled},y=await s7({scope:f,client:p,replayId:t,event:v});if(!y)return p.recordDroppedEvent("event_processor","replay",v),(0,eo.XW)({});delete y.sdkProcessingMetadata;let _=(a=p.getOptions().tunnel,(0,en.h4)((0,en.n2)(y,(0,en.Cj)(y),a,m),[[{type:"replay_event"},y],[{type:"replay_recording",length:"string"==typeof l?new TextEncoder().encode(l).length:l.length},l]]));try{o=await g.send(_)}catch(t){let e=Error(rb);try{e.cause=t}catch(e){}throw e}if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new ae(o.statusCode);let b=tE({},o);if(tk(b,"replay"))throw new at(b);return o}class ae extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class at extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function an(e,t={count:0,interval:5e3}){let{recordingData:n,onError:r}=e;if(n.length)try{return await s9(e),!0}catch(n){if(n instanceof ae||n instanceof at)throw n;if((0,M.o)("Replays",{_retryCount:t.count}),r&&r(n),t.count>=3){let e=Error(`${rb} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise((n,r)=>{tS(async()=>{try{await an(e,t),n(!0)}catch(e){r(e)}},t.interval)})}}let ar="__THROTTLED";class ai{constructor({options:e,recordingOptions:t}){ai.prototype.__init.call(this),ai.prototype.__init2.call(this),ai.prototype.__init3.call(this),ai.prototype.__init4.call(this),ai.prototype.__init5.call(this),ai.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,i,s;let a=n&&n.maxWait?Math.max(n.maxWait,t):0;function o(){return l(),r=e()}function l(){void 0!==i&&clearTimeout(i),void 0!==s&&clearTimeout(s),i=s=void 0}function u(){return i&&clearTimeout(i),i=tS(o,t),a&&void 0===s&&(s=tS(o,a)),r}return u.cancel=l,u.flush=function(){return void 0!==i||void 0!==s?o():r},u}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=function(e,t,n){let r=new Map,i=e=>{let t=e-5;r.forEach((e,n)=>{n<t&&r.delete(n)})},s=()=>[...r.values()].reduce((e,t)=>e+t,0),a=!1;return(...t)=>{let n=Math.floor(Date.now()/1e3);if(i(n),s()>=300){let e=a;return a=!0,e?"__SKIPPED":ar}a=!1;let o=r.get(n)||0;return r.set(n,o+1),e(...t)}}((e,t)=>(function(e,t,n){return sD(e,t)?sP(e,t,n):Promise.resolve(null)})(this,e,t),0,0);let{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;i&&(this.clickDetector=new st(this,i))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(e){this._options.onError&&this._options.onError(e)}initializeSampling(e){let{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;if(this._requiresManualStart=r,!r&&(this._initializeSessionForSampling(e),this.session))!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",this._initializeRecording())}start(){if(this._isEnabled&&"session"===this.recordingMode||this._isEnabled&&"buffer"===this.recordingMode)return;this._updateUserActivity();let e=sO({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)return;let e=sO({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{var e;let t;let n=this._canvas;this._stopRecording=i3({...this._recordingOptions,..."buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:(e=this,t=!1,(n,r)=>{if(!e.checkAndHandleExpiredSession())return;let i=r||!t;t=!0,e.clickDetector&&function(e,t){try{var n;if(n=t,3!==n.type)return;let{source:r}=t.data;if(se.has(r)&&e.registerMutation(t.timestamp),r===ik.Scroll&&e.registerScroll(t.timestamp),t.data.source===ik.MouseInteraction){let{type:n,id:r}=t.data,i=i3.mirror.getNode(r);i instanceof HTMLElement&&n===iE.Click&&e.registerClick(i)}}catch(e){}}(e.clickDetector,n),e.addUpdate(()=>{var t;if("buffer"===e.recordingMode&&i&&e.setInitialState(),!sR(e,n,i))return!0;if(!i)return!1;let r=e.session;if(t=e,!i||!t.session||0!==t.session.segmentId||sR(t,function(e){let t=e.getOptions();return{type:iS.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(t),!1),"buffer"===e.recordingMode&&r&&e.eventBuffer){let t=e.eventBuffer.getEarliestTimestamp();t&&(r.started=t,e.getOptions().stickySession&&sI(r))}return!!r&&!!r.previousSessionId||("session"===e.recordingMode&&e.flush(),!0)})}),.../iPhone|iPad|iPod/i.test(s8&&s8.userAgent||"")||/Macintosh/i.test(s8&&s8.userAgent||"")&&s8&&s8.maxTouchPoints&&s8.maxTouchPoints>1?{sampling:{mousemove:!1}}:{},onMutation:this._onMutationHandler,...n?{recordCanvas:n.recordCanvas,getCanvasManager:n.getCanvasManager,sampling:n.sampling,dataURLOptions:n.dataURLOptions}:{}})}catch(e){this.handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this.handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{sU(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,function(){if(sk())try{ry.sessionStorage.removeItem(r_)}catch(e){}}(),this.session=void 0}catch(e){this.handleException(e)}}}pause(){!this._isPaused&&(this._isPaused=!0,this.stopRecording())}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording())}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();let t=Date.now();await this.flushImmediate();let n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){let t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&sx(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled){this.pause();return}return!!this._checkSession()}setInitialState(){let e=`${ry.location.pathname}${ry.location.hash}${ry.location.search}`,t=`${ry.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){let n=this._throttledAddEvent(e,t);if(n===ar){let e=si({category:"replay.throttled"});this.addUpdate(()=>!sR(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}}))}return n}getCurrentRoute(){let e=this.lastActiveSpan||(0,ec.Bk)(),t=e&&(0,ec.zU)(e),n=(t&&(0,ec.et)(t).data||{})[tM.i_];if(t&&n&&["route","custom"].includes(n))return(0,ec.et)(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=function({useCompression:e,workerUrl:t}){if(e&&window.Worker){let e=function(e){try{let t=e||("undefined"!=typeof __SENTRY_EXCLUDE_REPLAY_WORKER__&&__SENTRY_EXCLUDE_REPLAY_WORKER__?"":function(){let e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=A(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},U=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=x(f,15),M=b.t,E=b.l,A=x(h,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=C[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(a[t]^a[t+1]<<A^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=U(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=U(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(J)return J.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),a=0,s=function(t){i[a++]=t},o=0;o<e;++o){if(a+5>i.length){var f=new t(a+8+(e-o<<1));f.set(i),i=f}var h=n.charCodeAt(o);h<128||r?s(h):h<2048?(s(192|h>>6),s(128|63&h)):h>55295&&h<57344?(s(240|(h=65536+(1047552&h)|1023&n.charCodeAt(++o))>>18),s(128|h>>12&63),s(128|h>>6&63),s(128|63&h)):(s(224|h>>12),s(128|h>>6&63),s(128|63&h))}return b(i,0,a)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}());if(!t)return;let n=new Worker(t);return new sS(n)}catch(e){}}(t);if(e)return e}return new s_}({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(e){let t=this._options.errorSampleRate>0,n=sO({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;let e=this.session;return!sM(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{ry.document.addEventListener("visibilitychange",this._handleVisibilityChange),ry.addEventListener("blur",this._handleWindowBlur),ry.addEventListener("focus",this._handleWindowFocus),ry.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(function(e){let t=(0,z.KU)();eP(sa(e)),eB(t=>{if(!e.isEnabled())return;let n=function(e){let{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(sj(e,[n]),!1)))}),function(e){let t=(0,z.KU)();t&&t.on("beforeAddBreadcrumb",t=>(function(e,t){var n;if(!e.isEnabled()||!sF(t))return;let r=(n=t,!sF(n)||["fetch","xhr","sentry.event","sentry.transaction"].includes(n.category)||n.category.startsWith("ui.")?null:"console"===n.category?function(e){let t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return si(e);let n=!1,r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>5e3?(n=!0,`${e.slice(0,5e3)}…`):e;if("object"==typeof e)try{let t=(0,eg.S8)(e,7);if(JSON.stringify(t).length>5e3)return n=!0,`${JSON.stringify(t,null,2).slice(0,5e3)}…`;return t}catch(e){}return e});return si({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(n):si(n));r&&i4(e,r)})(e,t))}(e),function(e){let t=(0,z.KU)();try{let{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a}=e.getOptions(),o={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:a};t&&t.on("beforeAddBreadcrumb",(e,t)=>(function(e,t,n){if(t.data)try{var r,i,s,a;r=t,"xhr"===r.category&&(i=n)&&i.xhr&&(function(e,t){let{xhr:n,input:r}=t;if(!n)return;let i=sz(r),s=n.getResponseHeader("content-length")?s$(n.getResponseHeader("content-length")):function(e,t){try{let n="json"===t&&e&&"object"==typeof e?JSON.stringify(e):e;return sz(n)}catch(e){return}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n),s6(t,n,e)),s=t,"fetch"===s.category&&(a=n)&&a.response&&(function(e,t){let{input:n,response:r}=t,i=sz(n?s1(n):void 0),s=r?s$(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==s&&(e.data.response_body_size=s)}(t,n),sX(t,n,e))}catch(e){}})(o,e,t))}catch(e){}}(e);let n=Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:"replay_event"===t.type?(delete t.breadcrumbs,t):!t.type||sN(t)||sL(t)?e.checkAndHandleExpiredSession()?sL(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:iS.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)),t):!t.type&&t.exception&&t.exception.values&&t.exception.values.length&&n.originalException&&n.originalException.__rrweb__&&!e.getOptions()._experiments.captureExceptions?null:(("buffer"===e.recordingMode&&t.message!==rb&&t.exception&&!t.type&&sE(e.getOptions().errorSampleRate)||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(sU(),t):t,{id:"Replay"});(0,M.SA)(n),t&&(t.on("beforeSendEvent",t=>{e.isEnabled()&&!t.type&&function(e,t){let n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;"string"==typeof n&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))&&i4(e,si({category:"replay.hydrate-error",data:{url:(0,eJ.$N)()}}))}(e,t)}),t.on("afterSendEvent",(t,n)=>{if(!e.isEnabled()||t.type&&!sN(t))return;let r=n&&n.statusCode;if(r&&!(r<200)&&!(r>=300)){if(sN(t)){(function(e,t){let n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)})(e,t);return}(function(e,t){let n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),"buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;let{beforeErrorSampling:r}=e.getOptions();("function"!=typeof r||r(t))&&tS(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(t){e.handleException(t)}})})(e,t)}}),t.on("createDsc",t=>{let n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)}),t.on("spanStart",t=>{e.lastActiveSpan=t}),t.on("spanEnd",t=>{e.lastActiveSpan=t}),t.on("beforeSendFeedback",(t,n)=>{let r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)}))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this.handleException(e)}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}let r=[];return["navigation","paint","resource"].forEach(e=>{r.push(nv(e,n))}),r.push(nf(su(sh,e)),np(su(sp,e)),ng(su(sf,e)),nm(su(sg,e))),()=>{r.forEach(e=>e())}}(this)}_removeListeners(){try{ry.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ry.removeEventListener("blur",this._handleWindowBlur),ry.removeEventListener("focus",this._handleWindowFocus),ry.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this.handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===ry.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{let e=si({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{let e=si({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{!function(e,t){if(!e.isEnabled())return;e.updateUserActivity();let n=function(e){var t;let{metaKey:n,shiftKey:r,ctrlKey:i,altKey:s,key:a,target:o}=e;if(!o||"INPUT"===(t=o).tagName||"TEXTAREA"===t.tagName||t.isContentEditable||!a)return null;let l=n||i||s,u=1===a.length;if(!l&&u)return null;let c=(0,eJ.Hd)(o,{maxStringLength:200})||"<unknown>",d=so(o,c);return si({category:"ui.keyDown",message:c,data:{...d.data,metaKey:n,shiftKey:r,ctrlKey:i,altKey:s,key:a}})}(t);n&&i4(e,n)}(this,e)}}_doChangeToBackgroundTasks(e){!(!this.session||sA(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire}))&&(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(this.session)this.checkAndHandleExpiredSession()&&e&&this._createCustomBreadcrumb(e)}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:iS.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})})}_addPerformanceEntries(){let e=this.performanceEntries.map(sc).filter(Boolean).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){let t=this._context.initialTimestamp/1e3;e=e.filter(e=>e.start>=t)}return Promise.all(sj(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){let{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart||e.segmentId)return;let n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){let e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){let e=this.getSessionId();if(this.session&&this.eventBuffer&&e&&(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents)){if(await s4(this),this.eventBuffer&&e===this.getSessionId())try{this._updateInitialTimestampFromEventBuffer();let t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw Error("Session is too long, not sending replay");let n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();let i=await this.eventBuffer.finish();await an({replayId:e,recordingData:i,segmentId:r,eventContext:n,session:this.session,timestamp:t,onError:e=>this.handleException(e)})}catch(t){this.handleException(t),this.stop({reason:"sendReplay"});let e=(0,z.KU)();e&&e.recordDroppedEvent(t instanceof at?"ratelimit_backoff":"send_error","replay")}}}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e||!this.checkAndHandleExpiredSession()||!this.session)return;let t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();let r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i){r&&this._debouncedFlush();return}let s=this.eventBuffer;s&&0===this.session.segmentId&&s.hasCheckout;let a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(e){this.handleException(e)}finally{this._flushLock=void 0,a&&this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&sI(this.session)}__init6(){this._onMutationHandler=e=>{let t=e.length,n=this._options.mutationLimit,r=this._options.mutationBreadcrumbLimit,i=n&&t>n;if(t>r||i){let e=si({category:"replay.mutations",data:{count:t,limit:i}});this._createCustomBreadcrumb(e)}return!i||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function as(e,t){return[...e,...t].join(",")}let aa='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',ao=["content-length","content-type","accept"],al=!1;class au{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:s=!0,workerUrl:a,_experiments:o={},maskAllText:l=!0,maskAllInputs:u=!0,blockAllMedia:c=!0,mutationBreadcrumbLimit:d=750,mutationLimit:h=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:f=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:m=[],networkCaptureBodies:v=!0,networkRequestHeaders:y=[],networkResponseHeaders:_=[],mask:b=[],maskAttributes:w=["title","placeholder"],unmask:S=[],block:k=[],unblock:E=[],ignore:T=[],maskFn:I,beforeAddRecordingEvent:C,beforeErrorSampling:x,onError:A}={}){this.name=au.id;let M=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:as(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:as(t,[]),blockSelector:as(n,[".sentry-block","[data-sentry-block]","base","iframe[srcdoc]:not([src])"]),unblockSelector:as(r,[]),ignoreSelector:as(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}({mask:b,unmask:S,block:k,unblock:E,ignore:T});if(this._recordingOptions={maskAllInputs:u,maskAllText:l,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>(function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s})({maskAttributes:w,maskAllText:l,privacyOptions:M,key:e,value:t,el:n}),...M,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,36e5),stickySession:i,useCompression:s,workerUrl:a,blockAllMedia:c,maskAllInputs:u,maskAllText:l,mutationBreadcrumbLimit:d,mutationLimit:h,slowClickTimeout:p,slowClickIgnoreSelectors:f,networkDetailAllowUrls:g,networkDetailDenyUrls:m,networkCaptureBodies:v,networkRequestHeaders:ac(y),networkResponseHeaders:ac(_),beforeAddRecordingEvent:C,beforeErrorSampling:x,onError:A,_experiments:o},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${aa}`:aa),this._isInitialized&&rv())throw Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return al}set _isInitialized(e){al=e}afterAllSetup(e){rv()&&!this._replay&&(this._setup(e),this._initialize(e))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}getRecordingMode(){if(this._replay&&this._replay.isEnabled())return this._replay.recordingMode}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling())}_setup(e){let t=function(e,t){let n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...(0,$.Ce)(e)},i=(0,el.i)(n.replaysSessionSampleRate),s=(0,el.i)(n.replaysOnErrorSampleRate);return null==i&&null==s&&(0,R.pq)(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),null!=i&&(r.sessionSampleRate=i),null!=s&&(r.errorSampleRate=s),r}(this._initialOptions,e);this._replay=new ai({options:t,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(e){try{let t=e.getIntegrationByName("ReplayCanvas");if(!t)return;this._replay._canvas=t.getOptions()}catch(e){}}}function ac(e){return[...ao,...e.map(e=>e.toLowerCase())]}au.__initStatic(),globalThis._sentryRewritesTunnelPath="/monitoring",globalThis.SENTRY_RELEASE={id:"8634d9bccb6d99e99c592e330f2a38e312ea14f0"},globalThis._sentryBasePath=void 0,globalThis._sentryRewriteFramesAssetPrefixPath="",!function(e){let t={environment:function(e){let t=e?tA.env.NEXT_PUBLIC_VERCEL_ENV:tA.env.VERCEL_ENV;return t?`vercel-${t}`:void 0}(!0)||"production",defaultIntegrations:function(e){let t=tC(e);("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&t.push(function(e={}){let t=n9({...e,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:n=!0,instrumentNavigation:r=!0}=e;return{...t,afterAllSetup(e){var i;r&&function(e){if(ek.document.getElementById("__NEXT_DATA__"))rl.events.on("routeChangeStart",t=>{let n,r;let i=t.split(/[?#]/,1)[0],s=function(e){let t=(ek.__BUILD_MANIFEST||{}).sortedPages;if(t)return t.find(t=>{let n=function(e){let t=e.split("/"),n="";S([t,"access",e=>e[t.length-1],"optionalAccess",e=>e.match,"call",e=>e(/^\[\[\.\.\..+\]\]$/)])&&(t.pop(),n="(?:/(.+?))?");let r=t.map(e=>e.replace(/^\[\.\.\..+\]$/,"(.+?)").replace(/^\[.*\]$/,"([^/]+?)")).join("/");return RegExp(`^${r}${n}(?:/)?$`)}(t);return e.match(n)})}(i);s?(n=s,r="route"):(n=i,r="url"),rt(e,{name:n,attributes:{[tM.uT]:"navigation",[tM.JD]:"auto.navigation.nextjs.pages_router_instrumentation",[tM.i_]:r}})});else!function(e){let t;ek.addEventListener("popstate",()=>{t&&t.isRecording()?(t.updateName(ek.location.pathname),t.setAttribute(tM.i_,"url")):t=rt(e,{name:ek.location.pathname,attributes:{[tM.uT]:"navigation",[tM.JD]:"auto.navigation.nextjs.app_router_instrumentation",[tM.i_]:"url","navigation.type":"browser.popstate"}})});let n=!1,r=0,i=setInterval(()=>{var s;r++;let a=null!=(s=S([ri,"optionalAccess",e=>e.next,"optionalAccess",e=>e.router]))?s:S([ri,"optionalAccess",e=>e.nd,"optionalAccess",e=>e.router]);n||r>500?clearInterval(i):a&&(clearInterval(i),n=!0,["back","forward","push","replace"].forEach(n=>{S([a,"optionalAccess",e=>e[n]])&&(a[n]=new Proxy(a[n],{apply(r,i,s){let a=rt(e,{name:rr,attributes:{[tM.uT]:"navigation",[tM.JD]:"auto.navigation.nextjs.app_router_instrumentation",[tM.i_]:"url"}});return t=a,"push"===n?(S([a,"optionalAccess",e=>e.updateName,"call",e=>e(rs(s[0]))]),S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e(tM.i_,"url")]),S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e("navigation.type","router.push")])):"replace"===n?(S([a,"optionalAccess",e=>e.updateName,"call",e=>e(rs(s[0]))]),S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e(tM.i_,"url")]),S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e("navigation.type","router.replace")])):"back"===n?S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e("navigation.type","router.back")]):"forward"===n&&S([a,"optionalAccess",e=>e.setAttribute,"call",e=>e("navigation.type","router.forward")]),r.apply(i,s)}}))}))},20)}(e)}(e),t.afterAllSetup(e),n&&(i=e,ek.document.getElementById("__NEXT_DATA__")?function(e){let{route:t,params:n,sentryTrace:r,baggage:i}=function(){let e;let t=ek.document.getElementById("__NEXT_DATA__");if(t&&t.innerHTML)try{e=JSON.parse(t.innerHTML)}catch(e){ro.T&&R.vF.warn("Could not extract __NEXT_DATA__")}if(!e)return{};let n={},{page:r,query:i,props:s}=e;return n.route=r,n.params=i,s&&s.pageProps&&(n.sentryTrace=s.pageProps._sentryTraceData,n.baggage=s.pageProps._sentryBaggage),n}(),s=(0,nX.D0)(i),a=t||ek.location.pathname;s&&s["sentry-transaction"]&&"/_error"===a&&(a=(a=s["sentry-transaction"]).replace(/^(GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS|TRACE|CONNECT)\s+/i,"")),re(e,{name:a,startTime:er.k3?er.k3/1e3:void 0,attributes:{[tM.uT]:"pageload",[tM.JD]:"auto.pageload.nextjs.pages_router_instrumentation",[tM.i_]:t?"route":"url",...n&&e.getOptions().sendDefaultPii&&{...n}}},{sentryTrace:r,baggage:i})}(i):re(i,{name:ek.location.pathname,startTime:er.k3?er.k3/1e3:void 0,attributes:{[tM.uT]:"pageload",[tM.JD]:"auto.pageload.nextjs.app_router_instrumentation",[tM.i_]:"url"}}))}}}());let n=rf._sentryRewriteFramesAssetPrefixPath||"";return t.push(rp({assetPrefixPath:n})),t}(e),...e};(function(e){let t="/monitoring";if(t&&e.dsn){let n=(0,ei.hH)(e.dsn);if(!n)return;let r=n.host.match(/^o(\d+)\.ingest(?:\.([a-z]{2}))?\.sentry\.io$/);if(r){let i=r[1],s=r[2],a=`${t}?o=${i}&p=${n.projectId}`;s&&(a+=`&r=${s}`),e.tunnel=a,ro.T&&R.vF.info(`Tunneling events to "${a}"`)}else ro.T&&R.vF.warn("Provided DSN is not a Sentry SaaS DSN. Will not tunnel events.")}})(t),A(t,"nextjs",["nextjs","react"]),function(e){let t={...e};A(t,"react"),(0,M.o)("react",{version:tx.version}),function(e={}){let t=function(e={}){let t={defaultIntegrations:tC(e),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:ek.SENTRY_RELEASE&&ek.SENTRY_RELEASE.id?ek.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e}}(e);if(!t.skipBrowserExtensionCheck&&function(){let e=void 0!==ek.window&&ek;if(!e)return!1;let t=e.chrome?"chrome":"browser",n=e[t],r=n&&n.runtime&&n.runtime.id,i=ek.location&&ek.location.href||"",s=!!r&&ek===ek.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>i.startsWith(`${e}//`)),a=void 0!==e.nw;return!!r&&!s&&!a}()){(0,R.pq)(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")});return}(function(e,t){var n;!0===t.debug&&(O.T?R.vF.enable():(0,R.pq)(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),(0,z.o5)().update(t.initialScope);let r=new e(t);n=r,(0,z.o5)().setClient(n),r.init()})(eI,{...t,stackParser:(0,H.vk)(t.stackParser||ty),integrations:function(e){let t;let n=e.defaultIntegrations||[],r=e.integrations;if(n.forEach(e=>{e.isDefaultInstance=!0}),Array.isArray(r))t=[...n,...r];else if("function"==typeof r){let e=r(n);t=Array.isArray(e)?e:[e]}else t=n;let i=function(e){let t={};return e.forEach(e=>{let{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)}),Object.values(t)}(t),s=i.findIndex(e=>"Debug"===e.name);if(s>-1){let[e]=i.splice(s,1);i.push(e)}return i}(t),transport:t.transport||tI})}(t)}(t);let n=e=>"transaction"===e.type&&"/404"===e.transaction?null:e;n.id="NextClient404Filter",(0,M.SA)(n);let r=e=>"transaction"===e.type&&e.transaction===rr?null:e;r.id="IncompleteTransactionFilter",(0,M.SA)(r);let i=(e,t)=>{var n;return(n=S([t,"optionalAccess",e=>e.originalException]),(0,ea.bJ)(n)&&"string"==typeof n.digest&&n.digest.startsWith("NEXT_REDIRECT;"))?null:e};i.id="NextRedirectErrorFilter",(0,M.SA)(i)}({dsn:"https://417f30792e6d9704c1a0f487e1e965d6@o4507352690196480.ingest.us.sentry.io/4508638776393728",integrations:[new au(void 0)],tracesSampleRate:1,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,debug:!1})},7982:(e,t,n)=>{"use strict";n.d(t,{Go:()=>s,kg:()=>a});var r=n(3511);function i(e,t,n=function(){if("undefined"!=typeof WeakSet){let e=new WeakSet;return{hasAlreadyBeenSeen(t){let n=e.has(t);return n||e.add(t),n}}}let e=[];return{hasAlreadyBeenSeen(t){let n=e.indexOf(t)>=0;return n||e.push(t),n}}}()){if(void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let e=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,e)}if(n.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let r=Array.isArray(e)?e:[];for(let e=0;e<t.length;++e)r[e]=i(r[e],t[e],n);return r}let s="object"===(0,r.P)(e)?e:{};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=i(s[e],t[e],n));return s}function s(e){return i(void 0,e)}function a(...e){let t;for(let n of e)null!=n&&(t=i(t,n));return t}},7993:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(2670),i=n(9542);class s{constructor(e={}){this._traceId=e.traceId||(0,r.el)(),this._spanId=e.spanId||(0,r.ZF)()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:i.CC}}end(e){}setAttribute(e,t){return this}setAttributes(e){return this}setStatus(e){return this}updateName(e){return this}isRecording(){return!1}addEvent(e,t,n){return this}addLink(e){return this}addLinks(e){return this}recordException(e,t){}}},8005:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={home:"/",research:"/research/crossing_the_uncanny_valley_of_voice",team:"/team",demo:"/research/crossing_the_uncanny_valley_of_voice#demo",login:"/login",technical:"/research/crossing_the_uncanny_valley_of_voice#technical",contact:"mailto:info@sesame.com",careercontact:"mailto:careers@sesame.com",openRoles:"https://jobs.ashbyhq.com/sesame",linkedin:"https://www.linkedin.com/company/sesameai/",terms:"/terms",privacy:"/privacy",twitter:"https://x.com/sesame",researchRefs:{baseTTS:"https://arxiv.org/abs/2402.08093",ref1:"https://arxiv.org/abs/2306.12925",ref2:"https://arxiv.org/abs/2107.03312",ref3:"https://arxiv.org/abs/2306.05284",ref4:"https://arxiv.org/abs/2203.01941",ref5:"https://arxiv.org/abs/2410.00037",ref6:"https://arxiv.org/abs/2407.21783",expresso:"https://arxiv.org/abs/2308.05725",wav2vec2:"https://huggingface.co/facebook/wav2vec2-lv-60-espeak-cv-ft",github:"https://github.com/SesameAILabs/csm"}}},8032:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});let r="production"},8051:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});let r=!1},8178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=!(arguments.length>1)||void 0===arguments[1]||arguments[1],s=!(arguments.length>2)||void 0===arguments[2]||arguments[2],a=r||"";return i&&(a=r.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,r){return t>0&&t+e.length!==r.length&&e.search(n)>-1&&":"!==r.charAt(t-2)&&("-"!==r.charAt(t+e.length)||"-"===r.charAt(t-1))&&0>r.charAt(t-1).search(/[^\s-]/)?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})),s&&(a="string"==typeof(t=e=a)&&-1!==t.indexOf("@")?(console.warn("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e),a};var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i},8334:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkCore=void 0,n(3368);let i=n(3368),s=n(8847),a=n(1414),o=n(687),l=n(8621),u=n(5402),c=n(9235),d=n(9539),h=n(5158),p=n(111),f=n(6917),g=n(809),m=n(3096),v=new Set([408,500,502,503,504,522,524,599]);class y{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=1e4,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new l.NetworkFallbackResolver(this._options)}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){let e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){return r(this,void 0,void 0,function*(){if(!_(e))return!1;let t=this._getInternalRequestArgs("POST",e);yield this._tryToCompressBody(t);let n=yield this._getPopulatedURL(t),r=navigator;return r.sendBeacon.bind(r)(n,t.body)})}post(e){return r(this,void 0,void 0,function*(){let t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){let t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){var t,n,i,l;return r(this,void 0,void 0,function*(){var u,c,d,h,p;if(!_(e)||this._netConfig.preventAllNetworkTraffic)return null;let{method:g,body:y,retries:b,attempt:S}=e,k=e.urlConfig.endpoint;if(this._isRateLimited(k))return a.Log.warn(`Request to ${k} was blocked because you are making requests too frequently.`),null;let E=null!=S?S:1,T="undefined"!=typeof AbortController?new AbortController:null,I=setTimeout(()=>{null==T||T.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),C=yield this._getPopulatedURL(e),x=null,A=(0,m._isUnloading)();try{let n={method:g,body:y,headers:Object.assign({},e.headers),signal:null==T?void 0:T.signal,priority:e.priority,keepalive:A};u=e,c=E,u.urlConfig.endpoint===o.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqStart(u.sdkKey,{attempt:c});let r=this._leakyBucket[k];r&&(r.lastRequestTime=Date.now(),this._leakyBucket[k]=r);let i=null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch;if(x=yield i(C,n),clearTimeout(I),!x.ok){let e=yield x.text().catch(()=>"No Text"),t=Error(`NetworkError: ${C} ${e}`);throw t.name="NetworkError",t}let a=yield x.text();return w(e,x,E,a),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:a,code:x.status}}catch(o){let t=(d=T,h=o,(null==d?void 0:d.signal.aborted)&&"string"==typeof d.signal.reason?d.signal.reason:"string"==typeof h?h:h instanceof Error?`${h.name}: ${h.message}`:"Unknown Error"),s=(null==(p=T)?void 0:p.signal.aborted)&&"string"==typeof p.signal.reason&&p.signal.reason.includes("Timeout")||!1;if(w(e,x,E,"",o),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,t,s))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!b||E>b||!v.has(null!==(n=null==x?void 0:x.status)&&void 0!==n?n:500)){null===(i=this._emitter)||void 0===i||i.call(this,{name:"error",error:o,tag:f.ErrorTag.NetworkError,requestArgs:e});let n=`A networking error occurred during ${g} request to ${C}.`;return a.Log.error(n,t,o),null===(l=this._errorBoundary)||void 0===l||l.attachErrorIfNoneExists(n),null}return yield function(e){return r(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(e*e*500,3e4)))})}(E),this._sendRequest(Object.assign(Object.assign({},e),{retries:b,attempt:E+1}))}})}_isRateLimited(e){var t;let n=Date.now(),r=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:n},i=Math.floor((n-r.lastRequestTime)*.05);return r.count=Math.max(0,r.count-i),r.count>=50||(r.count+=1,r.lastRequestTime=n,this._leakyBucket[e]=r,!1)}_getPopulatedURL(e){var t;return r(this,void 0,void 0,function*(){let n=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();(e.urlConfig.endpoint===o.Endpoint._initialize||e.urlConfig.endpoint===o.Endpoint._download_config_specs)&&(this._lastUsedInitUrl=n);let r=Object.assign({[o.NetworkParam.SdkKey]:e.sdkKey,[o.NetworkParam.SdkType]:c.SDKType._get(e.sdkKey),[o.NetworkParam.SdkVersion]:g.SDK_VERSION,[o.NetworkParam.Time]:String(Date.now()),[o.NetworkParam.SessionID]:h.SessionID.get(e.sdkKey)},e.params),i=Object.keys(r).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`).join("&");return`${n}${i?`?${i}`:""}`})}_tryEncodeBody(e){var t;let n=(0,d._getWindowSafe)(),r=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof r&&null==(0,i._getStatsigGlobalFlag)("no-encode")&&(null==n?void 0:n.btoa))try{e.body=n.btoa(r).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[o.NetworkParam.StatsigEncoded]:"1"})}catch(t){a.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){var t;return r(this,void 0,void 0,function*(){let n=e.body;if(e.isCompressable&&!this._options.disableCompression&&"string"==typeof n&&!0===u.SDKFlags.get(e.sdkKey,"enable_log_event_compression")&&null==(0,i._getStatsigGlobalFlag)("no-compress")&&"undefined"!=typeof CompressionStream&&"undefined"!=typeof TextEncoder)try{let r;let i=new TextEncoder().encode(n),s=new CompressionStream("gzip"),l=s.writable.getWriter();l.write(i).catch(a.Log.error),l.close().catch(a.Log.error);let u=s.readable.getReader(),c=[];for(;!(r=yield u.read()).done;)c.push(r.value);let d=c.reduce((e,t)=>e+t.length,0),h=new Uint8Array(d),p=0;for(let e of c)h.set(e,p),p+=e.length;e.body=h,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[o.NetworkParam.IsGzipped]:"1"})}catch(t){a.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}})}_getInternalRequestArgs(e,t){let n=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),r=Object.assign(Object.assign({},t),{method:e,fallbackUrl:n});return"data"in t&&b(r,t.data),r}}t.NetworkCore=y;let _=e=>!!e.sdkKey||(a.Log.warn("Unable to make request without an SDK key"),!1),b=(e,t)=>{let{sdkKey:n,fallbackUrl:r}=e,i=p.StableID.get(n),s=h.SessionID.get(n),a=c.SDKType._get(n);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},g.StatsigMetadataProvider.get()),{stableID:i,sessionID:s,sdkType:a,fallbackUrl:r})}))};function w(e,t,n,r,i){e.urlConfig.endpoint===o.Endpoint._initialize&&s.Diagnostics._markInitNetworkReqEnd(e.sdkKey,s.Diagnostics._getDiagnosticsData(t,n,r,i))}},8345:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,s:()=>i});var r=n(2023);function i(e,t,n){if("object"!=typeof e||null===e)return JSON.stringify(e);let r=s(Object.prototype),i=s(Array.prototype),a=s(Object.getPrototypeOf(e)),o=s(e);try{return JSON.stringify(e,t,n)}catch(e){return"<error: unable to serialize object>"}finally{r(),i(),a(),o()}}function s(e){let t=e.toJSON;return t?(delete e.toJSON,()=>{e.toJSON=t}):r.l}},8403:(e,t,n)=>{"use strict";n.d(t,{V:()=>c,u:()=>d});var r=n(957),i=n(3870),s=n(565),a=n(5572),o=n(5004),l=n(5659),u=n(7132);let c={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function d(e,t){var n,r;let l=[];t.includes(c.cspViolation)&&l.push((n=e,new s.c(e=>{let{stop:t}=(0,a.q)(n,document,"securitypolicyviolation",t=>{e.notify(function(e){let t=`'${e.blockedURI}' blocked by '${e.effectiveDirective}' directive`;return h({type:e.effectiveDirective,message:`${c.cspViolation}: ${t}`,originalError:e,csp:{disposition:e.disposition},stack:p(e.effectiveDirective,e.originalPolicy?`${t} of the policy "${(0,o._R)(e.originalPolicy,100,"...")}"`:"no policy",e.sourceFile,e.lineNumber,e.columnNumber)})}(t))});return t})));let u=t.filter(e=>e!==c.cspViolation);return u.length&&l.push((r=u,new s.c(e=>{if(!window.ReportingObserver)return;let t=(0,i.dm)((t,n)=>t.forEach(t=>e.notify(function(e){let{type:t,body:n}=e;return h({type:n.id,message:`${t}: ${n.message}`,originalError:e,stack:p(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)})}(t)))),n=new window.ReportingObserver(t,{types:r,buffered:!0});return n.observe(),()=>{n.disconnect()}}))),(0,s.F)(...l)}function h(e){return{startClocks:(0,u.M8)(),source:l.g.REPORT,handling:"unhandled",...e}}function p(e,t,n,i,s){return n?(0,r.Yn)({name:e,message:t,stack:[{func:"?",url:n,line:null!=i?i:void 0,column:null!=s?s:void 0}]}):void 0}},8410:(e,t,n)=>{"use strict";function r(e,t){for(let n=e.length-1;n>=0;n-=1){let r=e[n];if(t(r,n,e))return r}}function i(e){return Object.values(e)}function s(e){return Object.entries(e)}n.d(t,{KQ:()=>i,Uk:()=>r,WP:()=>s})},8453:(e,t,n)=>{"use strict";n.d(t,{a:()=>o});var r=n(8778),i=n(905),s=n(8345);let a=220*i._m;function o(e,t=a){let n=(0,s.M)(Object.prototype),r=(0,s.M)(Array.prototype),i=[],c=new WeakMap,d=l(e,"$",void 0,i,c),h=JSON.stringify(d),p=h?h.length:0;if(p>t){u(t,"discarded",e);return}for(;i.length>0&&p<t;){let n=i.shift(),r=0;if(Array.isArray(n.source))for(let s=0;s<n.source.length;s++){let a=l(n.source[s],n.path,s,i,c);if(void 0!==a?p+=JSON.stringify(a).length:p+=4,p+=r,r=1,p>t){u(t,"truncated",e);break}n.target[s]=a}else for(let s in n.source)if(Object.prototype.hasOwnProperty.call(n.source,s)){let a=l(n.source[s],n.path,s,i,c);if(void 0!==a&&(p+=JSON.stringify(a).length+r+s.length+3,r=1),p>t){u(t,"truncated",e);break}n.target[s]=a}}return n(),r(),d}function l(e,t,n,r,i){let s=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!s||"object"!=typeof s){var a;return"bigint"==typeof(a=s)?`[BigInt] ${a.toString()}`:"function"==typeof a?`[Function] ${a.name||"unknown"}`:"symbol"==typeof a?`[Symbol] ${a.description||a.toString()}`:a}let o=function e(t){try{if(t instanceof Event){var n;return{type:(n=t).type,isTrusted:n.isTrusted,currentTarget:n.currentTarget?e(n.currentTarget):null,target:n.target?e(n.target):null}}if(t instanceof RegExp)return`[RegExp] ${t.toString()}`;let r=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(r&&r[1])return`[${r[1]}]`}catch(e){}return"[Unserializable]"}(s);if("[Object]"!==o&&"[Array]"!==o&&"[Error]"!==o)return o;if(i.has(e))return`[Reference seen at ${i.get(e)}]`;let l=void 0!==n?`${t}.${n}`:t,u=Array.isArray(s)?[]:{};return i.set(e,l),r.push({source:s,target:u,path:l}),u}function u(e,t,n){r.Vy.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,n)}},8471:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(8778);function i(e,t){return(...n)=>{try{return e(...n)}catch(e){r.Vy.error(t,e)}}}},8530:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,O:()=>i});var r=n(581);let i=globalThis;function s(e,t,n){let s=n||i,a=s.__SENTRY__=s.__SENTRY__||{},o=a[r.M]=a[r.M]||{};return o[e]||(o[e]=t())}},8536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=n(460);class i{constructor(e){this._sdkKey=e,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){!this._values&&(this._source="NoValues")}getValues(){return this._rawValues?(0,r._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(e,t){var n;if(!e)return!1;let i=(0,r._typedJsonParse)(e.data,"has_updates","EvaluationResponse");return null!=i&&(this._source=e.source,(null==i?void 0:i.has_updates)!==!0||(this._rawValues=e.data,this._lcut=i.time,this._receivedAt=e.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(e.source,i),e.source&&i.user&&this._setWarningState(t,i),r.SDKFlags.setFlags(this._sdkKey,null!==(n=i.sdk_flags)&&void 0!==n?n:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.feature_gates,e)}getConfig(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs,e)}getLayer(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.layer_configs,e)}getParamStore(e){var t;return this._getDetailedStoreResult(null===(t=this._values)||void 0===t?void 0:t.param_stores,e)}getSource(){return this._source}getExposureMapping(){var e;return null===(e=this._values)||void 0===e?void 0:e.exposures}_extractBootstrapMetadata(e,t){if("Bootstrap"!==e)return null;let n={};return t.user&&(n.user=t.user),t.sdkInfo&&(n.generatorSDKInfo=t.sdkInfo),n.lcut=t.time,n}_getDetailedStoreResult(e,t){let n=null;return e&&(n=e[t]?e[t]:e[(0,r._DJB2)(t)]),{result:n,details:this._getDetails(null==n)}}_setWarningState(e,t){var n;let i=r.StableID.get(this._sdkKey);if((null===(n=e.customIDs)||void 0===n?void 0:n.stableID)!==i){this._warnings.add("StableIDMismatch");return}if("user"in t){let n=t.user;(0,r._getFullUserHash)(e)!==(0,r._getFullUserHash)(n)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};let e={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(e.warnings=Array.from(this._warnings)),e}_getDetails(e){var t,n;let r=this.getCurrentSourceDetails(),i=r.reason,s=null!==(t=r.warnings)&&void 0!==t?t:[];"Bootstrap"===this._source&&s.length>0&&(i+=s[0]),"Uninitialized"!==i&&"NoValues"!==i&&(i=`${i}:${e?"Unrecognized":"Recognized"}`);let a="Bootstrap"===this._source&&null!==(n=this._bootstrapMetadata)&&void 0!==n?n:void 0;return a&&(r.bootstrapMetadata=a),Object.assign(Object.assign({},r),{reason:i})}}t.default=i},8615:(e,t,n)=>{"use strict";n.d(t,{mj:()=>l});var r=n(2460),i=n(7132),s=n(7090),a=n(144),o=n(5659);function l(e){var t,n;let l=(t,n)=>{let r=(0,a.As)({stackTrace:t,originalError:n,startClocks:(0,i.M8)(),nonErrorPrefix:"Uncaught",source:o.g.SOURCE,handling:"unhandled"});e.notify(r)},{stop:u}=(t=l,(0,r.H)(window,"onerror",({parameters:[e,n,r,i,o]})=>{let l;t((0,a.bJ)(o)?(0,s.T)(o):(0,s.h)(e,n,r,i),null!=o?o:e)})),{stop:c}=(n=l,(0,r.H)(window,"onunhandledrejection",({parameters:[e]})=>{let t=e.reason||"Empty reason";n((0,s.T)(t),t)}));return{stop:()=>{u(),c()}}}},8621:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t._isDomainFailure=t.NetworkFallbackResolver=void 0;let i=n(5404),s=n(1579),a=n(1414),o=n(6435);class l{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var n;let r=null===(n=this._fallbackInfo)||void 0===n?void 0:n[t.endpoint];r&&(r.expiryTime=Date.now()+6048e5,d(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:r})))}getActiveFallbackUrl(e,t){var n,r;let i=this._fallbackInfo;null==i&&(i=null!==(n=function(e){let t=c(e),n=o.Storage.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(e){return a.Log.error("Failed to parse FallbackInfo"),null}}(e))&&void 0!==n?n:{},this._fallbackInfo=i);let s=i[t.endpoint];return!s||Date.now()>(null!==(r=s.expiryTime)&&void 0!==r?r:0)?(delete i[t.endpoint],this._fallbackInfo=i,d(e,this._fallbackInfo),null):s.url?s.url:null}getFallbackFromProvided(e){let t=h(e);return t?e.replace(t,""):null}tryFetchUpdatedFallbackInfo(e,t,n,i){var s,a;return r(this,void 0,void 0,function*(){try{if(!u(n,i))return!1;let r=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,a=this._pickNewFallbackUrl(null===(s=this._fallbackInfo)||void 0===s?void 0:s[t.endpoint],r);if(!a)return!1;return this._updateFallbackInfoWithNewUrl(e,t.endpoint,a),!0}catch(e){return null===(a=this._errorBoundary)||void 0===a||a.logError("tryFetchUpdatedFallbackInfo",e),!1}})}_updateFallbackInfoWithNewUrl(e,t,n){var r,i,s;let a={url:n,expiryTime:Date.now()+6048e5,previous:[]},o=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t];o&&a.previous.push(...o.previous),a.previous.length>10&&(a.previous=[]);let l=null===(s=null===(i=this._fallbackInfo)||void 0===i?void 0:i[t])||void 0===s?void 0:s.url;null!=l&&a.previous.push(l),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[t]:a}),d(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){var t;return r(this,void 0,void 0,function*(){let n=this._dnsQueryCooldowns[e.endpoint];if(n&&Date.now()<n)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+144e5;let r=[],s=yield(0,i._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),a=h(e.defaultUrl);for(let t of s){if(!t.startsWith(e.endpointDnsKey+"="))continue;let n=t.split("=");if(n.length>1){let e=n[1];e.endsWith("/")&&(e=e.slice(0,-1)),r.push(`https://${e}${a}`)}}return r})}_pickNewFallbackUrl(e,t){var n;if(null==t)return null;let r=new Set(null!==(n=null==e?void 0:e.previous)&&void 0!==n?n:[]),i=null==e?void 0:e.url,s=null;for(let e of t){let t=e.endsWith("/")?e.slice(0,-1):e;if(!r.has(e)&&t!==i){s=t;break}}return s}}function u(e,t){var n;let r=null!==(n=null==e?void 0:e.toLowerCase())&&void 0!==n?n:"";return t||r.includes("uncaught exception")||r.includes("failed to fetch")||r.includes("networkerror when attempting to fetch resource")}function c(e){return`statsig.network_fallback.${(0,s._DJB2)(e)}`}function d(e,t){let n=c(e);if(!t||0===Object.keys(t).length){o.Storage.removeItem(n);return}o.Storage.setItem(n,JSON.stringify(t))}function h(e){try{return new URL(e).pathname}catch(e){return null}}t.NetworkFallbackResolver=l,t._isDomainFailure=u},8771:(e,t,n)=>{"use strict";n.d(t,{LE:()=>o,V7:()=>l,lu:()=>u});var r=n(2399),i=n(2584),s=n(3379),a=n(9542);function o(e,t,n,r){let a=(0,s.Cj)(n),o={sent_at:new Date().toISOString(),...a&&{sdk:a},...!!r&&t&&{dsn:(0,i.SB)(t)}},l="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,s.h4)(o,[l])}function l(e,t,n,r){var i;let a=(0,s.Cj)(n),o=e.type&&"replay_event"!==e.type?e.type:"event";(i=n&&n.sdk)&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||i.name,e.sdk.version=e.sdk.version||i.version,e.sdk.integrations=[...e.sdk.integrations||[],...i.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...i.packages||[]]);let l=(0,s.n2)(e,a,r,t);delete e.sdkProcessingMetadata;let u=[{type:o},e];return(0,s.h4)(l,[u])}function u(e,t){let n=(0,r.k1)(e[0]),o=t&&t.getDsn(),l=t&&t.getOptions().tunnel,u={sent_at:new Date().toISOString(),...!!n.trace_id&&!!n.public_key&&{trace:n},...!!l&&o&&{dsn:(0,i.SB)(o)}},c=t&&t.getOptions().beforeSendSpan,d=c?e=>{let t=c((0,a.et)(e));return t||(0,a.xl)(),t}:e=>(0,a.et)(e),h=[];for(let t of e){let e=d(t);e&&h.push((0,s.y5)(e))}return(0,s.h4)(u,h)}},8778:(e,t,n)=>{"use strict";n.d(t,{JZ:()=>i,Vy:()=>o,Xs:()=>u,Z9:()=>s,bP:()=>r,fH:()=>l,xG:()=>c});let r={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},i=console,s={};Object.keys(r).forEach(e=>{s[e]=i[e]});let a="Datadog Browser SDK:",o={debug:s.debug.bind(i,a),log:s.log.bind(i,a),info:s.info.bind(i,a),warn:s.warn.bind(i,a),error:s.error.bind(i,a)},l="https://docs.datadoghq.com",u=`${l}/real_user_monitoring/browser/troubleshooting`,c="More details:"},8812:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},8847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;let n=new Map,r="start";function i(e,t,n,r){return Object.assign({key:n,action:t,step:r,timestamp:Date.now()},e)}function s(e,t){var r;let i=null!==(r=n.get(e))&&void 0!==r?r:[];i.push(t),n.set(e,i)}function a(e,t){if(t in e)return e[t]}t.Diagnostics={_getMarkers:e=>n.get(e),_markInitOverallStart:e=>{s(e,i({},r,"overall"))},_markInitOverallEnd:(e,t,n)=>{s(e,i({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:n},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{s(e,i(t,r,"initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{s(e,i(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{s(e,i({},r,"initialize","process"))},_markInitProcessEnd:(e,t)=>{s(e,i(t,"end","initialize","process"))},_clearMarkers:e=>{n.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:a(e,"code"),name:a(e,"name"),message:a(e,"message")}},_getDiagnosticsData(e,n,r,i){var s;return{success:(null==e?void 0:e.ok)===!0,statusCode:null==e?void 0:e.status,sdkRegion:null===(s=null==e?void 0:e.headers)||void 0===s?void 0:s.get("x-statsig-region"),isDelta:!0===r.includes('"is_delta":true')||void 0,attempt:n,error:t.Diagnostics._formatError(i)}},_enqueueDiagnosticsEvent(e,n,r,i){let s=t.Diagnostics._getMarkers(r);if(null==s||s.length<=0)return -1;let a=s[s.length-1].timestamp-s[0].timestamp;t.Diagnostics._clearMarkers(r);let o={eventName:"statsig::diagnostics",user:e,value:null,metadata:{context:"initialize",markers:s.slice(),statsigOptions:i},time:Date.now()};return n.enqueue(o),a}}},8864:e=>{"use strict";e.exports=JSON.parse('{"id":"youtube-embed","description":"Embed a YouTube embed on your webpage.","website":"https://github.com/paulirish/lite-youtube-embed","html":{"element":"lite-youtube","attributes":{"videoid":null,"playlabel":null}},"stylesheets":["https://cdn.jsdelivr.net/gh/paulirish/lite-youtube-embed@master/src/lite-yt-embed.css"],"scripts":[{"url":"https://cdn.jsdelivr.net/gh/paulirish/lite-youtube-embed@master/src/lite-yt-embed.js","strategy":"idle","location":"head","action":"append"}]}')},8942:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});let r={STARTED:"started"},i={NO_PRELOAD:"no-preload"},s=(0,n(4792).vt)(e=>({intro:r.STARTED,setIntro:t=>e({intro:t}),assetsPreloaded:i.NO_PRELOAD,setAssetsPreloaded:t=>e({assetsPreloaded:t}),pageLifecycle:"starting",setPageLifecycle:t=>e({pageLifecycle:t}),browsingHistory:[],addToBrowsingHistory:t=>e(e=>({browsingHistory:[...e.browsingHistory,t]})),lastPath:null,setLastPath:t=>e({lastPath:t}),headerIsNavOpened:!1,setHeaderIsNavOpened:t=>e({headerIsNavOpened:t}),headerInView:!0,setHeaderInView:t=>e({headerInView:t}),headerIsDarkMode:!1,setHeaderIsDarkMode:t=>e({headerIsDarkMode:t}),headerIsMinimizedDesktop:!1,setHeaderIsMinimizedDesktop:t=>e({headerIsMinimizedDesktop:t}),headerIsMinimizedMobile:!1,setHeaderIsMinimizedMobile:t=>e({headerIsMinimizedMobile:t}),headerActiveSubNav:null,setHeaderActiveSubNav:t=>e({headerActiveSubNav:t}),mayaPlaceholderRef:null,setMayaPlaceholderRef:t=>e({mayaPlaceholderRef:t}),mayaIsInitialized:!1,setMayaIsInitialized:t=>e({mayaIsInitialized:t}),mayaDraggedPosition:{x:0,y:0},setMayaDraggedPosition:t=>e({mayaDraggedPosition:t}),mayaIsConnected:!1,setMayaIsConnected:t=>e({mayaIsConnected:t}),mayaIsPaused:!1,setMayaIsPaused:t=>e({mayaIsPaused:t}),mayaIsFloatingWidget:!1,setMayaIsFloatingWidget:t=>e({mayaIsFloatingWidget:t}),mayaPlaceholderTopPosition:!1,setMayaPlaceholderTopPosition:t=>e({mayaPlaceholderTopPosition:t}),blogFilterSelectedCategory:{slug:"all"},setBlogFilterSelectedCategory:t=>e({blogFilterSelectedCategory:t}),blogFilterActiveMonth:!1,setBlogFilterActiveMonth:t=>e({blogFilterActiveMonth:t}),blogFilterIsDropdownOpened:!1,setBlogFilterIsDropdownOpened:t=>e({blogFilterIsDropdownOpened:t}),blogFilterDropdownCategories:[],setBlogFilterDropdownCategories:t=>e({blogFilterDropdownCategories:t}),articleStickyHeadlineSafeSpace:0,setArticleStickyHeadlineSafeSpace:t=>e({articleStickyHeadlineSafeSpace:t})}))},8966:(e,t,n)=>{"use strict";n.d(t,{$A:()=>l,Bb:()=>r,Ih:()=>u,NW:()=>s,R8:()=>o,TC:()=>i,dV:()=>a});let r="datad0g.com",i="dd0g-gov.com",s="datadoghq.com",a="datadoghq.eu",o="ddog-gov.com",l="pci.browser-intake-datadoghq.com",u=["ddsource","ddtags"]},8976:(e,t,n)=>{"use strict";function r(e){let t=new Set;return e.forEach(e=>t.add(e)),Array.from(t)}function i(e,t){let n=e.indexOf(t);n>=0&&e.splice(n,1)}n.d(t,{A:()=>i,R:()=>r})},8987:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YouTubeEmbed=t.GoogleMapsEmbed=t.GoogleAnalytics=void 0;var r=n(6001);Object.defineProperty(t,"GoogleAnalytics",{enumerable:!0,get:function(){return r.GoogleAnalytics}});var i=n(1686);Object.defineProperty(t,"GoogleMapsEmbed",{enumerable:!0,get:function(){return i.GoogleMapsEmbed}});var s=n(7818);Object.defineProperty(t,"YouTubeEmbed",{enumerable:!0,get:function(){return s.YouTubeEmbed}})},9005:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UPDATE_DETAIL_ERROR_MESSAGES=t.createUpdateDetails=void 0,t.createUpdateDetails=(e,t,n,r,i,s)=>({duration:n,source:t,success:e,error:r,sourceUrl:i,warnings:s}),t.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."}},9095:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var r=l(n(4666)),i=l(n(8178)),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],a=["title","location"],o=["page","hitType"];function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}var y=function(){var e;function t(){var e=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),m(this,"reset",function(){e.isInitialized=!1,e._testMode=!1,e._currentMeasurementId,e._hasLoadedGA=!1,e._isQueuing=!1,e._queueGtag=[]}),m(this,"_gtag",function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e._testMode?e._queueGtag.push(n):e._isQueuing?e._queueGtag.push(n):r.default.apply(void 0,n)}),m(this,"_loadGA",function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://www.googletagmanager.com/gtag/js";if("undefined"!=typeof window&&"undefined"!=typeof document&&!e._hasLoadedGA){var i=document.createElement("script");i.async=!0,i.src="".concat(r,"?id=").concat(t),n&&i.setAttribute("nonce",n),document.body.appendChild(i),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},e._hasLoadedGA=!0}}),m(this,"_toGtagOptions",function(e){if(e){var t={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"};return Object.entries(e).reduce(function(e,n){var r=function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,a,o=[],l=!0,u=!1;try{s=(n=n.call(e)).next;for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}(n,2)||f(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],s=r[1];return t[i]?e[t[i]]=s:e[i]=s,e},{})}}),m(this,"initialize",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw Error("Require GA_MEASUREMENT_ID");var r="string"==typeof t?[{trackingId:t}]:t;e._currentMeasurementId=r[0].trackingId;var i=n.gaOptions,s=n.gtagOptions,a=n.nonce,o=n.testMode,l=void 0!==o&&o,u=n.gtagUrl;if(e._testMode=l,l||e._loadGA(e._currentMeasurementId,a,u),e.isInitialized||(e._gtag("js",new Date),r.forEach(function(t){var n=p(p(p({},e._toGtagOptions(p(p({},i),t.gaOptions))),s),t.gtagOptions);Object.keys(n).length?e._gtag("config",t.trackingId,n):e._gtag("config",t.trackingId)})),e.isInitialized=!0,!l){var c=d(e._queueGtag);for(e._queueGtag=[],e._isQueuing=!1;c.length;){var h=c.shift();e._gtag.apply(e,d(h)),"get"===h[0]&&(e._isQueuing=!0)}}}),m(this,"set",function(t){if(!t){console.warn("`fieldsObject` is required in .set()");return}if("object"!==c(t)){console.warn("Expected `fieldsObject` arg to be an Object");return}0===Object.keys(t).length&&console.warn("empty `fieldsObject` given to .set()"),e._gaCommand("set",t)}),m(this,"_gaCommandSendEvent",function(t,n,r,i,s){e._gtag("event",n,p(p({event_category:t,event_label:r,value:i},s&&{non_interaction:s.nonInteraction}),e._toGtagOptions(s)))}),m(this,"_gaCommandSendEventParameters",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if("string"==typeof n[0])e._gaCommandSendEvent.apply(e,d(n.slice(1)));else{var i=n[0],a=i.eventCategory,o=i.eventAction,l=i.eventLabel,c=i.eventValue,h=(i.hitType,u(i,s));e._gaCommandSendEvent(a,o,l,c,h)}}),m(this,"_gaCommandSendTiming",function(t,n,r,i){e._gtag("event","timing_complete",{name:n,value:r,event_category:t,event_label:i})}),m(this,"_gaCommandSendPageview",function(t,n){if(n&&Object.keys(n).length){var r=e._toGtagOptions(n),i=r.title,s=r.location,o=u(r,a);e._gtag("event","page_view",p(p(p(p({},t&&{page_path:t}),i&&{page_title:i}),s&&{page_location:s}),o))}else t?e._gtag("event","page_view",{page_path:t}):e._gtag("event","page_view")}),m(this,"_gaCommandSendPageviewParameters",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if("string"==typeof n[0])e._gaCommandSendPageview.apply(e,d(n.slice(1)));else{var i=n[0],s=i.page,a=(i.hitType,u(i,o));e._gaCommandSendPageview(s,a)}}),m(this,"_gaCommandSend",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="string"==typeof n[0]?n[0]:n[0].hitType;switch(i){case"event":e._gaCommandSendEventParameters.apply(e,n);break;case"pageview":e._gaCommandSendPageviewParameters.apply(e,n);break;case"timing":e._gaCommandSendTiming.apply(e,d(n.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(i));break;default:console.warn("Send command doesn't exist: ".concat(i))}}),m(this,"_gaCommandSet",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]=m({},n[0],n[1])),e._gtag("set",e._toGtagOptions(n[0]))}),m(this,"_gaCommand",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(t){case"send":e._gaCommandSend.apply(e,r);break;case"set":e._gaCommandSet.apply(e,r);break;default:console.warn("Command doesn't exist: ".concat(t))}}),m(this,"ga",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if("string"==typeof n[0])e._gaCommand.apply(e,n);else{var i=n[0];e._gtag("get",e._currentMeasurementId,"client_id",function(t){e._isQueuing=!1;var n=e._queueGtag;for(i({get:function(n){return"clientId"===n?t:"trackingId"===n?e._currentMeasurementId:"apiVersion"===n?"1":void 0}});n.length;){var r=n.shift();e._gtag.apply(e,d(r))}}),e._isQueuing=!0}return e.ga}),m(this,"event",function(t,n){if("string"==typeof t)e._gtag("event",t,e._toGtagOptions(n));else{var r=t.action,s=t.category,a=t.label,o=t.value,l=t.nonInteraction,u=t.transport;if(!s||!r){console.warn("args.category AND args.action are required in event()");return}var c={hitType:"event",eventCategory:(0,i.default)(s),eventAction:(0,i.default)(r)};a&&(c.eventLabel=(0,i.default)(a)),void 0!==o&&("number"!=typeof o?console.warn("Expected `args.value` arg to be a Number."):c.eventValue=o),void 0!==l&&("boolean"!=typeof l?console.warn("`args.nonInteraction` must be a boolean."):c.nonInteraction=l),void 0!==u&&("string"!=typeof u?console.warn("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(u)&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),c.transport=u)),e._gaCommand("send",c)}}),m(this,"send",function(t){e._gaCommand("send",t)}),this.reset()}return e=[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();t.GA4=y,t.default=new y},9112:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(846),i=n(6883),s=n(4792),a=n(7460);let o=!1,l=(0,s.vt)()((e,t)=>({user:void 0,isLoggedInUser:!1,isLoading:!0,isFirebaseInitialized:!1,auth:void 0,loginWithPopup:!1,signInWithGoogle:async()=>{let e=a.b.getAnalyticsManager();null==e||e.track(new r.F8,!0);let{auth:n}=t(),{user:s}=t(),o=new i.HF;o.addScope("profile"),o.addScope("email"),o.setCustomParameters({prompt:"select_account"});let l=t().loginWithPopup;try{let e=a.b.getAnalyticsManager();null!=s&&s.isAnonymous?l?(await (0,i.x8)(s,o),null==e||e.track(new r.fC,!0)):await (0,i.dC)(s,o):l?(await (0,i.df)(n,o),null==e||e.track(new r.fC,!0)):await (0,i.$2)(n,o)}catch(e){u(n,e)}},logout:async()=>{let t=(0,i.xI)();try{await (0,i.CI)(t),e({isLoading:!0})}catch(e){u(t,e)}},setLoading:t=>e({isLoading:t}),initialize:t=>{if(l.getState().isFirebaseInitialized)return;let n=(0,i.xI)();(0,i.hg)(n,async t=>{try{let e=await (0,i.Q4)(n);if(null!=e&&!o){let e=a.b.getAnalyticsManager();null==e||e.track(new r.fC,!0),o=!0}}catch(e){u(n,e);return}e({user:t,isLoggedInUser:null!=t&&!t.isAnonymous,isLoading:!1})}),e({auth:n,loginWithPopup:t,isFirebaseInitialized:!0})}}));function u(e,t){if("auth/credential-already-in-use"===t.code)c(e,t);else if("auth/cancelled-popup-request"===t.code||"auth/popup-closed-by-user"===t.code);else{let e=a.b.getAnalyticsManager();throw null==e||e.track(new r.qg(t.code,t.message),!0),t}}async function c(e,t){let n=i.LD.credentialFromError(t);await (0,i.eN)(e,n);let s=a.b.getAnalyticsManager();null==s||s.track(new r.fC,!0)}},9146:(e,t,n)=>{"use strict";n.d(t,{k3:()=>a,lu:()=>i,zf:()=>s});var r=n(8530);function i(){return Date.now()/1e3}let s=function(){let{performance:e}=r.O;if(!e||!e.now)return i;let t=Date.now()-e.now(),n=void 0==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),a=(()=>{let{performance:e}=r.O;if(!e||!e.now)return;let t=e.now(),n=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+t-n):36e5,s=e.timing&&e.timing.navigationStart,a="number"==typeof s?Math.abs(s+t-n):36e5;return i<36e5||a<36e5?i<=a?e.timeOrigin:s:n})()},9189:(e,t,n)=>{"use strict";n.d(t,{Vu:()=>l,fj:()=>a,qO:()=>o});var r=n(120),i=n(9146),s=n(3399);function a(e){let t=(0,i.zf)(),n={sid:(0,s.eJ)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>{var e;return e=n,(0,r.Ce)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}};return e&&o(n,e),n}function o(e,t={}){if(!t.user||(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,i.zf)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,s.eJ)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{let t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),o(e,n)}},9235:(e,t)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.SDKType=void 0;let r={};t.SDKType={_get:e=>{var t;return(null!==(t=r[e])&&void 0!==t?t:"js-mono")+(null!=n?n:"")},_setClientType(e,t){r[e]=t},_setBindingType(e){n&&"-react"!==n||(n="-"+e)}}},9258:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6464),a=n(5273);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return i(this,function(n){switch(n.label){case 0:return[4,new o(e,s.getSanitizedOptions(t)).execute()];case 1:return[2,n.sent()]}})})};var o=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()},9294:(e,t,n)=>{"use strict";n.d(t,{D:()=>s,w:()=>i});var r=n(565);let i={GRANTED:"granted",NOT_GRANTED:"not-granted"};function s(e){let t=new r.c;return{tryToInit(t){e||(e=t)},update(n){e=n,t.notify()},isGranted:()=>e===i.GRANTED,observable:t}}},9366:(e,t,n)=>{"use strict";e.exports=n(2732)},9388:(e,t,n)=>{"use strict";e.exports=n(923)},9423:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getFullUserHash=t._normalizeUser=void 0;let r=n(1579),i=n(1414);t._normalizeUser=function(e,t,n){try{let r=JSON.parse(JSON.stringify(e));return null!=t&&null!=t.environment?r.statsigEnvironment=t.environment:null!=n&&(r.statsigEnvironment={tier:n}),r}catch(e){return i.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}},t._getFullUserHash=function(e){return e?(0,r._DJB2Object)(e):null}},9539:(e,t,n)=>{"use strict";var r=n(6604);Object.defineProperty(t,"__esModule",{value:!0}),t._getCurrentPageUrlSafe=t._addDocumentEventListenerSafe=t._addWindowEventListenerSafe=t._isServerEnv=t._getDocumentSafe=t._getWindowSafe=void 0,t._getWindowSafe=()=>"undefined"!=typeof window?window:null,t._getDocumentSafe=()=>{var e;let n=(0,t._getWindowSafe)();return null!==(e=null==n?void 0:n.document)&&void 0!==e?e:null},t._isServerEnv=()=>{if(null!==(0,t._getDocumentSafe)())return!1;let e=void 0!==r&&null!=r.versions&&null!=r.versions.node;return"string"==typeof EdgeRuntime||e},t._addWindowEventListenerSafe=(e,n)=>{let r=(0,t._getWindowSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,n)},t._addDocumentEventListenerSafe=(e,n)=>{let r=(0,t._getDocumentSafe)();"function"==typeof(null==r?void 0:r.addEventListener)&&r.addEventListener(e,n)},t._getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,t._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}}},9542:(e,t,n)=>{"use strict";n.d(t,{Bk:()=>R,CC:()=>g,Ck:()=>y,Hu:()=>x,Qh:()=>b,VS:()=>A,aO:()=>m,cI:()=>w,et:()=>k,kX:()=>_,pK:()=>E,xO:()=>M,xl:()=>P,yW:()=>T,zU:()=>O});var r=n(4788),i=n(7509),s=n(2229),a=n(7064),o=n(5838),l=n(7074),u=n(5587),c=n(120),d=n(2670),h=n(9146),p=n(4007),f=n(7060);let g=0,m=1,v=!1;function y(e){let{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:a,origin:o}=k(e);return(0,c.Ce)({parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:a,origin:o})}function _(e){let{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:k(e).parent_span_id,s=r?(0,d.ZF)():t;return(0,c.Ce)({parent_span_id:i,span_id:s,trace_id:n})}function b(e){let{traceId:t,spanId:n}=e.spanContext(),r=E(e);return(0,p.TC)(t,n,r)}function w(e){return"number"==typeof e?S(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?S(e.getTime()):(0,h.zf)()}function S(e){return e>0x2540be3ff?e/1e3:e}function k(e){if("function"==typeof e.getSpanJSON)return e.getSpanJSON();try{var t;let{spanId:n,traceId:r}=e.spanContext();if((t=e).attributes&&t.startTime&&t.name&&t.endTime&&t.status){let{attributes:t,startTime:i,name:s,endTime:l,parentSpanId:u,status:d}=e;return(0,c.Ce)({span_id:n,trace_id:r,data:t,description:s,parent_span_id:u,start_timestamp:w(i),timestamp:w(l)||void 0,status:T(d),op:t[o.uT],origin:t[o.JD],_metrics_summary:(0,a.g)(e)})}return{span_id:n,trace_id:r}}catch(e){return{}}}function E(e){let{traceFlags:t}=e.spanContext();return t===m}function T(e){return e&&e.code!==l.a3?e.code===l.F3?"ok":e.message||"unknown_error":void 0}let I="_sentryChildSpans",C="_sentryRootSpan";function x(e,t){let n=e[C]||e;(0,c.my)(t,C,n),e[I]?e[I].add(t):(0,c.my)(e,I,new Set([t]))}function A(e,t){e[I]&&e[I].delete(t)}function M(e){let t=new Set;return function e(n){if(!t.has(n)&&E(n))for(let r of(t.add(n),n[I]?Array.from(n[I]):[]))e(r)}(e),Array.from(t)}function O(e){return e[C]||e}function R(){let e=(0,i.E)(),t=(0,r.h)(e);return t.getActiveSpan?t.getActiveSpan():(0,f.f)((0,s.o5)())}function P(){v||((0,u.pq)(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),v=!0)}},9555:(e,t,n)=>{"use strict";n.d(t,{A:()=>l,R:()=>o});var r=n(6594),i=n(846),s=n(7178);let a=s.createContext(null);function o(){return s.useContext(a)}let l=e=>{let{children:t,...n}=e,{sesameEnv:o,statSigKey:l}=n,[u,c]=s.useState(null),d=s.useCallback(async e=>{null==u&&(await e.initialize(o,l),c(e))},[u]);return s.useEffect(()=>{null==u&&d(new i.WP)},[l,d,a,u]),(0,r.jsx)(a.Provider,{value:u,"data-sentry-element":"unknown","data-sentry-component":"FeatureFlagManagerProvider","data-sentry-source-file":"FeatureFlagManagerProvider.tsx",children:t})}},9589:(e,t,n)=>{"use strict";n.d(t,{DJ:()=>o,vG:()=>u,wg:()=>a,yb:()=>l});var r=n(4343),i=n(3870),s=n(4960);function a(e,t){return(0,r.W)((0,s.V)(),"setTimeout")((0,i.dm)(e),t)}function o(e){(0,r.W)((0,s.V)(),"clearTimeout")(e)}function l(e,t){return(0,r.W)((0,s.V)(),"setInterval")((0,i.dm)(e),t)}function u(e){(0,r.W)((0,s.V)(),"clearInterval")(e)}},9886:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{html:t,scripts:n,stylesheets:r}=(0,a.YouTubeEmbed)(e);return(0,i.jsx)(o.default,{height:e.height||null,width:e.width||null,html:t,dataNtpc:"YouTubeEmbed",children:null==n?void 0:n.map(e=>(0,i.jsx)(s.default,{src:e.url,strategy:l[e.strategy],stylesheets:r},e.url))})};let i=n(6594),s=r(n(3490)),a=n(8987),o=r(n(2128)),l={server:"beforeInteractive",client:"afterInteractive",idle:"lazyOnload",worker:"worker"}},9915:(e,t,n)=>{"use strict";n.d(t,{D0:()=>c,De:()=>u,sv:()=>a,yD:()=>l});var r=n(8051),i=n(2419),s=n(5587);let a="sentry-",o=/^sentry-/;function l(e){let t=c(e);if(!t)return;let n=Object.entries(t).reduce((e,[t,n])=>(t.match(o)&&(e[t.slice(a.length)]=n),e),{});return Object.keys(n).length>0?n:void 0}function u(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce((e,[t,n],i)=>{let a=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===i?a:`${e},${a}`;return o.length>8192?(r.T&&s.vF.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o},"")}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${a}${t}`]=n),e),{}))}function c(e){return e&&((0,i.Kg)(e)||Array.isArray(e))?Array.isArray(e)?e.reduce((e,t)=>(Object.entries(d(t)).forEach(([t,n])=>{e[t]=n}),e),{}):d(e):void 0}function d(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{})}},9986:(e,t,n)=>{"use strict";n.d(t,{X6:()=>a,aj:()=>s,ao:()=>i});var r=n(5955);function i(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||(0,r.B9)("datadog-synthetics-injects-rum"))}function s(){let e=window._DATADOG_SYNTHETICS_PUBLIC_ID||(0,r.B9)("datadog-synthetics-public-id");return"string"==typeof e?e:void 0}function a(){let e=window._DATADOG_SYNTHETICS_RESULT_ID||(0,r.B9)("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(7934),t(5951),t(3244))),_N_E=e.O()}]);